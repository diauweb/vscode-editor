/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/strings","vs/base/common/platform","vs/base/common/path","vs/base/common/event","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/buffer","vs/base/common/network","vs/base/common/uri","vs/base/common/glob","vs/base/common/map","vs/base/common/extpath","vs/base/common/resources","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/platform/instantiation/common/instantiation","vs/editor/common/modes","vs/base/common/numbers","vs/base/common/codicons","vs/base/common/stream","vs/base/common/errors","vs/base/common/arrays","vs/base/common/async","vs/base/common/mime","vs/editor/common/core/stringBuilder","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textChange","vs/editor/common/core/position","vs/editor/common/model","vs/editor/common/modes/languageSelector","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/modelService","vs/editor/common/modes/languageFeatureRegistry","vs/base/common/hash","vs/editor/common/core/lineTokens","vs/editor/common/model/tokensStore","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/types","vs/base/common/cancellation","vs/editor/common/model/textModelSearch","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff"],te=function(Z){for(var t=[],U=0,D=Z.length;U<D;U++)t[U]=ee[Z[U]];return t};define(ee[18],te([0,1]),function(Z,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MovingAverage=t.Counter=t.rot=t.clamp=void 0;function U(e,S,N){return Math.min(Math.max(e,S),N)}t.clamp=U;function D(e,S){return(S+e%S)%S}t.rot=D;class M{constructor(){this._next=0}getNext(){return this._next++}}t.Counter=M;class A{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this}get value(){return this._val}}t.MovingAverage=A}),define(ee[19],te([0,1,5]),function(Z,t,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSSIcon=t.getClassNamesArray=t.Codicon=t.getCodiconAriaLabel=t.iconRegistry=void 0;class D{constructor(){this._icons=new Map,this._onDidRegister=new U.Emitter}add(E){const T=this._icons.get(E.id);T?E.description?T.description=E.description:console.error(`Duplicate registration of codicon ${E.id}`):(this._icons.set(E.id,E),this._onDidRegister.fire(E))}get(E){return this._icons.get(E)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const M=new D;t.iconRegistry=M;function A(C){return C?C.replace(/\$\((.*?)\)/g,(E,T)=>` ${T} `).trim():""}t.getCodiconAriaLabel=A;class e{constructor(E,T,k){this.id=E,this.definition=T,this.description=k,M.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}t.Codicon=e,e.add=new e("add",{fontCharacter:"\\ea60"}),e.plus=new e("plus",e.add.definition),e.gistNew=new e("gist-new",e.add.definition),e.repoCreate=new e("repo-create",e.add.definition),e.lightbulb=new e("lightbulb",{fontCharacter:"\\ea61"}),e.lightBulb=new e("light-bulb",{fontCharacter:"\\ea61"}),e.repo=new e("repo",{fontCharacter:"\\ea62"}),e.repoDelete=new e("repo-delete",{fontCharacter:"\\ea62"}),e.gistFork=new e("gist-fork",{fontCharacter:"\\ea63"}),e.repoForked=new e("repo-forked",{fontCharacter:"\\ea63"}),e.gitPullRequest=new e("git-pull-request",{fontCharacter:"\\ea64"}),e.gitPullRequestAbandoned=new e("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),e.recordKeys=new e("record-keys",{fontCharacter:"\\ea65"}),e.keyboard=new e("keyboard",{fontCharacter:"\\ea65"}),e.tag=new e("tag",{fontCharacter:"\\ea66"}),e.tagAdd=new e("tag-add",{fontCharacter:"\\ea66"}),e.tagRemove=new e("tag-remove",{fontCharacter:"\\ea66"}),e.person=new e("person",{fontCharacter:"\\ea67"}),e.personFollow=new e("person-follow",{fontCharacter:"\\ea67"}),e.personOutline=new e("person-outline",{fontCharacter:"\\ea67"}),e.personFilled=new e("person-filled",{fontCharacter:"\\ea67"}),e.gitBranch=new e("git-branch",{fontCharacter:"\\ea68"}),e.gitBranchCreate=new e("git-branch-create",{fontCharacter:"\\ea68"}),e.gitBranchDelete=new e("git-branch-delete",{fontCharacter:"\\ea68"}),e.sourceControl=new e("source-control",{fontCharacter:"\\ea68"}),e.mirror=new e("mirror",{fontCharacter:"\\ea69"}),e.mirrorPublic=new e("mirror-public",{fontCharacter:"\\ea69"}),e.star=new e("star",{fontCharacter:"\\ea6a"}),e.starAdd=new e("star-add",{fontCharacter:"\\ea6a"}),e.starDelete=new e("star-delete",{fontCharacter:"\\ea6a"}),e.starEmpty=new e("star-empty",{fontCharacter:"\\ea6a"}),e.comment=new e("comment",{fontCharacter:"\\ea6b"}),e.commentAdd=new e("comment-add",{fontCharacter:"\\ea6b"}),e.alert=new e("alert",{fontCharacter:"\\ea6c"}),e.warning=new e("warning",{fontCharacter:"\\ea6c"}),e.search=new e("search",{fontCharacter:"\\ea6d"}),e.searchSave=new e("search-save",{fontCharacter:"\\ea6d"}),e.logOut=new e("log-out",{fontCharacter:"\\ea6e"}),e.signOut=new e("sign-out",{fontCharacter:"\\ea6e"}),e.logIn=new e("log-in",{fontCharacter:"\\ea6f"}),e.signIn=new e("sign-in",{fontCharacter:"\\ea6f"}),e.eye=new e("eye",{fontCharacter:"\\ea70"}),e.eyeUnwatch=new e("eye-unwatch",{fontCharacter:"\\ea70"}),e.eyeWatch=new e("eye-watch",{fontCharacter:"\\ea70"}),e.circleFilled=new e("circle-filled",{fontCharacter:"\\ea71"}),e.primitiveDot=new e("primitive-dot",{fontCharacter:"\\ea71"}),e.closeDirty=new e("close-dirty",{fontCharacter:"\\ea71"}),e.debugBreakpoint=new e("debug-breakpoint",{fontCharacter:"\\ea71"}),e.debugBreakpointDisabled=new e("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),e.debugHint=new e("debug-hint",{fontCharacter:"\\ea71"}),e.primitiveSquare=new e("primitive-square",{fontCharacter:"\\ea72"}),e.edit=new e("edit",{fontCharacter:"\\ea73"}),e.pencil=new e("pencil",{fontCharacter:"\\ea73"}),e.info=new e("info",{fontCharacter:"\\ea74"}),e.issueOpened=new e("issue-opened",{fontCharacter:"\\ea74"}),e.gistPrivate=new e("gist-private",{fontCharacter:"\\ea75"}),e.gitForkPrivate=new e("git-fork-private",{fontCharacter:"\\ea75"}),e.lock=new e("lock",{fontCharacter:"\\ea75"}),e.mirrorPrivate=new e("mirror-private",{fontCharacter:"\\ea75"}),e.close=new e("close",{fontCharacter:"\\ea76"}),e.removeClose=new e("remove-close",{fontCharacter:"\\ea76"}),e.x=new e("x",{fontCharacter:"\\ea76"}),e.repoSync=new e("repo-sync",{fontCharacter:"\\ea77"}),e.sync=new e("sync",{fontCharacter:"\\ea77"}),e.clone=new e("clone",{fontCharacter:"\\ea78"}),e.desktopDownload=new e("desktop-download",{fontCharacter:"\\ea78"}),e.beaker=new e("beaker",{fontCharacter:"\\ea79"}),e.microscope=new e("microscope",{fontCharacter:"\\ea79"}),e.vm=new e("vm",{fontCharacter:"\\ea7a"}),e.deviceDesktop=new e("device-desktop",{fontCharacter:"\\ea7a"}),e.file=new e("file",{fontCharacter:"\\ea7b"}),e.fileText=new e("file-text",{fontCharacter:"\\ea7b"}),e.more=new e("more",{fontCharacter:"\\ea7c"}),e.ellipsis=new e("ellipsis",{fontCharacter:"\\ea7c"}),e.kebabHorizontal=new e("kebab-horizontal",{fontCharacter:"\\ea7c"}),e.mailReply=new e("mail-reply",{fontCharacter:"\\ea7d"}),e.reply=new e("reply",{fontCharacter:"\\ea7d"}),e.organization=new e("organization",{fontCharacter:"\\ea7e"}),e.organizationFilled=new e("organization-filled",{fontCharacter:"\\ea7e"}),e.organizationOutline=new e("organization-outline",{fontCharacter:"\\ea7e"}),e.newFile=new e("new-file",{fontCharacter:"\\ea7f"}),e.fileAdd=new e("file-add",{fontCharacter:"\\ea7f"}),e.newFolder=new e("new-folder",{fontCharacter:"\\ea80"}),e.fileDirectoryCreate=new e("file-directory-create",{fontCharacter:"\\ea80"}),e.trash=new e("trash",{fontCharacter:"\\ea81"}),e.trashcan=new e("trashcan",{fontCharacter:"\\ea81"}),e.history=new e("history",{fontCharacter:"\\ea82"}),e.clock=new e("clock",{fontCharacter:"\\ea82"}),e.folder=new e("folder",{fontCharacter:"\\ea83"}),e.fileDirectory=new e("file-directory",{fontCharacter:"\\ea83"}),e.symbolFolder=new e("symbol-folder",{fontCharacter:"\\ea83"}),e.logoGithub=new e("logo-github",{fontCharacter:"\\ea84"}),e.markGithub=new e("mark-github",{fontCharacter:"\\ea84"}),e.github=new e("github",{fontCharacter:"\\ea84"}),e.terminal=new e("terminal",{fontCharacter:"\\ea85"}),e.console=new e("console",{fontCharacter:"\\ea85"}),e.repl=new e("repl",{fontCharacter:"\\ea85"}),e.zap=new e("zap",{fontCharacter:"\\ea86"}),e.symbolEvent=new e("symbol-event",{fontCharacter:"\\ea86"}),e.error=new e("error",{fontCharacter:"\\ea87"}),e.stop=new e("stop",{fontCharacter:"\\ea87"}),e.variable=new e("variable",{fontCharacter:"\\ea88"}),e.symbolVariable=new e("symbol-variable",{fontCharacter:"\\ea88"}),e.array=new e("array",{fontCharacter:"\\ea8a"}),e.symbolArray=new e("symbol-array",{fontCharacter:"\\ea8a"}),e.symbolModule=new e("symbol-module",{fontCharacter:"\\ea8b"}),e.symbolPackage=new e("symbol-package",{fontCharacter:"\\ea8b"}),e.symbolNamespace=new e("symbol-namespace",{fontCharacter:"\\ea8b"}),e.symbolObject=new e("symbol-object",{fontCharacter:"\\ea8b"}),e.symbolMethod=new e("symbol-method",{fontCharacter:"\\ea8c"}),e.symbolFunction=new e("symbol-function",{fontCharacter:"\\ea8c"}),e.symbolConstructor=new e("symbol-constructor",{fontCharacter:"\\ea8c"}),e.symbolBoolean=new e("symbol-boolean",{fontCharacter:"\\ea8f"}),e.symbolNull=new e("symbol-null",{fontCharacter:"\\ea8f"}),e.symbolNumeric=new e("symbol-numeric",{fontCharacter:"\\ea90"}),e.symbolNumber=new e("symbol-number",{fontCharacter:"\\ea90"}),e.symbolStructure=new e("symbol-structure",{fontCharacter:"\\ea91"}),e.symbolStruct=new e("symbol-struct",{fontCharacter:"\\ea91"}),e.symbolParameter=new e("symbol-parameter",{fontCharacter:"\\ea92"}),e.symbolTypeParameter=new e("symbol-type-parameter",{fontCharacter:"\\ea92"}),e.symbolKey=new e("symbol-key",{fontCharacter:"\\ea93"}),e.symbolText=new e("symbol-text",{fontCharacter:"\\ea93"}),e.symbolReference=new e("symbol-reference",{fontCharacter:"\\ea94"}),e.goToFile=new e("go-to-file",{fontCharacter:"\\ea94"}),e.symbolEnum=new e("symbol-enum",{fontCharacter:"\\ea95"}),e.symbolValue=new e("symbol-value",{fontCharacter:"\\ea95"}),e.symbolRuler=new e("symbol-ruler",{fontCharacter:"\\ea96"}),e.symbolUnit=new e("symbol-unit",{fontCharacter:"\\ea96"}),e.activateBreakpoints=new e("activate-breakpoints",{fontCharacter:"\\ea97"}),e.archive=new e("archive",{fontCharacter:"\\ea98"}),e.arrowBoth=new e("arrow-both",{fontCharacter:"\\ea99"}),e.arrowDown=new e("arrow-down",{fontCharacter:"\\ea9a"}),e.arrowLeft=new e("arrow-left",{fontCharacter:"\\ea9b"}),e.arrowRight=new e("arrow-right",{fontCharacter:"\\ea9c"}),e.arrowSmallDown=new e("arrow-small-down",{fontCharacter:"\\ea9d"}),e.arrowSmallLeft=new e("arrow-small-left",{fontCharacter:"\\ea9e"}),e.arrowSmallRight=new e("arrow-small-right",{fontCharacter:"\\ea9f"}),e.arrowSmallUp=new e("arrow-small-up",{fontCharacter:"\\eaa0"}),e.arrowUp=new e("arrow-up",{fontCharacter:"\\eaa1"}),e.bell=new e("bell",{fontCharacter:"\\eaa2"}),e.bold=new e("bold",{fontCharacter:"\\eaa3"}),e.book=new e("book",{fontCharacter:"\\eaa4"}),e.bookmark=new e("bookmark",{fontCharacter:"\\eaa5"}),e.debugBreakpointConditionalUnverified=new e("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),e.debugBreakpointConditional=new e("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),e.debugBreakpointConditionalDisabled=new e("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),e.debugBreakpointDataUnverified=new e("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),e.debugBreakpointData=new e("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),e.debugBreakpointDataDisabled=new e("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),e.debugBreakpointLogUnverified=new e("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),e.debugBreakpointLog=new e("debug-breakpoint-log",{fontCharacter:"\\eaab"}),e.debugBreakpointLogDisabled=new e("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),e.briefcase=new e("briefcase",{fontCharacter:"\\eaac"}),e.broadcast=new e("broadcast",{fontCharacter:"\\eaad"}),e.browser=new e("browser",{fontCharacter:"\\eaae"}),e.bug=new e("bug",{fontCharacter:"\\eaaf"}),e.calendar=new e("calendar",{fontCharacter:"\\eab0"}),e.caseSensitive=new e("case-sensitive",{fontCharacter:"\\eab1"}),e.check=new e("check",{fontCharacter:"\\eab2"}),e.checklist=new e("checklist",{fontCharacter:"\\eab3"}),e.chevronDown=new e("chevron-down",{fontCharacter:"\\eab4"}),e.dropDownButton=new e("drop-down-button",e.chevronDown.definition),e.chevronLeft=new e("chevron-left",{fontCharacter:"\\eab5"}),e.chevronRight=new e("chevron-right",{fontCharacter:"\\eab6"}),e.chevronUp=new e("chevron-up",{fontCharacter:"\\eab7"}),e.chromeClose=new e("chrome-close",{fontCharacter:"\\eab8"}),e.chromeMaximize=new e("chrome-maximize",{fontCharacter:"\\eab9"}),e.chromeMinimize=new e("chrome-minimize",{fontCharacter:"\\eaba"}),e.chromeRestore=new e("chrome-restore",{fontCharacter:"\\eabb"}),e.circleOutline=new e("circle-outline",{fontCharacter:"\\eabc"}),e.debugBreakpointUnverified=new e("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),e.circleSlash=new e("circle-slash",{fontCharacter:"\\eabd"}),e.circuitBoard=new e("circuit-board",{fontCharacter:"\\eabe"}),e.clearAll=new e("clear-all",{fontCharacter:"\\eabf"}),e.clippy=new e("clippy",{fontCharacter:"\\eac0"}),e.closeAll=new e("close-all",{fontCharacter:"\\eac1"}),e.cloudDownload=new e("cloud-download",{fontCharacter:"\\eac2"}),e.cloudUpload=new e("cloud-upload",{fontCharacter:"\\eac3"}),e.code=new e("code",{fontCharacter:"\\eac4"}),e.collapseAll=new e("collapse-all",{fontCharacter:"\\eac5"}),e.colorMode=new e("color-mode",{fontCharacter:"\\eac6"}),e.commentDiscussion=new e("comment-discussion",{fontCharacter:"\\eac7"}),e.compareChanges=new e("compare-changes",{fontCharacter:"\\eafd"}),e.creditCard=new e("credit-card",{fontCharacter:"\\eac9"}),e.dash=new e("dash",{fontCharacter:"\\eacc"}),e.dashboard=new e("dashboard",{fontCharacter:"\\eacd"}),e.database=new e("database",{fontCharacter:"\\eace"}),e.debugContinue=new e("debug-continue",{fontCharacter:"\\eacf"}),e.debugDisconnect=new e("debug-disconnect",{fontCharacter:"\\ead0"}),e.debugPause=new e("debug-pause",{fontCharacter:"\\ead1"}),e.debugRestart=new e("debug-restart",{fontCharacter:"\\ead2"}),e.debugStart=new e("debug-start",{fontCharacter:"\\ead3"}),e.debugStepInto=new e("debug-step-into",{fontCharacter:"\\ead4"}),e.debugStepOut=new e("debug-step-out",{fontCharacter:"\\ead5"}),e.debugStepOver=new e("debug-step-over",{fontCharacter:"\\ead6"}),e.debugStop=new e("debug-stop",{fontCharacter:"\\ead7"}),e.debug=new e("debug",{fontCharacter:"\\ead8"}),e.deviceCameraVideo=new e("device-camera-video",{fontCharacter:"\\ead9"}),e.deviceCamera=new e("device-camera",{fontCharacter:"\\eada"}),e.deviceMobile=new e("device-mobile",{fontCharacter:"\\eadb"}),e.diffAdded=new e("diff-added",{fontCharacter:"\\eadc"}),e.diffIgnored=new e("diff-ignored",{fontCharacter:"\\eadd"}),e.diffModified=new e("diff-modified",{fontCharacter:"\\eade"}),e.diffRemoved=new e("diff-removed",{fontCharacter:"\\eadf"}),e.diffRenamed=new e("diff-renamed",{fontCharacter:"\\eae0"}),e.diff=new e("diff",{fontCharacter:"\\eae1"}),e.discard=new e("discard",{fontCharacter:"\\eae2"}),e.editorLayout=new e("editor-layout",{fontCharacter:"\\eae3"}),e.emptyWindow=new e("empty-window",{fontCharacter:"\\eae4"}),e.exclude=new e("exclude",{fontCharacter:"\\eae5"}),e.extensions=new e("extensions",{fontCharacter:"\\eae6"}),e.eyeClosed=new e("eye-closed",{fontCharacter:"\\eae7"}),e.fileBinary=new e("file-binary",{fontCharacter:"\\eae8"}),e.fileCode=new e("file-code",{fontCharacter:"\\eae9"}),e.fileMedia=new e("file-media",{fontCharacter:"\\eaea"}),e.filePdf=new e("file-pdf",{fontCharacter:"\\eaeb"}),e.fileSubmodule=new e("file-submodule",{fontCharacter:"\\eaec"}),e.fileSymlinkDirectory=new e("file-symlink-directory",{fontCharacter:"\\eaed"}),e.fileSymlinkFile=new e("file-symlink-file",{fontCharacter:"\\eaee"}),e.fileZip=new e("file-zip",{fontCharacter:"\\eaef"}),e.files=new e("files",{fontCharacter:"\\eaf0"}),e.filter=new e("filter",{fontCharacter:"\\eaf1"}),e.flame=new e("flame",{fontCharacter:"\\eaf2"}),e.foldDown=new e("fold-down",{fontCharacter:"\\eaf3"}),e.foldUp=new e("fold-up",{fontCharacter:"\\eaf4"}),e.fold=new e("fold",{fontCharacter:"\\eaf5"}),e.folderActive=new e("folder-active",{fontCharacter:"\\eaf6"}),e.folderOpened=new e("folder-opened",{fontCharacter:"\\eaf7"}),e.gear=new e("gear",{fontCharacter:"\\eaf8"}),e.gift=new e("gift",{fontCharacter:"\\eaf9"}),e.gistSecret=new e("gist-secret",{fontCharacter:"\\eafa"}),e.gist=new e("gist",{fontCharacter:"\\eafb"}),e.gitCommit=new e("git-commit",{fontCharacter:"\\eafc"}),e.gitCompare=new e("git-compare",{fontCharacter:"\\eafd"}),e.gitMerge=new e("git-merge",{fontCharacter:"\\eafe"}),e.githubAction=new e("github-action",{fontCharacter:"\\eaff"}),e.githubAlt=new e("github-alt",{fontCharacter:"\\eb00"}),e.globe=new e("globe",{fontCharacter:"\\eb01"}),e.grabber=new e("grabber",{fontCharacter:"\\eb02"}),e.graph=new e("graph",{fontCharacter:"\\eb03"}),e.gripper=new e("gripper",{fontCharacter:"\\eb04"}),e.heart=new e("heart",{fontCharacter:"\\eb05"}),e.home=new e("home",{fontCharacter:"\\eb06"}),e.horizontalRule=new e("horizontal-rule",{fontCharacter:"\\eb07"}),e.hubot=new e("hubot",{fontCharacter:"\\eb08"}),e.inbox=new e("inbox",{fontCharacter:"\\eb09"}),e.issueClosed=new e("issue-closed",{fontCharacter:"\\eba4"}),e.issueReopened=new e("issue-reopened",{fontCharacter:"\\eb0b"}),e.issues=new e("issues",{fontCharacter:"\\eb0c"}),e.italic=new e("italic",{fontCharacter:"\\eb0d"}),e.jersey=new e("jersey",{fontCharacter:"\\eb0e"}),e.json=new e("json",{fontCharacter:"\\eb0f"}),e.kebabVertical=new e("kebab-vertical",{fontCharacter:"\\eb10"}),e.key=new e("key",{fontCharacter:"\\eb11"}),e.law=new e("law",{fontCharacter:"\\eb12"}),e.lightbulbAutofix=new e("lightbulb-autofix",{fontCharacter:"\\eb13"}),e.linkExternal=new e("link-external",{fontCharacter:"\\eb14"}),e.link=new e("link",{fontCharacter:"\\eb15"}),e.listOrdered=new e("list-ordered",{fontCharacter:"\\eb16"}),e.listUnordered=new e("list-unordered",{fontCharacter:"\\eb17"}),e.liveShare=new e("live-share",{fontCharacter:"\\eb18"}),e.loading=new e("loading",{fontCharacter:"\\eb19"}),e.location=new e("location",{fontCharacter:"\\eb1a"}),e.mailRead=new e("mail-read",{fontCharacter:"\\eb1b"}),e.mail=new e("mail",{fontCharacter:"\\eb1c"}),e.markdown=new e("markdown",{fontCharacter:"\\eb1d"}),e.megaphone=new e("megaphone",{fontCharacter:"\\eb1e"}),e.mention=new e("mention",{fontCharacter:"\\eb1f"}),e.milestone=new e("milestone",{fontCharacter:"\\eb20"}),e.mortarBoard=new e("mortar-board",{fontCharacter:"\\eb21"}),e.move=new e("move",{fontCharacter:"\\eb22"}),e.multipleWindows=new e("multiple-windows",{fontCharacter:"\\eb23"}),e.mute=new e("mute",{fontCharacter:"\\eb24"}),e.noNewline=new e("no-newline",{fontCharacter:"\\eb25"}),e.note=new e("note",{fontCharacter:"\\eb26"}),e.octoface=new e("octoface",{fontCharacter:"\\eb27"}),e.openPreview=new e("open-preview",{fontCharacter:"\\eb28"}),e.package_=new e("package",{fontCharacter:"\\eb29"}),e.paintcan=new e("paintcan",{fontCharacter:"\\eb2a"}),e.pin=new e("pin",{fontCharacter:"\\eb2b"}),e.play=new e("play",{fontCharacter:"\\eb2c"}),e.run=new e("run",{fontCharacter:"\\eb2c"}),e.plug=new e("plug",{fontCharacter:"\\eb2d"}),e.preserveCase=new e("preserve-case",{fontCharacter:"\\eb2e"}),e.preview=new e("preview",{fontCharacter:"\\eb2f"}),e.project=new e("project",{fontCharacter:"\\eb30"}),e.pulse=new e("pulse",{fontCharacter:"\\eb31"}),e.question=new e("question",{fontCharacter:"\\eb32"}),e.quote=new e("quote",{fontCharacter:"\\eb33"}),e.radioTower=new e("radio-tower",{fontCharacter:"\\eb34"}),e.reactions=new e("reactions",{fontCharacter:"\\eb35"}),e.references=new e("references",{fontCharacter:"\\eb36"}),e.refresh=new e("refresh",{fontCharacter:"\\eb37"}),e.regex=new e("regex",{fontCharacter:"\\eb38"}),e.remoteExplorer=new e("remote-explorer",{fontCharacter:"\\eb39"}),e.remote=new e("remote",{fontCharacter:"\\eb3a"}),e.remove=new e("remove",{fontCharacter:"\\eb3b"}),e.replaceAll=new e("replace-all",{fontCharacter:"\\eb3c"}),e.replace=new e("replace",{fontCharacter:"\\eb3d"}),e.repoClone=new e("repo-clone",{fontCharacter:"\\eb3e"}),e.repoForcePush=new e("repo-force-push",{fontCharacter:"\\eb3f"}),e.repoPull=new e("repo-pull",{fontCharacter:"\\eb40"}),e.repoPush=new e("repo-push",{fontCharacter:"\\eb41"}),e.report=new e("report",{fontCharacter:"\\eb42"}),e.requestChanges=new e("request-changes",{fontCharacter:"\\eb43"}),e.rocket=new e("rocket",{fontCharacter:"\\eb44"}),e.rootFolderOpened=new e("root-folder-opened",{fontCharacter:"\\eb45"}),e.rootFolder=new e("root-folder",{fontCharacter:"\\eb46"}),e.rss=new e("rss",{fontCharacter:"\\eb47"}),e.ruby=new e("ruby",{fontCharacter:"\\eb48"}),e.saveAll=new e("save-all",{fontCharacter:"\\eb49"}),e.saveAs=new e("save-as",{fontCharacter:"\\eb4a"}),e.save=new e("save",{fontCharacter:"\\eb4b"}),e.screenFull=new e("screen-full",{fontCharacter:"\\eb4c"}),e.screenNormal=new e("screen-normal",{fontCharacter:"\\eb4d"}),e.searchStop=new e("search-stop",{fontCharacter:"\\eb4e"}),e.server=new e("server",{fontCharacter:"\\eb50"}),e.settingsGear=new e("settings-gear",{fontCharacter:"\\eb51"}),e.settings=new e("settings",{fontCharacter:"\\eb52"}),e.shield=new e("shield",{fontCharacter:"\\eb53"}),e.smiley=new e("smiley",{fontCharacter:"\\eb54"}),e.sortPrecedence=new e("sort-precedence",{fontCharacter:"\\eb55"}),e.splitHorizontal=new e("split-horizontal",{fontCharacter:"\\eb56"}),e.splitVertical=new e("split-vertical",{fontCharacter:"\\eb57"}),e.squirrel=new e("squirrel",{fontCharacter:"\\eb58"}),e.starFull=new e("star-full",{fontCharacter:"\\eb59"}),e.starHalf=new e("star-half",{fontCharacter:"\\eb5a"}),e.symbolClass=new e("symbol-class",{fontCharacter:"\\eb5b"}),e.symbolColor=new e("symbol-color",{fontCharacter:"\\eb5c"}),e.symbolConstant=new e("symbol-constant",{fontCharacter:"\\eb5d"}),e.symbolEnumMember=new e("symbol-enum-member",{fontCharacter:"\\eb5e"}),e.symbolField=new e("symbol-field",{fontCharacter:"\\eb5f"}),e.symbolFile=new e("symbol-file",{fontCharacter:"\\eb60"}),e.symbolInterface=new e("symbol-interface",{fontCharacter:"\\eb61"}),e.symbolKeyword=new e("symbol-keyword",{fontCharacter:"\\eb62"}),e.symbolMisc=new e("symbol-misc",{fontCharacter:"\\eb63"}),e.symbolOperator=new e("symbol-operator",{fontCharacter:"\\eb64"}),e.symbolProperty=new e("symbol-property",{fontCharacter:"\\eb65"}),e.wrench=new e("wrench",{fontCharacter:"\\eb65"}),e.wrenchSubaction=new e("wrench-subaction",{fontCharacter:"\\eb65"}),e.symbolSnippet=new e("symbol-snippet",{fontCharacter:"\\eb66"}),e.tasklist=new e("tasklist",{fontCharacter:"\\eb67"}),e.telescope=new e("telescope",{fontCharacter:"\\eb68"}),e.textSize=new e("text-size",{fontCharacter:"\\eb69"}),e.threeBars=new e("three-bars",{fontCharacter:"\\eb6a"}),e.thumbsdown=new e("thumbsdown",{fontCharacter:"\\eb6b"}),e.thumbsup=new e("thumbsup",{fontCharacter:"\\eb6c"}),e.tools=new e("tools",{fontCharacter:"\\eb6d"}),e.triangleDown=new e("triangle-down",{fontCharacter:"\\eb6e"}),e.triangleLeft=new e("triangle-left",{fontCharacter:"\\eb6f"}),e.triangleRight=new e("triangle-right",{fontCharacter:"\\eb70"}),e.triangleUp=new e("triangle-up",{fontCharacter:"\\eb71"}),e.twitter=new e("twitter",{fontCharacter:"\\eb72"}),e.unfold=new e("unfold",{fontCharacter:"\\eb73"}),e.unlock=new e("unlock",{fontCharacter:"\\eb74"}),e.unmute=new e("unmute",{fontCharacter:"\\eb75"}),e.unverified=new e("unverified",{fontCharacter:"\\eb76"}),e.verified=new e("verified",{fontCharacter:"\\eb77"}),e.versions=new e("versions",{fontCharacter:"\\eb78"}),e.vmActive=new e("vm-active",{fontCharacter:"\\eb79"}),e.vmOutline=new e("vm-outline",{fontCharacter:"\\eb7a"}),e.vmRunning=new e("vm-running",{fontCharacter:"\\eb7b"}),e.watch=new e("watch",{fontCharacter:"\\eb7c"}),e.whitespace=new e("whitespace",{fontCharacter:"\\eb7d"}),e.wholeWord=new e("whole-word",{fontCharacter:"\\eb7e"}),e.window=new e("window",{fontCharacter:"\\eb7f"}),e.wordWrap=new e("word-wrap",{fontCharacter:"\\eb80"}),e.zoomIn=new e("zoom-in",{fontCharacter:"\\eb81"}),e.zoomOut=new e("zoom-out",{fontCharacter:"\\eb82"}),e.listFilter=new e("list-filter",{fontCharacter:"\\eb83"}),e.listFlat=new e("list-flat",{fontCharacter:"\\eb84"}),e.listSelection=new e("list-selection",{fontCharacter:"\\eb85"}),e.selection=new e("selection",{fontCharacter:"\\eb85"}),e.listTree=new e("list-tree",{fontCharacter:"\\eb86"}),e.debugBreakpointFunctionUnverified=new e("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),e.debugBreakpointFunction=new e("debug-breakpoint-function",{fontCharacter:"\\eb88"}),e.debugBreakpointFunctionDisabled=new e("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),e.debugStackframeActive=new e("debug-stackframe-active",{fontCharacter:"\\eb89"}),e.debugStackframeDot=new e("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),e.debugStackframe=new e("debug-stackframe",{fontCharacter:"\\eb8b"}),e.debugStackframeFocused=new e("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),e.debugBreakpointUnsupported=new e("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),e.symbolString=new e("symbol-string",{fontCharacter:"\\eb8d"}),e.debugReverseContinue=new e("debug-reverse-continue",{fontCharacter:"\\eb8e"}),e.debugStepBack=new e("debug-step-back",{fontCharacter:"\\eb8f"}),e.debugRestartFrame=new e("debug-restart-frame",{fontCharacter:"\\eb90"}),e.callIncoming=new e("call-incoming",{fontCharacter:"\\eb92"}),e.callOutgoing=new e("call-outgoing",{fontCharacter:"\\eb93"}),e.menu=new e("menu",{fontCharacter:"\\eb94"}),e.expandAll=new e("expand-all",{fontCharacter:"\\eb95"}),e.feedback=new e("feedback",{fontCharacter:"\\eb96"}),e.groupByRefType=new e("group-by-ref-type",{fontCharacter:"\\eb97"}),e.ungroupByRefType=new e("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),e.account=new e("account",{fontCharacter:"\\eb99"}),e.bellDot=new e("bell-dot",{fontCharacter:"\\eb9a"}),e.debugConsole=new e("debug-console",{fontCharacter:"\\eb9b"}),e.library=new e("library",{fontCharacter:"\\eb9c"}),e.output=new e("output",{fontCharacter:"\\eb9d"}),e.runAll=new e("run-all",{fontCharacter:"\\eb9e"}),e.syncIgnored=new e("sync-ignored",{fontCharacter:"\\eb9f"}),e.pinned=new e("pinned",{fontCharacter:"\\eba0"}),e.githubInverted=new e("github-inverted",{fontCharacter:"\\eba1"}),e.debugAlt=new e("debug-alt",{fontCharacter:"\\eb91"}),e.serverProcess=new e("server-process",{fontCharacter:"\\eba2"}),e.serverEnvironment=new e("server-environment",{fontCharacter:"\\eba3"}),e.pass=new e("pass",{fontCharacter:"\\eba4"}),e.stopCircle=new e("stop-circle",{fontCharacter:"\\eba5"}),e.playCircle=new e("play-circle",{fontCharacter:"\\eba6"}),e.record=new e("record",{fontCharacter:"\\eba7"}),e.debugAltSmall=new e("debug-alt-small",{fontCharacter:"\\eba8"}),e.vmConnect=new e("vm-connect",{fontCharacter:"\\eba9"}),e.cloud=new e("cloud",{fontCharacter:"\\ebaa"}),e.merge=new e("merge",{fontCharacter:"\\ebab"}),e.exportIcon=new e("export",{fontCharacter:"\\ebac"}),e.graphLeft=new e("graph-left",{fontCharacter:"\\ebad"}),e.magnet=new e("magnet",{fontCharacter:"\\ebae"}),e.notebook=new e("notebook",{fontCharacter:"\\ebaf"}),e.redo=new e("redo",{fontCharacter:"\\ebb0"}),e.checkAll=new e("check-all",{fontCharacter:"\\ebb1"}),e.pinnedDirty=new e("pinned-dirty",{fontCharacter:"\\ebb2"}),e.passFilled=new e("pass-filled",{fontCharacter:"\\ebb3"}),e.circleLargeFilled=new e("circle-large-filled",{fontCharacter:"\\ebb4"}),e.circleLargeOutline=new e("circle-large-outline",{fontCharacter:"\\ebb5"}),e.combine=new e("combine",{fontCharacter:"\\ebb6"}),e.gather=new e("gather",{fontCharacter:"\\ebb6"}),e.table=new e("table",{fontCharacter:"\\ebb7"}),e.variableGroup=new e("variable-group",{fontCharacter:"\\ebb8"}),e.typeHierarchy=new e("type-hierarchy",{fontCharacter:"\\ebb9"}),e.typeHierarchySub=new e("type-hierarchy-sub",{fontCharacter:"\\ebba"}),e.typeHierarchySuper=new e("type-hierarchy-super",{fontCharacter:"\\ebbb"}),e.gitPullRequestCreate=new e("git-pull-request-create",{fontCharacter:"\\ebbc"}),e.runAbove=new e("run-above",{fontCharacter:"\\ebbd"}),e.runBelow=new e("run-below",{fontCharacter:"\\ebbe"}),e.notebookTemplate=new e("notebook-template",{fontCharacter:"\\ebbf"}),e.debugRerun=new e("debug-rerun",{fontCharacter:"\\ebc0"}),e.workspaceTrusted=new e("workspace-trusted",{fontCharacter:"\\ebc1"}),e.workspaceUntrusted=new e("workspace-untrusted",{fontCharacter:"\\ebc2"}),e.workspaceUnspecified=new e("workspace-unspecified",{fontCharacter:"\\ebc3"}),e.terminalCmd=new e("terminal-cmd",{fontCharacter:"\\ebc4"}),e.terminalDebian=new e("terminal-debian",{fontCharacter:"\\ebc5"}),e.terminalLinux=new e("terminal-linux",{fontCharacter:"\\ebc6"}),e.terminalPowershell=new e("terminal-powershell",{fontCharacter:"\\ebc7"}),e.terminalTmux=new e("terminal-tmux",{fontCharacter:"\\ebc8"}),e.terminalUbuntu=new e("terminal-ubuntu",{fontCharacter:"\\ebc9"}),e.terminalBash=new e("terminal-bash",{fontCharacter:"\\ebca"}),e.arrowSwap=new e("arrow-swap",{fontCharacter:"\\ebcb"}),e.copy=new e("copy",{fontCharacter:"\\ebcc"}),e.personAdd=new e("person-add",{fontCharacter:"\\ebcd"}),e.filterFilled=new e("filter-filled",{fontCharacter:"\\ebce"}),e.wand=new e("wand",{fontCharacter:"\\ebcf"}),e.debugLineByLine=new e("debug-line-by-line",{fontCharacter:"\\ebd0"}),e.inspect=new e("inspect",{fontCharacter:"\\ebd1"}),e.layers=new e("layers",{fontCharacter:"\\ebd2"}),e.layersDot=new e("layers-dot",{fontCharacter:"\\ebd3"}),e.layersActive=new e("layers-active",{fontCharacter:"\\ebd4"}),e.compass=new e("compass",{fontCharacter:"\\ebd5"}),e.compassDot=new e("compass-dot",{fontCharacter:"\\ebd6"}),e.compassActive=new e("compass-active",{fontCharacter:"\\ebd7"}),e.azure=new e("azure",{fontCharacter:"\\ebd8"}),e.issueDraft=new e("issue-draft",{fontCharacter:"\\ebd9"}),e.gitPullRequestClosed=new e("git-pull-request-closed",{fontCharacter:"\\ebda"}),e.gitPullRequestDraft=new e("git-pull-request-draft",{fontCharacter:"\\ebdb"}),e.debugAll=new e("debug-all",{fontCharacter:"\\ebdc"}),e.debugCoverage=new e("debug-coverage",{fontCharacter:"\\ebdd"}),e.runErrors=new e("run-errors",{fontCharacter:"\\ebde"}),e.folderLibrary=new e("folder-library",{fontCharacter:"\\ebdf"}),e.debugContinueSmall=new e("debug-continue-small",{fontCharacter:"\\ebe0"}),e.beakerStop=new e("beaker-stop",{fontCharacter:"\\ebe1"}),e.graphLine=new e("graph-line",{fontCharacter:"\\ebe2"}),e.graphScatter=new e("graph-scatter",{fontCharacter:"\\ebe3"}),e.pieChart=new e("pie-chart",{fontCharacter:"\\ebe4"}),e.bracket=new e("bracket",e.json.definition),e.bracketDot=new e("bracket-dot",{fontCharacter:"\\ebe5"}),e.bracketError=new e("bracket-error",{fontCharacter:"\\ebe6"}),e.lockSmall=new e("lock-small",{fontCharacter:"\\ebe7"}),e.azureDevops=new e("azure-devops",{fontCharacter:"\\ebe8"}),e.verifiedFilled=new e("verified-filled",{fontCharacter:"\\ebe9"}),e.newLine=new e("newline",{fontCharacter:"\\ebea"}),e.layout=new e("layout",{fontCharacter:"\\ebeb"}),e.dialogError=new e("dialog-error",e.error.definition),e.dialogWarning=new e("dialog-warning",e.warning.definition),e.dialogInfo=new e("dialog-info",e.info.definition),e.dialogClose=new e("dialog-close",e.close.definition),e.treeItemExpanded=new e("tree-item-expanded",e.chevronDown.definition),e.treeFilterOnTypeOn=new e("tree-filter-on-type-on",e.listFilter.definition),e.treeFilterOnTypeOff=new e("tree-filter-on-type-off",e.listSelection.definition),e.treeFilterClear=new e("tree-filter-clear",e.close.definition),e.treeItemLoading=new e("tree-item-loading",e.loading.definition),e.menuSelection=new e("menu-selection",e.check.definition),e.menuSubmenu=new e("menu-submenu",e.chevronRight.definition),e.menuBarMore=new e("menubar-more",e.more.definition),e.scrollbarButtonLeft=new e("scrollbar-button-left",e.triangleLeft.definition),e.scrollbarButtonRight=new e("scrollbar-button-right",e.triangleRight.definition),e.scrollbarButtonUp=new e("scrollbar-button-up",e.triangleUp.definition),e.scrollbarButtonDown=new e("scrollbar-button-down",e.triangleDown.definition),e.toolBarMore=new e("toolbar-more",e.more.definition),e.quickInputBack=new e("quick-input-back",e.arrowLeft.definition);function S(C,E){const T=["codicon","codicon-"+C];return E&&T.push("codicon-modifier-"+E),T}t.getClassNamesArray=S;var N;(function(C){C.iconNameSegment="[A-Za-z0-9]+",C.iconNameExpression="[A-Za-z0-9-]+",C.iconModifierExpression="~[A-Za-z]+",C.iconNameCharacter="[A-Za-z0-9~-]";const E=new RegExp(`^(${C.iconNameExpression})(${C.iconModifierExpression})?$`);function T(_){if(_ instanceof e)return["codicon","codicon-"+_.id];const b=E.exec(_.id);if(!b)return T(e.error);let[,c,r]=b;const h=["codicon","codicon-"+c];return r&&h.push("codicon-modifier-"+r.substr(1)),h}C.asClassNameArray=T;function k(_){return T(_).join(" ")}C.asClassName=k;function P(_){return"."+T(_).join(".")}C.asCSSSelector=P})(N=t.CSSIcon||(t.CSSIcon={}))}),define(ee[20],te([0,1,21,6]),function(Z,t,U,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixedStream=t.prefixedReadable=t.transform=t.toReadable=t.emptyStream=t.toStream=t.peekStream=t.listenStream=t.consumeStream=t.peekReadable=t.consumeReadable=t.newWriteableStream=t.isReadableBufferedStream=t.isReadableStream=void 0;function M(s){const d=s;return d?[d.on,d.pause,d.resume,d.destroy].every(i=>typeof i=="function"):!1}t.isReadableStream=M;function A(s){const d=s;return d?M(d.stream)&&Array.isArray(d.buffer)&&typeof d.ended=="boolean":!1}t.isReadableBufferedStream=A;function e(s,d){return new S(s,d)}t.newWriteableStream=e;class S{constructor(d,i){this.reducer=d,this.options=i,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(d){if(!this.state.destroyed){if(this.state.flowing)this.emitData(d);else if(this.buffer.data.push(d),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(i=>this.pendingWritePromises.push(i))}}error(d){this.state.destroyed||(this.state.flowing?this.emitError(d):this.buffer.error.push(d))}end(d){this.state.destroyed||(typeof d!="undefined"&&this.write(d),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(d){this.listeners.data.slice(0).forEach(i=>i(d))}emitError(d){this.listeners.error.length===0?(0,U.onUnexpectedError)(d):this.listeners.error.slice(0).forEach(i=>i(d))}emitEnd(){this.listeners.end.slice(0).forEach(d=>d())}on(d,i){if(!this.state.destroyed)switch(d){case"data":this.listeners.data.push(i),this.resume();break;case"end":this.listeners.end.push(i),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(i),this.state.flowing&&this.flowErrors();break}}removeListener(d,i){if(this.state.destroyed)return;let u;switch(d){case"data":u=this.listeners.data;break;case"end":u=this.listeners.end;break;case"error":u=this.listeners.error;break}if(u){const m=u.indexOf(i);m>=0&&u.splice(m,1)}}flowData(){if(this.buffer.data.length>0){const d=this.reducer(this.buffer.data);this.emitData(d),this.buffer.data.length=0;const i=[...this.pendingWritePromises];this.pendingWritePromises.length=0,i.forEach(u=>u())}}flowErrors(){if(this.listeners.error.length>0){for(const d of this.buffer.error)this.emitError(d);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function N(s,d){const i=[];let u;for(;(u=s.read())!==null;)i.push(u);return d(i)}t.consumeReadable=N;function C(s,d,i){const u=[];let m;for(;(m=s.read())!==null&&u.length<i;)u.push(m);return m===null&&u.length>0?d(u):{read:()=>{if(u.length>0)return u.shift();if(typeof m!="undefined"){const a=m;return m=void 0,a}return s.read()}}}t.peekReadable=C;function E(s,d){return new Promise((i,u)=>{const m=[];T(s,{onData:a=>{d&&m.push(a)},onError:a=>{d?u(a):i(void 0)},onEnd:()=>{i(d?d(m):void 0)}})})}t.consumeStream=E;function T(s,d){s.on("error",i=>d.onError(i)),s.on("end",()=>d.onEnd()),s.on("data",i=>d.onData(i))}t.listenStream=T;function k(s,d){return new Promise((i,u)=>{const m=new D.DisposableStore,a=[],n=w=>{if(a.push(w),a.length>d)return m.dispose(),s.pause(),i({stream:s,buffer:a,ended:!1})},f=w=>u(w),g=()=>i({stream:s,buffer:a,ended:!0});m.add((0,D.toDisposable)(()=>s.removeListener("error",f))),s.on("error",f),m.add((0,D.toDisposable)(()=>s.removeListener("end",g))),s.on("end",g),m.add((0,D.toDisposable)(()=>s.removeListener("data",n))),s.on("data",n)})}t.peekStream=k;function P(s,d){const i=e(d);return i.end(s),i}t.toStream=P;function _(){const s=e(()=>{throw new Error("not supported")});return s.end(),s}t.emptyStream=_;function b(s){let d=!1;return{read:()=>d?null:(d=!0,s)}}t.toReadable=b;function c(s,d,i){const u=e(i);return T(s,{onData:m=>u.write(d.data(m)),onError:m=>u.error(d.error?d.error(m):m),onEnd:()=>u.end()}),u}t.transform=c;function r(s,d,i){let u=!1;return{read:()=>{const m=d.read();return u?m:(u=!0,m!==null?i([s,m]):s)}}}t.prefixedReadable=r;function h(s,d,i){let u=!1;const m=e(i);return T(d,{onData:a=>u?m.write(a):(u=!0,m.write(i([s,a]))),onError:a=>m.error(a),onEnd:()=>{u||(u=!0,m.write(s)),m.end()}}),m}t.prefixedStream=h}),define(ee[8],te([0,1,20]),function(Z,t,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixedBufferStream=t.prefixedBufferReadable=t.newWriteableBufferStream=t.streamToBufferReadableStream=t.bufferToStream=t.bufferedStreamToBuffer=t.streamToBuffer=t.bufferToReadable=t.readableToBuffer=t.writeUInt8=t.readUInt8=t.writeUInt32LE=t.readUInt32LE=t.writeUInt32BE=t.readUInt32BE=t.writeUInt16LE=t.readUInt16LE=t.VSBuffer=void 0;const D=typeof Buffer!="undefined";let M,A;class e{constructor(n){this.buffer=n,this.byteLength=this.buffer.byteLength}static alloc(n){return D?new e(Buffer.allocUnsafe(n)):new e(new Uint8Array(n))}static wrap(n){return D&&!Buffer.isBuffer(n)&&(n=Buffer.from(n.buffer,n.byteOffset,n.byteLength)),new e(n)}static fromString(n,f){return!(f?.dontUseNodeBuffer||!1)&&D?new e(Buffer.from(n)):(M||(M=new TextEncoder),new e(M.encode(n)))}static fromByteArray(n){const f=e.alloc(n.length);for(let g=0,w=n.length;g<w;g++)f.buffer[g]=n[g];return f}static concat(n,f){if(typeof f=="undefined"){f=0;for(let v=0,l=n.length;v<l;v++)f+=n[v].byteLength}const g=e.alloc(f);let w=0;for(let v=0,l=n.length;v<l;v++){const p=n[v];g.set(p,w),w+=p.byteLength}return g}clone(){const n=e.alloc(this.byteLength);return n.set(this),n}toString(){return D?this.buffer.toString():(A||(A=new TextDecoder),A.decode(this.buffer))}slice(n,f){return new e(this.buffer.subarray(n,f))}set(n,f){if(n instanceof e)this.buffer.set(n.buffer,f);else if(n instanceof Uint8Array)this.buffer.set(n,f);else if(n instanceof ArrayBuffer)this.buffer.set(new Uint8Array(n),f);else if(ArrayBuffer.isView(n))this.buffer.set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),f);else throw new Error("Unkown argument 'array'")}readUInt32BE(n){return C(this.buffer,n)}writeUInt32BE(n,f){E(this.buffer,n,f)}readUInt32LE(n){return T(this.buffer,n)}writeUInt32LE(n,f){k(this.buffer,n,f)}readUInt8(n){return P(this.buffer,n)}writeUInt8(n,f){_(this.buffer,n,f)}}t.VSBuffer=e;function S(a,n){return a[n+0]<<0>>>0|a[n+1]<<8>>>0}t.readUInt16LE=S;function N(a,n,f){a[f+0]=n&255,n=n>>>8,a[f+1]=n&255}t.writeUInt16LE=N;function C(a,n){return a[n]*2**24+a[n+1]*2**16+a[n+2]*2**8+a[n+3]}t.readUInt32BE=C;function E(a,n,f){a[f+3]=n,n=n>>>8,a[f+2]=n,n=n>>>8,a[f+1]=n,n=n>>>8,a[f]=n}t.writeUInt32BE=E;function T(a,n){return a[n+0]<<0>>>0|a[n+1]<<8>>>0|a[n+2]<<16>>>0|a[n+3]<<24>>>0}t.readUInt32LE=T;function k(a,n,f){a[f+0]=n&255,n=n>>>8,a[f+1]=n&255,n=n>>>8,a[f+2]=n&255,n=n>>>8,a[f+3]=n&255}t.writeUInt32LE=k;function P(a,n){return a[n]}t.readUInt8=P;function _(a,n,f){a[f]=n}t.writeUInt8=_;function b(a){return U.consumeReadable(a,n=>e.concat(n))}t.readableToBuffer=b;function c(a){return U.toReadable(a)}t.bufferToReadable=c;function r(a){return U.consumeStream(a,n=>e.concat(n))}t.streamToBuffer=r;async function h(a){return a.ended?e.concat(a.buffer):e.concat([...a.buffer,await r(a.stream)])}t.bufferedStreamToBuffer=h;function s(a){return U.toStream(a,n=>e.concat(n))}t.bufferToStream=s;function d(a){return U.transform(a,{data:n=>typeof n=="string"?e.fromString(n):e.wrap(n)},n=>e.concat(n))}t.streamToBufferReadableStream=d;function i(a){return U.newWriteableStream(n=>e.concat(n),a)}t.newWriteableBufferStream=i;function u(a,n){return U.prefixedReadable(a,n,f=>e.concat(f))}t.prefixedBufferReadable=u;function m(a,n){return U.prefixedStream(a,n,f=>e.concat(f))}t.prefixedBufferStream=m});var oe=this&&this.__classPrivateFieldSet||function(Z,t,U,D,M){if(D==="m")throw new TypeError("Private method is not writable");if(D==="a"&&!M)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?Z!==t||!M:!t.has(Z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return D==="a"?M.call(Z,U):M?M.value=U:t.set(Z,U),U},re=this&&this.__classPrivateFieldGet||function(Z,t,U,D){if(U==="a"&&!D)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?Z!==t||!D:!t.has(Z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?D:U==="a"?D.call(Z):D?D.value:t.get(Z)};define(ee[12],te([0,1,22,2]),function(Z,t,U,D){"use strict";var M,A,e;Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyMapView=t.LRUCache=t.LinkedMap=t.Touch=t.ResourceMap=t.TernarySearchTree=t.UriIterator=t.PathIterator=t.ConfigKeysIterator=t.StringIterator=t.setToString=t.mapToString=t.getOrSet=void 0;function S(a,n,f){let g=a.get(n);return g===void 0&&(g=f,a.set(n,g)),g}t.getOrSet=S;function N(a){const n=[];return a.forEach((f,g)=>{n.push(`${g} => ${f}`)}),`Map(${a.size}) {${n.join(", ")}}`}t.mapToString=N;function C(a){const n=[];return a.forEach(f=>{n.push(f)}),`Set(${a.size}) {${n.join(", ")}}`}t.setToString=C;class E{constructor(){this._value="",this._pos=0}reset(n){return this._value=n,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(n){const f=n.charCodeAt(0),g=this._value.charCodeAt(this._pos);return f-g}value(){return this._value[this._pos]}}t.StringIterator=E;class T{constructor(n=!0){this._caseSensitive=n}reset(n){return this._value=n,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let n=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(n)this._from++;else break;else n=!1;return this}cmp(n){return this._caseSensitive?(0,D.compareSubstring)(n,this._value,0,n.length,this._from,this._to):(0,D.compareSubstringIgnoreCase)(n,this._value,0,n.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}t.ConfigKeysIterator=T;class k{constructor(n=!0,f=!0){this._splitOnBackslash=n,this._caseSensitive=f}reset(n){return this._value=n.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let n=!0;for(;this._to<this._value.length;this._to++){const f=this._value.charCodeAt(this._to);if(f===47||this._splitOnBackslash&&f===92)if(n)this._from++;else break;else n=!1}return this}cmp(n){return this._caseSensitive?(0,D.compareSubstring)(n,this._value,0,n.length,this._from,this._to):(0,D.compareSubstringIgnoreCase)(n,this._value,0,n.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}t.PathIterator=k;var P;(function(a){a[a.Scheme=1]="Scheme",a[a.Authority=2]="Authority",a[a.Path=3]="Path",a[a.Query=4]="Query",a[a.Fragment=5]="Fragment"})(P||(P={}));class _{constructor(n){this._ignorePathCasing=n,this._states=[],this._stateIdx=0}reset(n){return this._value=n,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new k(!1,!this._ignorePathCasing(n)),this._pathIterator.reset(n.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(n){if(this._states[this._stateIdx]===1)return(0,D.compareIgnoreCase)(n,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,D.compareIgnoreCase)(n,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(n);if(this._states[this._stateIdx]===4)return(0,D.compare)(n,this._value.query);if(this._states[this._stateIdx]===5)return(0,D.compare)(n,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}t.UriIterator=_;class b{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const n=this.right;return this.right=n.left,n.left=this,this.updateHeight(),n.updateHeight(),n}rotateRight(){const n=this.left;return this.left=n.right,n.right=this,this.updateHeight(),n.updateHeight(),n}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var c;(function(a){a[a.Left=-1]="Left",a[a.Mid=0]="Mid",a[a.Right=1]="Right"})(c||(c={}));class r{constructor(n){this._iter=n}static forUris(n=()=>!1){return new r(new _(n))}static forPaths(){return new r(new k)}static forStrings(){return new r(new E)}static forConfigKeys(){return new r(new T)}clear(){this._root=void 0}fill(n,f){if(f){const g=f.slice(0);(0,U.shuffle)(g);for(let w of g)this.set(w,n)}else{const g=n.slice(0);(0,U.shuffle)(g);for(let w of g)this.set(w[0],w[1])}}set(n,f){const g=this._iter.reset(n);let w;this._root||(this._root=new b,this._root.segment=g.value());const v=[];for(w=this._root;;){const p=g.cmp(w.segment);if(p>0)w.left||(w.left=new b,w.left.segment=g.value()),v.push([-1,w]),w=w.left;else if(p<0)w.right||(w.right=new b,w.right.segment=g.value()),v.push([1,w]),w=w.right;else if(g.hasNext())g.next(),w.mid||(w.mid=new b,w.mid.segment=g.value()),v.push([0,w]),w=w.mid;else break}const l=w.value;w.value=f,w.key=n;for(let p=v.length-1;p>=0;p--){const I=v[p][1];I.updateHeight();const z=I.balanceFactor();if(z<-1||z>1){const j=v[p][0],B=v[p+1][0];if(j===1&&B===1)v[p][1]=I.rotateLeft();else if(j===-1&&B===-1)v[p][1]=I.rotateRight();else if(j===1&&B===-1)I.right=v[p+1][1]=v[p+1][1].rotateRight(),v[p][1]=I.rotateLeft();else if(j===-1&&B===1)I.left=v[p+1][1]=v[p+1][1].rotateLeft(),v[p][1]=I.rotateRight();else throw new Error;if(p>0)switch(v[p-1][0]){case-1:v[p-1][1].left=v[p][1];break;case 1:v[p-1][1].right=v[p][1];break;case 0:v[p-1][1].mid=v[p][1];break}else this._root=v[0][1]}}return l}get(n){return this._getNode(n)?.value}_getNode(n){const f=this._iter.reset(n);let g=this._root;for(;g;){const w=f.cmp(g.segment);if(w>0)g=g.left;else if(w<0)g=g.right;else if(f.hasNext())f.next(),g=g.mid;else break}return g}has(n){const f=this._getNode(n);return!(f?.value===void 0&&f?.mid===void 0)}delete(n){return this._delete(n,!1)}deleteSuperstr(n){return this._delete(n,!0)}_delete(n,f){const g=this._iter.reset(n),w=[];let v=this._root;for(;v;){const l=g.cmp(v.segment);if(l>0)w.push([-1,v]),v=v.left;else if(l<0)w.push([1,v]),v=v.right;else if(g.hasNext())g.next(),w.push([0,v]),v=v.mid;else break}if(!!v){if(f?(v.left=void 0,v.mid=void 0,v.right=void 0,v.height=1):(v.key=void 0,v.value=void 0),!v.mid&&!v.value)if(v.left&&v.right){const l=this._min(v.right),{key:p,value:I,segment:z}=l;this._delete(l.key,!1),v.key=p,v.value=I,v.segment=z}else{const l=v.left??v.right;if(w.length>0){const[p,I]=w[w.length-1];switch(p){case-1:I.left=l;break;case 0:I.mid=l;break;case 1:I.right=l;break}}else this._root=l}for(let l=w.length-1;l>=0;l--){const p=w[l][1];p.updateHeight();const I=p.balanceFactor();if(I>1?(p.right.balanceFactor()>=0||(p.right=w[l+1][1]=w[l+1][1].rotateRight()),w[l][1]=p.rotateLeft()):I<-1&&(p.left.balanceFactor()<=0||(p.left=w[l+1][1]=w[l+1][1].rotateLeft()),w[l][1]=p.rotateRight()),l>0)switch(w[l-1][0]){case-1:w[l-1][1].left=w[l][1];break;case 1:w[l-1][1].right=w[l][1];break;case 0:w[l-1][1].mid=w[l][1];break}else this._root=w[0][1]}}}_min(n){for(;n.left;)n=n.left;return n}findSubstr(n){const f=this._iter.reset(n);let g=this._root,w;for(;g;){const v=f.cmp(g.segment);if(v>0)g=g.left;else if(v<0)g=g.right;else if(f.hasNext())f.next(),w=g.value||w,g=g.mid;else break}return g&&g.value||w}findSuperstr(n){const f=this._iter.reset(n);let g=this._root;for(;g;){const w=f.cmp(g.segment);if(w>0)g=g.left;else if(w<0)g=g.right;else if(f.hasNext())f.next(),g=g.mid;else return g.mid?this._entries(g.mid):void 0}}forEach(n){for(const[f,g]of this)n(g,f)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(n){!n||(n.left&&(yield*this._entries(n.left)),n.value&&(yield[n.key,n.value]),n.mid&&(yield*this._entries(n.mid)),n.right&&(yield*this._entries(n.right)))}_isBalanced(){const n=f=>{if(!f)return!0;const g=f.balanceFactor();return g<-1||g>1?!1:n(f.left)&&n(f.right)};return n(this._root)}}t.TernarySearchTree=r;class h{constructor(n,f){this.uri=n,this.value=f}}class s{constructor(n,f){this[M]="ResourceMap",n instanceof s?(this.map=new Map(n.map),this.toKey=f??s.defaultToKey):(this.map=new Map,this.toKey=n??s.defaultToKey)}set(n,f){return this.map.set(this.toKey(n),new h(n,f)),this}get(n){return this.map.get(this.toKey(n))?.value}has(n){return this.map.has(this.toKey(n))}get size(){return this.map.size}clear(){this.map.clear()}delete(n){return this.map.delete(this.toKey(n))}forEach(n,f){typeof f!="undefined"&&(n=n.bind(f));for(let[g,w]of this.map)n(w.value,w.uri,this)}*values(){for(let n of this.map.values())yield n.value}*keys(){for(let n of this.map.values())yield n.uri}*entries(){for(let n of this.map.values())yield[n.uri,n.value]}*[(M=Symbol.toStringTag,Symbol.iterator)](){for(let[,n]of this.map)yield[n.uri,n.value]}}t.ResourceMap=s,s.defaultToKey=a=>a.toString();var d;(function(a){a[a.None=0]="None",a[a.AsOld=1]="AsOld",a[a.AsNew=2]="AsNew"})(d=t.Touch||(t.Touch={}));class i{constructor(){this[A]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(n){return this._map.has(n)}get(n,f=0){const g=this._map.get(n);if(!!g)return f!==0&&this.touch(g,f),g.value}set(n,f,g=0){let w=this._map.get(n);if(w)w.value=f,g!==0&&this.touch(w,g);else{switch(w={key:n,value:f,next:void 0,previous:void 0},g){case 0:this.addItemLast(w);break;case 1:this.addItemFirst(w);break;case 2:this.addItemLast(w);break;default:this.addItemLast(w);break}this._map.set(n,w),this._size++}return this}delete(n){return!!this.remove(n)}remove(n){const f=this._map.get(n);if(!!f)return this._map.delete(n),this.removeItem(f),this._size--,f.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const n=this._head;return this._map.delete(n.key),this.removeItem(n),this._size--,n.value}forEach(n,f){const g=this._state;let w=this._head;for(;w;){if(f?n.bind(f)(w.value,w.key,this):n(w.value,w.key,this),this._state!==g)throw new Error("LinkedMap got modified during iteration.");w=w.next}}keys(){const n=this,f=this._state;let g=this._head;const w={[Symbol.iterator](){return w},next(){if(n._state!==f)throw new Error("LinkedMap got modified during iteration.");if(g){const v={value:g.key,done:!1};return g=g.next,v}else return{value:void 0,done:!0}}};return w}values(){const n=this,f=this._state;let g=this._head;const w={[Symbol.iterator](){return w},next(){if(n._state!==f)throw new Error("LinkedMap got modified during iteration.");if(g){const v={value:g.value,done:!1};return g=g.next,v}else return{value:void 0,done:!0}}};return w}entries(){const n=this,f=this._state;let g=this._head;const w={[Symbol.iterator](){return w},next(){if(n._state!==f)throw new Error("LinkedMap got modified during iteration.");if(g){const v={value:[g.key,g.value],done:!1};return g=g.next,v}else return{value:void 0,done:!0}}};return w}[(A=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(n){if(n>=this.size)return;if(n===0){this.clear();return}let f=this._head,g=this.size;for(;f&&g>n;)this._map.delete(f.key),f=f.next,g--;this._head=f,this._size=g,f&&(f.previous=void 0),this._state++}addItemFirst(n){if(!this._head&&!this._tail)this._tail=n;else if(this._head)n.next=this._head,this._head.previous=n;else throw new Error("Invalid list");this._head=n,this._state++}addItemLast(n){if(!this._head&&!this._tail)this._head=n;else if(this._tail)n.previous=this._tail,this._tail.next=n;else throw new Error("Invalid list");this._tail=n,this._state++}removeItem(n){if(n===this._head&&n===this._tail)this._head=void 0,this._tail=void 0;else if(n===this._head){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this._head=n.next}else if(n===this._tail){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this._tail=n.previous}else{const f=n.next,g=n.previous;if(!f||!g)throw new Error("Invalid list");f.previous=g,g.next=f}n.next=void 0,n.previous=void 0,this._state++}touch(n,f){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(f!==1&&f!==2)){if(f===1){if(n===this._head)return;const g=n.next,w=n.previous;n===this._tail?(w.next=void 0,this._tail=w):(g.previous=w,w.next=g),n.previous=void 0,n.next=this._head,this._head.previous=n,this._head=n,this._state++}else if(f===2){if(n===this._tail)return;const g=n.next,w=n.previous;n===this._head?(g.previous=void 0,this._head=g):(g.previous=w,w.next=g),n.next=void 0,n.previous=this._tail,this._tail.next=n,this._tail=n,this._state++}}}toJSON(){const n=[];return this.forEach((f,g)=>{n.push([g,f])}),n}fromJSON(n){this.clear();for(const[f,g]of n)this.set(f,g)}}t.LinkedMap=i;class u extends i{constructor(n,f=1){super();this._limit=n,this._ratio=Math.min(Math.max(0,f),1)}get limit(){return this._limit}set limit(n){this._limit=n,this.checkTrim()}get ratio(){return this._ratio}set ratio(n){this._ratio=Math.min(Math.max(0,n),1),this.checkTrim()}get(n,f=2){return super.get(n,f)}peek(n){return super.get(n,0)}set(n,f){return super.set(n,f,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}t.LRUCache=u;class m{constructor(n){e.set(this,void 0),oe(this,e,n,"f")}get size(){return re(this,e,"f").size}forEach(n,f){re(this,e,"f").forEach(n,f)}get(n){return re(this,e,"f").get(n)}has(n){return re(this,e,"f").has(n)}entries(){return re(this,e,"f").entries()}keys(){return re(this,e,"f").keys()}values(){return re(this,e,"f").values()}[(e=new WeakMap,Symbol.iterator)](){return re(this,e,"f").entries()}}t.ReadonlyMapView=m}),define(ee[13],te([0,1,4,3,2,41]),function(Z,t,U,D,M,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLineAndColumnAware=t.indexOfPath=t.getDriveLetter=t.hasDriveLetter=t.isRootOrDriveLetter=t.sanitizeFilePath=t.isWindowsDriveLetter=t.isEqualOrParent=t.isEqual=t.isValidBasename=t.isUNC=t.getRoot=t.toPosixPath=t.toSlashes=t.isPathSeparator=void 0;function e(a){return a===47||a===92}t.isPathSeparator=e;function S(a){return a.replace(/[\\/]/g,U.posix.sep)}t.toSlashes=S;function N(a){return a.indexOf("/")===-1&&(a=S(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}t.toPosixPath=N;function C(a,n=U.posix.sep){if(!a)return"";const f=a.length,g=a.charCodeAt(0);if(e(g)){if(e(a.charCodeAt(1))&&!e(a.charCodeAt(2))){let v=3;const l=v;for(;v<f&&!e(a.charCodeAt(v));v++);if(l!==v&&!e(a.charCodeAt(v+1))){for(v+=1;v<f;v++)if(e(a.charCodeAt(v)))return a.slice(0,v+1).replace(/[\\/]/g,n)}}return n}else if(r(g)&&a.charCodeAt(1)===58)return e(a.charCodeAt(2))?a.slice(0,2)+n:a.slice(0,2);let w=a.indexOf("://");if(w!==-1){for(w+=3;w<f;w++)if(e(a.charCodeAt(w)))return a.slice(0,w+1)}return""}t.getRoot=C;function E(a){if(!D.isWindows||!a||a.length<5)return!1;let n=a.charCodeAt(0);if(n!==92||(n=a.charCodeAt(1),n!==92))return!1;let f=2;const g=f;for(;f<a.length&&(n=a.charCodeAt(f),n!==92);f++);return!(g===f||(n=a.charCodeAt(f+1),isNaN(n)||n===92))}t.isUNC=E;const T=/[\\/:\*\?"<>\|]/g,k=/[\\/]/g,P=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function _(a,n=D.isWindows){const f=n?T:k;return!(!a||a.length===0||/^\s+$/.test(a)||(f.lastIndex=0,f.test(a))||n&&P.test(a)||a==="."||a===".."||n&&a[a.length-1]==="."||n&&a.length!==a.trim().length||a.length>255)}t.isValidBasename=_;function b(a,n,f){const g=a===n;return!f||g?g:!a||!n?!1:(0,M.equalsIgnoreCase)(a,n)}t.isEqual=b;function c(a,n,f,g=U.sep){if(a===n)return!0;if(!a||!n||n.length>a.length)return!1;if(f){if(!(0,M.startsWithIgnoreCase)(a,n))return!1;if(n.length===a.length)return!0;let v=n.length;return n.charAt(n.length-1)===g&&v--,a.charAt(v)===g}return n.charAt(n.length-1)!==g&&(n+=g),a.indexOf(n)===0}t.isEqualOrParent=c;function r(a){return a>=65&&a<=90||a>=97&&a<=122}t.isWindowsDriveLetter=r;function h(a,n){return D.isWindows&&a.endsWith(":")&&(a+=U.sep),(0,U.isAbsolute)(a)||(a=(0,U.join)(n,a)),a=(0,U.normalize)(a),D.isWindows?(a=(0,M.rtrim)(a,U.sep),a.endsWith(":")&&(a+=U.sep)):(a=(0,M.rtrim)(a,U.sep),a||(a=U.sep)),a}t.sanitizeFilePath=h;function s(a){const n=(0,U.normalize)(a);return D.isWindows?a.length>3?!1:d(n)&&(a.length===2||n.charCodeAt(2)===92):n===U.posix.sep}t.isRootOrDriveLetter=s;function d(a,n){return(n!==void 0?n:D.isWindows)?r(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}t.hasDriveLetter=d;function i(a){return d(a)?a[0]:void 0}t.getDriveLetter=i;function u(a,n,f){return n.length>a.length?-1:a===n?0:(f&&(a=a.toLowerCase(),n=n.toLowerCase()),a.indexOf(n))}t.indexOfPath=u;function m(a){const n=a.split(":");let f,g,w;if(n.forEach(v=>{const l=Number(v);(0,A.isNumber)(l)?g===void 0?g=l:w===void 0&&(w=l):f=f?[f,v].join(":"):v}),!f)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:f,line:g!==void 0?g:void 0,column:w!==void 0?w:g!==void 0?1:void 0}}t.parseLineAndColumnAware=m}),define(ee[9],te([0,1,3,10]),function(Z,t,U,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileAccess=t.RemoteAuthorities=t.Schemas=void 0;var M;(function(S){S.inMemory="inmemory",S.vscode="vscode",S.internal="private",S.walkThrough="walkThrough",S.walkThroughSnippet="walkThroughSnippet",S.http="http",S.https="https",S.file="file",S.mailto="mailto",S.untitled="untitled",S.data="data",S.command="command",S.vscodeRemote="vscode-remote",S.vscodeRemoteResource="vscode-remote-resource",S.userData="vscode-userdata",S.vscodeCustomEditor="vscode-custom-editor",S.vscodeNotebook="vscode-notebook",S.vscodeNotebookCell="vscode-notebook-cell",S.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",S.vscodeNotebookCellOutput="vscode-notebook-cell-output",S.vscodeInteractive="vscode-interactive",S.vscodeInteractiveInput="vscode-interactive-input",S.vscodeSettings="vscode-settings",S.vscodeWorkspaceTrust="vscode-workspace-trust",S.vscodeTerminal="vscode-terminal",S.webviewPanel="webview-panel",S.vscodeWebview="vscode-webview",S.extension="extension",S.vscodeFileResource="vscode-file",S.tmp="tmp",S.vsls="vsls"})(M=t.Schemas||(t.Schemas={}));class A{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(N){this._preferredWebSchema=N}setDelegate(N){this._delegate=N}set(N,C,E){this._hosts[N]=C,this._ports[N]=E}setConnectionToken(N,C){this._connectionTokens[N]=C}rewrite(N){if(this._delegate)return this._delegate(N);const C=N.authority;let E=this._hosts[C];E&&E.indexOf(":")!==-1&&(E=`[${E}]`);const T=this._ports[C],k=this._connectionTokens[C];let P=`path=${encodeURIComponent(N.path)}`;return typeof k=="string"&&(P+=`&tkn=${encodeURIComponent(k)}`),D.URI.from({scheme:U.isWeb?this._preferredWebSchema:M.vscodeRemoteResource,authority:`${E}:${T}`,path:"/vscode-remote-resource",query:P})}}t.RemoteAuthorities=new A;class e{asBrowserUri(N,C){const E=this.toUri(N,C);return E.scheme===M.vscodeRemote?t.RemoteAuthorities.rewrite(E):E.scheme===M.file&&(U.isNative||typeof U.globals.importScripts=="function"&&U.globals.origin===`${M.vscodeFileResource}://${e.FALLBACK_AUTHORITY}`)?E.with({scheme:M.vscodeFileResource,authority:E.authority||e.FALLBACK_AUTHORITY,query:null,fragment:null}):E}asFileUri(N,C){const E=this.toUri(N,C);return E.scheme===M.vscodeFileResource?E.with({scheme:M.file,authority:E.authority!==e.FALLBACK_AUTHORITY?E.authority:null,query:null,fragment:null}):E}toUri(N,C){return D.URI.isUri(N)?N:D.URI.parse(C.toUrl(N))}}e.FALLBACK_AUTHORITY="vscode-app",t.FileAccess=new e}),define(ee[14],te([0,1,13,9,4,3,2,10]),function(Z,t,U,D,M,A,e,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLocalResource=t.DataUri=t.distinctParents=t.addTrailingPathSeparator=t.removeTrailingPathSeparator=t.hasTrailingPathSeparator=t.isEqualAuthority=t.isAbsolutePath=t.resolvePath=t.relativePath=t.normalizePath=t.joinPath=t.dirname=t.extname=t.basename=t.basenameOrAuthority=t.getComparisonKey=t.isEqualOrParent=t.isEqual=t.extUriIgnorePathCase=t.extUriBiasedIgnorePathCase=t.extUri=t.ExtUri=t.originalFSPath=void 0;function N(P){return(0,S.uriToFsPath)(P,!0)}t.originalFSPath=N;class C{constructor(_){this._ignorePathCasing=_}compare(_,b,c=!1){return _===b?0:(0,e.compare)(this.getComparisonKey(_,c),this.getComparisonKey(b,c))}isEqual(_,b,c=!1){return _===b?!0:!_||!b?!1:this.getComparisonKey(_,c)===this.getComparisonKey(b,c)}getComparisonKey(_,b=!1){return _.with({path:this._ignorePathCasing(_)?_.path.toLowerCase():void 0,fragment:b?null:void 0}).toString()}ignorePathCasing(_){return this._ignorePathCasing(_)}isEqualOrParent(_,b,c=!1){if(_.scheme===b.scheme){if(_.scheme===D.Schemas.file)return U.isEqualOrParent(N(_),N(b),this._ignorePathCasing(_))&&_.query===b.query&&(c||_.fragment===b.fragment);if((0,t.isEqualAuthority)(_.authority,b.authority))return U.isEqualOrParent(_.path,b.path,this._ignorePathCasing(_),"/")&&_.query===b.query&&(c||_.fragment===b.fragment)}return!1}joinPath(_,...b){return S.URI.joinPath(_,...b)}basenameOrAuthority(_){return(0,t.basename)(_)||_.authority}basename(_){return M.posix.basename(_.path)}extname(_){return M.posix.extname(_.path)}dirname(_){if(_.path.length===0)return _;let b;return _.scheme===D.Schemas.file?b=S.URI.file(M.dirname(N(_))).path:(b=M.posix.dirname(_.path),_.authority&&b.length&&b.charCodeAt(0)!==47&&(console.error(`dirname("${_.toString})) resulted in a relative path`),b="/")),_.with({path:b})}normalizePath(_){if(!_.path.length)return _;let b;return _.scheme===D.Schemas.file?b=S.URI.file(M.normalize(N(_))).path:b=M.posix.normalize(_.path),_.with({path:b})}relativePath(_,b){if(_.scheme!==b.scheme||!(0,t.isEqualAuthority)(_.authority,b.authority))return;if(_.scheme===D.Schemas.file){const h=M.relative(N(_),N(b));return A.isWindows?U.toSlashes(h):h}let c=_.path||"/",r=b.path||"/";if(this._ignorePathCasing(_)){let h=0;for(const s=Math.min(c.length,r.length);h<s&&!(c.charCodeAt(h)!==r.charCodeAt(h)&&c.charAt(h).toLowerCase()!==r.charAt(h).toLowerCase());h++);c=r.substr(0,h)+c.substr(h)}return M.posix.relative(c,r)}resolvePath(_,b){if(_.scheme===D.Schemas.file){const c=S.URI.file(M.resolve(N(_),b));return _.with({authority:c.authority,path:c.path})}return b=U.toPosixPath(b),_.with({path:M.posix.resolve(_.path,b)})}isAbsolutePath(_){return!!_.path&&_.path[0]==="/"}isEqualAuthority(_,b){return _===b||_!==void 0&&b!==void 0&&(0,e.equalsIgnoreCase)(_,b)}hasTrailingPathSeparator(_,b=M.sep){if(_.scheme===D.Schemas.file){const c=N(_);return c.length>U.getRoot(c).length&&c[c.length-1]===b}else{const c=_.path;return c.length>1&&c.charCodeAt(c.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(_.fsPath)}}removeTrailingPathSeparator(_,b=M.sep){return(0,t.hasTrailingPathSeparator)(_,b)?_.with({path:_.path.substr(0,_.path.length-1)}):_}addTrailingPathSeparator(_,b=M.sep){let c=!1;if(_.scheme===D.Schemas.file){const r=N(_);c=r!==void 0&&r.length===U.getRoot(r).length&&r[r.length-1]===b}else{b="/";const r=_.path;c=r.length===1&&r.charCodeAt(r.length-1)===47}return!c&&!(0,t.hasTrailingPathSeparator)(_,b)?_.with({path:_.path+"/"}):_}}t.ExtUri=C,t.extUri=new C(()=>!1),t.extUriBiasedIgnorePathCase=new C(P=>P.scheme===D.Schemas.file?!A.isLinux:!0),t.extUriIgnorePathCase=new C(P=>!0),t.isEqual=t.extUri.isEqual.bind(t.extUri),t.isEqualOrParent=t.extUri.isEqualOrParent.bind(t.extUri),t.getComparisonKey=t.extUri.getComparisonKey.bind(t.extUri),t.basenameOrAuthority=t.extUri.basenameOrAuthority.bind(t.extUri),t.basename=t.extUri.basename.bind(t.extUri),t.extname=t.extUri.extname.bind(t.extUri),t.dirname=t.extUri.dirname.bind(t.extUri),t.joinPath=t.extUri.joinPath.bind(t.extUri),t.normalizePath=t.extUri.normalizePath.bind(t.extUri),t.relativePath=t.extUri.relativePath.bind(t.extUri),t.resolvePath=t.extUri.resolvePath.bind(t.extUri),t.isAbsolutePath=t.extUri.isAbsolutePath.bind(t.extUri),t.isEqualAuthority=t.extUri.isEqualAuthority.bind(t.extUri),t.hasTrailingPathSeparator=t.extUri.hasTrailingPathSeparator.bind(t.extUri),t.removeTrailingPathSeparator=t.extUri.removeTrailingPathSeparator.bind(t.extUri),t.addTrailingPathSeparator=t.extUri.addTrailingPathSeparator.bind(t.extUri);function E(P,_){const b=[];for(let c=0;c<P.length;c++){const r=_(P[c]);P.some((h,s)=>s===c?!1:(0,t.isEqualOrParent)(r,_(h)))||b.push(P[c])}return b}t.distinctParents=E;var T;(function(P){P.META_DATA_LABEL="label",P.META_DATA_DESCRIPTION="description",P.META_DATA_SIZE="size",P.META_DATA_MIME="mime";function _(b){const c=new Map;b.path.substring(b.path.indexOf(";")+1,b.path.lastIndexOf(";")).split(";").forEach(s=>{const[d,i]=s.split(":");d&&i&&c.set(d,i)});const h=b.path.substring(0,b.path.indexOf(";"));return h&&c.set(P.META_DATA_MIME,h),c}P.parseMetaData=_})(T=t.DataUri||(t.DataUri={}));function k(P,_,b){if(_){let c=P.path;return c&&c[0]!==M.posix.sep&&(c=M.posix.sep+c),P.with({scheme:b,authority:_,path:c})}return P.with({scheme:b})}t.toLocalResource=k}),define(ee[23],te([0,1,42,21,5,6,14,3]),function(Z,t,U,D,M,A,e,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCancelableAsyncIterable=t.CancelableAsyncIterableObject=t.AsyncIterableObject=t.Promises=t.DeferredPromise=t.IntervalCounter=t.TaskSequentializer=t.retry=t.IdleValue=t.runWhenIdle=t.ThrottledWorker=t.RunOnceWorker=t.ProcessTimeRunOnceScheduler=t.RunOnceScheduler=t.IntervalTimer=t.TimeoutTimer=t.ResourceQueue=t.Queue=t.Limiter=t.firstParallel=t.first=t.sequence=t.disposableTimeout=t.timeout=t.AutoOpenBarrier=t.Barrier=t.ThrottledDelayer=t.Delayer=t.SequencerByKey=t.Sequencer=t.Throttler=t.asPromise=t.raceTimeout=t.raceCancellablePromises=t.raceCancellation=t.createCancelablePromise=t.isThenable=void 0;function N(F){return!!F&&typeof F.then=="function"}t.isThenable=N;function C(F){const y=new U.CancellationTokenSource,O=F(y.token),q=new Promise((H,$)=>{const x=y.token.onCancellationRequested(()=>{x.dispose(),y.dispose(),$((0,D.canceled)())});Promise.resolve(O).then(X=>{x.dispose(),y.dispose(),H(X)},X=>{x.dispose(),y.dispose(),$(X)})});return new class{cancel(){y.cancel()}then(H,$){return q.then(H,$)}catch(H){return this.then(void 0,H)}finally(H){return q.finally(H)}}}t.createCancelablePromise=C;function E(F,y,O){return Promise.race([F,new Promise(q=>y.onCancellationRequested(()=>q(O)))])}t.raceCancellation=E;async function T(F){let y=-1;const O=F.map((H,$)=>H.then(x=>(y=$,x))),q=await Promise.race(O);return F.forEach((H,$)=>{$!==y&&H.cancel()}),q}t.raceCancellablePromises=T;function k(F,y,O){let q;const H=setTimeout(()=>{q?.(void 0),O?.()},y);return Promise.race([F.finally(()=>clearTimeout(H)),new Promise($=>q=$)])}t.raceTimeout=k;function P(F){return new Promise((y,O)=>{const q=F();N(q)?q.then(y,O):y(q)})}t.asPromise=P;class _{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(y){if(this.activePromise){if(this.queuedPromiseFactory=y,!this.queuedPromise){const O=()=>{this.queuedPromise=null;const q=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,q};this.queuedPromise=new Promise(q=>{this.activePromise.then(O,O).then(q)})}return new Promise((O,q)=>{this.queuedPromise.then(O,q)})}return this.activePromise=y(),new Promise((O,q)=>{this.activePromise.then(H=>{this.activePromise=null,O(H)},H=>{this.activePromise=null,q(H)})})}}t.Throttler=_;class b{constructor(){this.current=Promise.resolve(null)}queue(y){return this.current=this.current.then(()=>y(),()=>y())}}t.Sequencer=b;class c{constructor(){this.promiseMap=new Map}queue(y,O){const H=(this.promiseMap.get(y)??Promise.resolve()).catch(()=>{}).then(O).finally(()=>{this.promiseMap.get(y)===H&&this.promiseMap.delete(y)});return this.promiseMap.set(y,H),H}}t.SequencerByKey=c;class r{constructor(y){this.defaultDelay=y,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(y,O=this.defaultDelay){return this.task=y,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((q,H)=>{this.doResolve=q,this.doReject=H}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const q=this.task;return this.task=null,q()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},O),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,D.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}t.Delayer=r;class h{constructor(y){this.delayer=new r(y),this.throttler=new _}trigger(y,O){return this.delayer.trigger(()=>this.throttler.queue(y),O)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}t.ThrottledDelayer=h;class s{constructor(){this._isOpen=!1,this._promise=new Promise((y,O)=>{this._completePromise=y})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}t.Barrier=s;class d extends s{constructor(y){super();this._timeout=setTimeout(()=>this.open(),y)}open(){clearTimeout(this._timeout),super.open()}}t.AutoOpenBarrier=d;function i(F,y){return y?new Promise((O,q)=>{const H=setTimeout(()=>{$.dispose(),O()},F),$=y.onCancellationRequested(()=>{clearTimeout(H),$.dispose(),q((0,D.canceled)())})}):C(O=>i(F,O))}t.timeout=i;function u(F,y=0){const O=setTimeout(F,y);return(0,A.toDisposable)(()=>clearTimeout(O))}t.disposableTimeout=u;function m(F){const y=[];let O=0;const q=F.length;function H(){return O<q?F[O++]():null}function $(x){x!=null&&y.push(x);const X=H();return X?X.then($):Promise.resolve(y)}return Promise.resolve(null).then($)}t.sequence=m;function a(F,y=q=>!!q,O=null){let q=0;const H=F.length,$=()=>{if(q>=H)return Promise.resolve(O);const x=F[q++];return Promise.resolve(x()).then(J=>y(J)?Promise.resolve(J):$())};return $()}t.first=a;function n(F,y=q=>!!q,O=null){if(F.length===0)return Promise.resolve(O);let q=F.length;const H=()=>{q=-1;for(const $ of F)$.cancel?.()};return new Promise(($,x)=>{for(const X of F)X.then(J=>{--q>=0&&y(J)?(H(),$(J)):q===0&&$(O)}).catch(J=>{--q>=0&&(H(),x(J))})})}t.firstParallel=n;class f{constructor(y){this._size=0,this.maxDegreeOfParalellism=y,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new M.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(y){return this._size++,new Promise((O,q)=>{this.outstandingPromises.push({factory:y,c:O,e:q}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const y=this.outstandingPromises.shift();this.runningPromises++;const O=y.factory();O.then(y.c,y.e),O.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}t.Limiter=f;class g extends f{constructor(){super(1)}}t.Queue=g;class w{constructor(){this.queues=new Map}queueFor(y,O=e.extUri){const q=O.getComparisonKey(y);let H=this.queues.get(q);return H||(H=new g,M.Event.once(H.onFinished)(()=>{H?.dispose(),this.queues.delete(q)}),this.queues.set(q,H)),H}dispose(){this.queues.forEach(y=>y.dispose()),this.queues.clear()}}t.ResourceQueue=w;class v{constructor(y,O){this._token=-1,typeof y=="function"&&typeof O=="number"&&this.setIfNotSet(y,O)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(y,O){this.cancel(),this._token=setTimeout(()=>{this._token=-1,y()},O)}setIfNotSet(y,O){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,y()},O))}}t.TimeoutTimer=v;class l{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(y,O){this.cancel(),this._token=setInterval(()=>{y()},O)}}t.IntervalTimer=l;class p{constructor(y,O){this.timeoutToken=-1,this.runner=y,this.timeout=O,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(y=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,y)}get delay(){return this.timeout}set delay(y){this.timeout=y}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}t.RunOnceScheduler=p;class I{constructor(y,O){O%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${O}ms is not a multiple of 1000ms.`),this.runner=y,this.timeout=O,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(y=this.timeout){y%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${y}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(y/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}t.ProcessTimeRunOnceScheduler=I;class z extends p{constructor(y,O){super(y,O);this.units=[]}work(y){this.units.push(y),this.isScheduled()||this.schedule()}doRun(){const y=this.units;this.units=[],this.runner&&this.runner(y)}dispose(){this.units=[],super.dispose()}}t.RunOnceWorker=z;class j extends A.Disposable{constructor(y,O,q,H){super();this.maxWorkChunkSize=y,this.maxPendingWork=O,this.throttleDelay=q,this.handler=H,this.pendingWork=[],this.throttler=this._register(new A.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(y){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+y.length>this.maxPendingWork)return!1}else if(this.pending+y.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...y),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new p(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}t.ThrottledWorker=j,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?t.runWhenIdle=F=>{(0,S.setTimeout0)(()=>{if(y)return;const O=Date.now()+3;F(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,O-Date.now())}}))});let y=!1;return{dispose(){y||(y=!0)}}}:t.runWhenIdle=(F,y)=>{const O=requestIdleCallback(F,typeof y=="number"?{timeout:y}:void 0);let q=!1;return{dispose(){q||(q=!0,cancelIdleCallback(O))}}}}();class B{constructor(y){this._didRun=!1,this._executor=()=>{try{this._value=y()}catch(O){this._error=O}finally{this._didRun=!0}},this._handle=(0,t.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}t.IdleValue=B;async function o(F,y,O){let q;for(let H=0;H<O;H++)try{return await F()}catch($){q=$,await i(y)}throw q}t.retry=o;class L{hasPending(y){return this._pending?typeof y=="number"?this._pending.taskId===y:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(y,O,q){return this._pending={taskId:y,cancel:()=>q?.(),promise:O},O.then(()=>this.donePending(y),()=>this.donePending(y)),O}donePending(y){this._pending&&y===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const y=this._next;this._next=void 0,y.run().then(y.promiseResolve,y.promiseReject)}}setNext(y){if(this._next)this._next.run=y;else{let O,q;const H=new Promise(($,x)=>{O=$,q=x});this._next={run:y,promise:H,promiseResolve:O,promiseReject:q}}return this._next.promise}}t.TaskSequentializer=L;class R{constructor(y,O=()=>Date.now()){this.interval=y,this.nowFn=O,this.lastIncrementTime=0,this.value=0}increment(){const y=this.nowFn();return y-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=y,this.value=0),this.value++,this.value}}t.IntervalCounter=R;class W{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((y,O)=>{this.completeCallback=y,this.errorCallback=O})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(y){return new Promise(O=>{this.completeCallback(y),this.resolved=!0,O()})}error(y){return new Promise(O=>{this.errorCallback(y),this.rejected=!0,O()})}cancel(){new Promise(y=>{this.errorCallback((0,D.canceled)()),this.rejected=!0,y()})}}t.DeferredPromise=W;var Y;(function(F){async function y(q){let H;const $=await Promise.all(q.map(x=>x.then(X=>X,X=>{H||(H=X)})));if(typeof H!="undefined")throw H;return $}F.settled=y;function O(q){return new Promise(async(H,$)=>{try{await q(H,$)}catch(x){$(x)}})}F.withAsyncBody=O})(Y=t.Promises||(t.Promises={}));var Q;(function(F){F[F.Initial=0]="Initial",F[F.DoneOK=1]="DoneOK",F[F.DoneError=2]="DoneError"})(Q||(Q={}));class K{constructor(y){this._state=0,this._results=[],this._error=null,this._onStateChanged=new M.Emitter,queueMicrotask(async()=>{const O={emitOne:q=>this.emitOne(q),emitMany:q=>this.emitMany(q),reject:q=>this.reject(q)};try{await Promise.resolve(y(O)),this.resolve()}catch(q){this.reject(q)}finally{O.emitOne=void 0,O.emitMany=void 0,O.reject=void 0}})}static fromArray(y){return new K(O=>{O.emitMany(y)})}static fromPromise(y){return new K(async O=>{O.emitMany(await y)})}static fromPromises(y){return new K(async O=>{await Promise.all(y.map(async q=>O.emitOne(await q)))})}static merge(y){return new K(async O=>{await Promise.all(y.map(async q=>{for await(const H of q)O.emitOne(H)}))})}[Symbol.asyncIterator](){let y=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(y<this._results.length)return{done:!1,value:this._results[y++]};if(this._state===1)return{done:!0,value:void 0};await M.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(y,O){return new K(async q=>{for await(const H of y)q.emitOne(O(H))})}map(y){return K.map(this,y)}static filter(y,O){return new K(async q=>{for await(const H of y)O(H)&&q.emitOne(H)})}filter(y){return K.filter(this,y)}static coalesce(y){return K.filter(y,O=>!!O)}coalesce(){return K.coalesce(this)}static async toPromise(y){const O=[];for await(const q of y)O.push(q);return O}toPromise(){return K.toPromise(this)}emitOne(y){this._state===0&&(this._results.push(y),this._onStateChanged.fire())}emitMany(y){this._state===0&&(this._results=this._results.concat(y),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(y){this._state===0&&(this._state=2,this._error=y,this._onStateChanged.fire())}}t.AsyncIterableObject=K,K.EMPTY=K.fromArray([]);class V extends K{constructor(y,O){super(O);this._source=y}cancel(){this._source.cancel()}}t.CancelableAsyncIterableObject=V;function G(F){const y=new U.CancellationTokenSource,O=F(y.token);return new V(y,async q=>{const H=y.token.onCancellationRequested(()=>{H.dispose(),y.dispose(),q.reject((0,D.canceled)())});try{for await(const $ of O){if(y.token.isCancellationRequested)return;q.emitOne($)}H.dispose(),y.dispose()}catch($){H.dispose(),y.dispose(),q.reject($)}})}t.createCancelableAsyncIterable=G}),define(ee[11],te([0,1,23,13,12,4,2]),function(Z,t,U,D,M,A,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPathTerms=t.getBasenameTerms=t.isRelativePattern=t.hasSiblingFn=t.hasSiblingPromiseFn=t.parse=t.match=t.splitGlobAware=t.getEmptyExpression=void 0;function S(){return Object.create(null)}t.getEmptyExpression=S;const N="**",C="/",E="[/\\\\]",T="[^/\\\\]",k=/\//g;function P(V){switch(V){case 0:return"";case 1:return`${T}*?`;default:return`(?:${E}|${T}+${E}|${E}${T}+)*?`}}function _(V,G){if(!V)return[];const F=[];let y=!1,O=!1,q="";for(const H of V){switch(H){case G:if(!y&&!O){F.push(q),q="";continue}break;case"{":y=!0;break;case"}":y=!1;break;case"[":O=!0;break;case"]":O=!1;break}q+=H}return q&&F.push(q),F}t.splitGlobAware=_;function b(V){if(!V)return"";let G="";const F=_(V,C);if(F.every(y=>y===N))G=".*";else{let y=!1;F.forEach((O,q)=>{if(O===N){y||(G+=P(2),y=!0);return}let H=!1,$="",x=!1,X="";for(const J of O){if(J!=="}"&&H){$+=J;continue}if(x&&(J!=="]"||!X)){let ne;J==="-"?ne=J:(J==="^"||J==="!")&&!X?ne="^":J===C?ne="":ne=e.escapeRegExpCharacters(J),X+=ne;continue}switch(J){case"{":H=!0;continue;case"[":x=!0;continue;case"}":G+=`(?:${_($,",").map(se=>b(se)).join("|")})`,H=!1,$="";break;case"]":G+="["+X+"]",x=!1,X="";break;case"?":G+=T;continue;case"*":G+=P(1);continue;default:G+=e.escapeRegExpCharacters(J)}}q<F.length-1&&(F[q+1]!==N||q+2<F.length)&&(G+=E),y=!1})}return G}const c=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,h=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,s=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,d=/^\*\*((\/[\w\.-]+)+)\/?$/,i=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new M.LRUCache(1e4),m=function(){return!1},a=function(){return null};function n(V,G){if(!V)return a;let F;typeof V!="string"?F=V.pattern:F=V,F=F.trim();const y=`${F}_${!!G.trimForExclusions}`;let O=u.get(y);if(O)return f(O,V);let q;if(c.test(F)){const H=F.substr(4);O=function($,x){return typeof $=="string"&&$.endsWith(H)?F:null}}else(q=r.exec(g(F,G)))?O=w(q[1],F):(G.trimForExclusions?s:h).test(F)?O=v(F,G):(q=d.exec(g(F,G)))?O=l(q[1].substr(1),F,!0):(q=i.exec(g(F,G)))?O=l(q[1],F,!1):O=p(F);return u.set(y,O),f(O,V)}function f(V,G){return typeof G=="string"?V:function(F,y){return D.isEqualOrParent(F,G.base)?V(A.relative(G.base,F),y):null}}function g(V,G){return G.trimForExclusions&&V.endsWith("/**")?V.substr(0,V.length-2):V}function w(V,G){const F=`/${V}`,y=`\\${V}`,O=function(H,$){return typeof H!="string"?null:$?$===V?G:null:H===V||H.endsWith(F)||H.endsWith(y)?G:null},q=[V];return O.basenames=q,O.patterns=[G],O.allBasenames=q,O}function v(V,G){const F=K(V.slice(1,-1).split(",").map($=>n($,G)).filter($=>$!==a),V),y=F.length;if(!y)return a;if(y===1)return F[0];const O=function($,x){for(let X=0,J=F.length;X<J;X++)if(F[X]($,x))return V;return null},q=F.find($=>!!$.allBasenames);q&&(O.allBasenames=q.allBasenames);const H=F.reduce(($,x)=>x.allPaths?$.concat(x.allPaths):$,[]);return H.length&&(O.allPaths=H),O}function l(V,G,F){const y=A.sep===A.posix.sep,O=y?V:V.replace(k,A.sep),q=A.sep+O,H=A.posix.sep+V,$=F?function(x,X){return typeof x=="string"&&(x===O||x.endsWith(q)||!y&&(x===V||x.endsWith(H)))?G:null}:function(x,X){return typeof x=="string"&&(x===O||!y&&x===V)?G:null};return $.allPaths=[(F?"*/":"./")+V],$}function p(V){try{const G=new RegExp(`^${b(V)}$`);return function(F){return G.lastIndex=0,typeof F=="string"&&G.test(F)?V:null}}catch(G){return a}}function I(V,G,F){return!V||typeof G!="string"?!1:z(V)(G,void 0,F)}t.match=I;function z(V,G={}){if(!V)return m;if(typeof V=="string"||L(V)){const F=n(V,G);if(F===a)return m;const y=function(O,q){return!!F(O,q)};return F.allBasenames&&(y.allBasenames=F.allBasenames),F.allPaths&&(y.allPaths=F.allPaths),y}return Y(V,G)}t.parse=z;function j(V){if(!V)return;let G;return F=>(G||(G=(V()||Promise.resolve([])).then(y=>y?o(y):{})),G.then(y=>!!y[F]))}t.hasSiblingPromiseFn=j;function B(V){if(!V)return;let G;return F=>{if(!G){const y=V();G=y?o(y):{}}return!!G[F]}}t.hasSiblingFn=B;function o(V){const G={};for(const F of V)G[F]=!0;return G}function L(V){const G=V;return G&&typeof G.base=="string"&&typeof G.pattern=="string"}t.isRelativePattern=L;function R(V){return V.allBasenames||[]}t.getBasenameTerms=R;function W(V){return V.allPaths||[]}t.getPathTerms=W;function Y(V,G){const F=K(Object.getOwnPropertyNames(V).map($=>Q($,V[$],G)).filter($=>$!==a)),y=F.length;if(!y)return a;if(!F.some($=>!!$.requiresSiblings)){if(y===1)return F[0];const $=function(J,ne){for(let ie=0,se=F.length;ie<se;ie++){const ae=F[ie](J,ne);if(ae)return ae}return null},x=F.find(J=>!!J.allBasenames);x&&($.allBasenames=x.allBasenames);const X=F.reduce((J,ne)=>ne.allPaths?J.concat(ne.allPaths):J,[]);return X.length&&($.allPaths=X),$}const O=function($,x,X){let J;for(let ne=0,ie=F.length;ne<ie;ne++){const se=F[ne];se.requiresSiblings&&X&&(x||(x=A.basename($)),J||(J=x.substr(0,x.length-A.extname($).length)));const ae=se($,x,J,X);if(ae)return ae}return null},q=F.find($=>!!$.allBasenames);q&&(O.allBasenames=q.allBasenames);const H=F.reduce(($,x)=>x.allPaths?$.concat(x.allPaths):$,[]);return H.length&&(O.allPaths=H),O}function Q(V,G,F){if(G===!1)return a;const y=n(V,F);if(y===a)return a;if(typeof G=="boolean")return y;if(G){const O=G.when;if(typeof O=="string"){const q=(H,$,x,X)=>{if(!X||!y(H,$))return null;const J=O.replace("$(basename)",x),ne=X(J);return(0,U.isThenable)(ne)?ne.then(ie=>ie?V:null):ne?V:null};return q.requiresSiblings=!0,q}}return y}function K(V,G){const F=V.filter($=>!!$.basenames);if(F.length<2)return V;const y=F.reduce(($,x)=>{const X=x.basenames;return X?$.concat(X):$},[]);let O;if(G){O=[];for(let $=0,x=y.length;$<x;$++)O.push(G)}else O=F.reduce(($,x)=>{const X=x.patterns;return X?$.concat(X):$},[]);const q=function($,x){if(typeof $!="string")return null;if(!x){let J;for(J=$.length;J>0;J--){const ne=$.charCodeAt(J-1);if(ne===47||ne===92)break}x=$.substr(J)}const X=y.indexOf(x);return X!==-1?O[X]:null};q.basenames=y,q.patterns=O,q.allBasenames=y;const H=V.filter($=>!$.basenames);return H.push(q),H}}),define(ee[24],te([0,1,11,9,4,14,2]),function(Z,t,U,D,M,A,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeMimeType=t.getExtensionForMimeType=t.getMediaMime=t.getMediaOrTextMime=t.isUnspecific=t.guessMimeTypes=t.clearTextMimes=t.registerTextMime=t.Mimes=void 0;var S;(function(n){n.text="text/plain",n.binary="application/octet-stream",n.unknown="application/unknown",n.markdown="text/markdown",n.latex="text/latex"})(S=t.Mimes||(t.Mimes={}));let N=[],C=[],E=[];function T(n,f=!1){const g=k(n);N.push(g),g.userConfigured?E.push(g):C.push(g),f&&!g.userConfigured&&N.forEach(w=>{w.mime===g.mime||w.userConfigured||(g.extension&&w.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&w.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&w.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&w.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}t.registerTextMime=T;function k(n){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:n.userConfigured,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?(0,U.parse)(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(M.posix.sep)>=0:!1}}function P(n){n?(N=N.filter(f=>!f.userConfigured),E=[]):(N=[],C=[],E=[])}t.clearTextMimes=P;function _(n,f){let g;if(n)switch(n.scheme){case D.Schemas.file:g=n.fsPath;break;case D.Schemas.data:g=A.DataUri.parseMetaData(n).get(A.DataUri.META_DATA_LABEL);break;default:g=n.path}if(!g)return[S.unknown];g=g.toLowerCase();const w=(0,M.basename)(g),v=b(g,w,E);if(v)return[v,S.text];const l=b(g,w,C);if(l)return[l,S.text];if(f){const p=c(f);if(p)return[p,S.text]}return[S.unknown]}t.guessMimeTypes=_;function b(n,f,g){let w=null,v=null,l=null;for(let p=g.length-1;p>=0;p--){const I=g[p];if(f===I.filenameLowercase){w=I;break}if(I.filepattern&&(!v||I.filepattern.length>v.filepattern.length)){const z=I.filepatternOnPath?n:f;I.filepatternLowercase?.(z)&&(v=I)}I.extension&&(!l||I.extension.length>l.extension.length)&&f.endsWith(I.extensionLowercase)&&(l=I)}return w?w.mime:v?v.mime:l?l.mime:null}function c(n){if((0,e.startsWithUTF8BOM)(n)&&(n=n.substr(1)),n.length>0)for(let f=N.length-1;f>=0;f--){const g=N[f];if(!g.firstline)continue;const w=n.match(g.firstline);if(w&&w.length>0)return g.mime}return null}function r(n){return n?typeof n=="string"?n===S.binary||n===S.text||n===S.unknown:n.length===1&&r(n[0]):!0}t.isUnspecific=r;const h={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},s={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function d(n){const f=(0,M.extname)(n),g=h[f.toLowerCase()];return g!==void 0?g:i(n)}t.getMediaOrTextMime=d;function i(n){const f=(0,M.extname)(n);return s[f.toLowerCase()]}t.getMediaMime=i;function u(n){for(const f in s)if(s[f]===n)return f}t.getExtensionForMimeType=u;const m=/^(.+)\/(.+?)(;.+)?$/;function a(n,f){const g=m.exec(n);return g?`${g[1].toLowerCase()}/${g[2].toLowerCase()}${g[3]??""}`:f?void 0:n}t.normalizeMimeType=a}),define(ee[25],te([0,1,2,3,8]),function(Z,t,U,D,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUTF16LE=t.createStringBuilder=t.hasTextDecoder=t.getPlatformTextDecoder=void 0;let A;function e(){return A||(A=new TextDecoder("UTF-16LE")),A}let S;function N(){return S||(S=new TextDecoder("UTF-16BE")),S}let C;function E(){return C||(C=D.isLittleEndian()?e():N()),C}t.getPlatformTextDecoder=E,t.hasTextDecoder=typeof TextDecoder!="undefined",t.hasTextDecoder?(t.createStringBuilder=b=>new P(b),t.decodeUTF16LE=T):(t.createStringBuilder=b=>new _,t.decodeUTF16LE=k);function T(b,c,r){const h=new Uint16Array(b.buffer,c,r);return r>0&&(h[0]===65279||h[0]===65534)?k(b,c,r):e().decode(h)}function k(b,c,r){let h=[],s=0;for(let d=0;d<r;d++){const i=M.readUInt16LE(b,c);c+=2,h[s++]=String.fromCharCode(i)}return h.join("")}class P{constructor(c){this._capacity=c|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const c=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return E().decode(c)}_flushBuffer(){const c=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[c]:this._completedStrings[this._completedStrings.length]=c}write1(c){const r=this._capacity-this._bufferLength;r<=1&&(r===0||U.isHighSurrogate(c))&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCII(c){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCIIString(c){const r=c.length;if(this._bufferLength+r>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=c;return}for(let h=0;h<r;h++)this._buffer[this._bufferLength++]=c.charCodeAt(h)}}class _{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCII(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCIIString(c){this._pieces[this._piecesLen++]=c}}}),define(ee[26],te([0,1]),function(Z,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recomputeTreeMetadata=t.updateTreeMetadata=t.fixInsert=t.rbDelete=t.rightRotate=t.leftRotate=t.resetSentinel=t.calculateLF=t.calculateSize=t.righttest=t.leftest=t.SENTINEL=t.NodeColor=t.TreeNode=void 0;class U{constructor(c,r){this.piece=c,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.SENTINEL)return M(this.right);let c=this;for(;c.parent!==t.SENTINEL&&c.parent.left!==c;)c=c.parent;return c.parent===t.SENTINEL?t.SENTINEL:c.parent}prev(){if(this.left!==t.SENTINEL)return A(this.left);let c=this;for(;c.parent!==t.SENTINEL&&c.parent.right!==c;)c=c.parent;return c.parent===t.SENTINEL?t.SENTINEL:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.TreeNode=U;var D;(function(b){b[b.Black=0]="Black",b[b.Red=1]="Red"})(D=t.NodeColor||(t.NodeColor={})),t.SENTINEL=new U(null,0),t.SENTINEL.parent=t.SENTINEL,t.SENTINEL.left=t.SENTINEL,t.SENTINEL.right=t.SENTINEL,t.SENTINEL.color=0;function M(b){for(;b.left!==t.SENTINEL;)b=b.left;return b}t.leftest=M;function A(b){for(;b.right!==t.SENTINEL;)b=b.right;return b}t.righttest=A;function e(b){return b===t.SENTINEL?0:b.size_left+b.piece.length+e(b.right)}t.calculateSize=e;function S(b){return b===t.SENTINEL?0:b.lf_left+b.piece.lineFeedCnt+S(b.right)}t.calculateLF=S;function N(){t.SENTINEL.parent=t.SENTINEL}t.resetSentinel=N;function C(b,c){let r=c.right;r.size_left+=c.size_left+(c.piece?c.piece.length:0),r.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=r.left,r.left!==t.SENTINEL&&(r.left.parent=c),r.parent=c.parent,c.parent===t.SENTINEL?b.root=r:c.parent.left===c?c.parent.left=r:c.parent.right=r,r.left=c,c.parent=r}t.leftRotate=C;function E(b,c){let r=c.left;c.left=r.right,r.right!==t.SENTINEL&&(r.right.parent=c),r.parent=c.parent,c.size_left-=r.size_left+(r.piece?r.piece.length:0),c.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),c.parent===t.SENTINEL?b.root=r:c===c.parent.right?c.parent.right=r:c.parent.left=r,r.right=c,c.parent=r}t.rightRotate=E;function T(b,c){let r,h;if(c.left===t.SENTINEL?(h=c,r=h.right):c.right===t.SENTINEL?(h=c,r=h.left):(h=M(c.right),r=h.right),h===b.root){b.root=r,r.color=0,c.detach(),N(),b.root.parent=t.SENTINEL;return}let s=h.color===1;if(h===h.parent.left?h.parent.left=r:h.parent.right=r,h===c?(r.parent=h.parent,_(b,r)):(h.parent===c?r.parent=h:r.parent=h.parent,_(b,r),h.left=c.left,h.right=c.right,h.parent=c.parent,h.color=c.color,c===b.root?b.root=h:c===c.parent.left?c.parent.left=h:c.parent.right=h,h.left!==t.SENTINEL&&(h.left.parent=h),h.right!==t.SENTINEL&&(h.right.parent=h),h.size_left=c.size_left,h.lf_left=c.lf_left,_(b,h)),c.detach(),r.parent.left===r){let i=e(r),u=S(r);if(i!==r.parent.size_left||u!==r.parent.lf_left){let m=i-r.parent.size_left,a=u-r.parent.lf_left;r.parent.size_left=i,r.parent.lf_left=u,P(b,r.parent,m,a)}}if(_(b,r.parent),s){N();return}let d;for(;r!==b.root&&r.color===0;)r===r.parent.left?(d=r.parent.right,d.color===1&&(d.color=0,r.parent.color=1,C(b,r.parent),d=r.parent.right),d.left.color===0&&d.right.color===0?(d.color=1,r=r.parent):(d.right.color===0&&(d.left.color=0,d.color=1,E(b,d),d=r.parent.right),d.color=r.parent.color,r.parent.color=0,d.right.color=0,C(b,r.parent),r=b.root)):(d=r.parent.left,d.color===1&&(d.color=0,r.parent.color=1,E(b,r.parent),d=r.parent.left),d.left.color===0&&d.right.color===0?(d.color=1,r=r.parent):(d.left.color===0&&(d.right.color=0,d.color=1,C(b,d),d=r.parent.left),d.color=r.parent.color,r.parent.color=0,d.left.color=0,E(b,r.parent),r=b.root));r.color=0,N()}t.rbDelete=T;function k(b,c){for(_(b,c);c!==b.root&&c.parent.color===1;)if(c.parent===c.parent.parent.left){const r=c.parent.parent.right;r.color===1?(c.parent.color=0,r.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&(c=c.parent,C(b,c)),c.parent.color=0,c.parent.parent.color=1,E(b,c.parent.parent))}else{const r=c.parent.parent.left;r.color===1?(c.parent.color=0,r.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&(c=c.parent,E(b,c)),c.parent.color=0,c.parent.parent.color=1,C(b,c.parent.parent))}b.root.color=0}t.fixInsert=k;function P(b,c,r,h){for(;c!==b.root&&c!==t.SENTINEL;)c.parent.left===c&&(c.parent.size_left+=r,c.parent.lf_left+=h),c=c.parent}t.updateTreeMetadata=P;function _(b,c){let r=0,h=0;if(c!==b.root){for(;c!==b.root&&c===c.parent.right;)c=c.parent;if(c!==b.root)for(c=c.parent,r=e(c.left)-c.size_left,h=S(c.left)-c.lf_left,c.size_left+=r,c.lf_left+=h;c!==b.root&&(r!==0||h!==0);)c.parent.left===c&&(c.parent.size_left+=r,c.parent.lf_left+=h),c=c.parent}}t.recomputeTreeMetadata=_}),define(ee[27],te([0,1,8,25]),function(Z,t,U,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compressConsecutiveTextChanges=t.TextChange=void 0;function M(N){return N.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class A{constructor(C,E,T,k){this.oldPosition=C,this.oldText=E,this.newPosition=T,this.newText=k}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${M(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${M(this.oldText)}")`:`(replace@${this.oldPosition} "${M(this.oldText)}" with "${M(this.newText)}")`}static _writeStringSize(C){return 4+2*C.length}static _writeString(C,E,T){const k=E.length;U.writeUInt32BE(C,k,T),T+=4;for(let P=0;P<k;P++)U.writeUInt16LE(C,E.charCodeAt(P),T),T+=2;return T}static _readString(C,E){const T=U.readUInt32BE(C,E);return E+=4,(0,D.decodeUTF16LE)(C,E,T)}writeSize(){return 4+4+A._writeStringSize(this.oldText)+A._writeStringSize(this.newText)}write(C,E){return U.writeUInt32BE(C,this.oldPosition,E),E+=4,U.writeUInt32BE(C,this.newPosition,E),E+=4,E=A._writeString(C,this.oldText,E),E=A._writeString(C,this.newText,E),E}static read(C,E,T){const k=U.readUInt32BE(C,E);E+=4;const P=U.readUInt32BE(C,E);E+=4;const _=A._readString(C,E);E+=A._writeStringSize(_);const b=A._readString(C,E);return E+=A._writeStringSize(b),T.push(new A(k,_,P,b)),E}}t.TextChange=A;function e(N,C){return N===null||N.length===0?C:new S(N,C).compress()}t.compressConsecutiveTextChanges=e;class S{constructor(C,E){this._prevEdits=C,this._currEdits=E,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let C=0,E=0,T=this._getPrev(C),k=this._getCurr(E);for(;C<this._prevLen||E<this._currLen;){if(T===null){this._acceptCurr(k),k=this._getCurr(++E);continue}if(k===null){this._acceptPrev(T),T=this._getPrev(++C);continue}if(k.oldEnd<=T.newPosition){this._acceptCurr(k),k=this._getCurr(++E);continue}if(T.newEnd<=k.oldPosition){this._acceptPrev(T),T=this._getPrev(++C);continue}if(k.oldPosition<T.newPosition){const[r,h]=S._splitCurr(k,T.newPosition-k.oldPosition);this._acceptCurr(r),k=h;continue}if(T.newPosition<k.oldPosition){const[r,h]=S._splitPrev(T,k.oldPosition-T.newPosition);this._acceptPrev(r),T=h;continue}let b,c;if(k.oldEnd===T.newEnd)b=T,c=k,T=this._getPrev(++C),k=this._getCurr(++E);else if(k.oldEnd<T.newEnd){const[r,h]=S._splitPrev(T,k.oldLength);b=r,c=k,T=h,k=this._getCurr(++E)}else{const[r,h]=S._splitCurr(k,T.newLength);b=T,c=r,T=this._getPrev(++C),k=h}this._result[this._resultLen++]=new A(b.oldPosition,b.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=b.newLength-b.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const P=S._merge(this._result);return S._removeNoOps(P)}_acceptCurr(C){this._result[this._resultLen++]=S._rebaseCurr(this._prevDeltaOffset,C),this._currDeltaOffset+=C.newLength-C.oldLength}_getCurr(C){return C<this._currLen?this._currEdits[C]:null}_acceptPrev(C){this._result[this._resultLen++]=S._rebasePrev(this._currDeltaOffset,C),this._prevDeltaOffset+=C.newLength-C.oldLength}_getPrev(C){return C<this._prevLen?this._prevEdits[C]:null}static _rebaseCurr(C,E){return new A(E.oldPosition-C,E.oldText,E.newPosition,E.newText)}static _rebasePrev(C,E){return new A(E.oldPosition,E.oldText,E.newPosition+C,E.newText)}static _splitPrev(C,E){const T=C.newText.substr(0,E),k=C.newText.substr(E);return[new A(C.oldPosition,C.oldText,C.newPosition,T),new A(C.oldEnd,"",C.newPosition+E,k)]}static _splitCurr(C,E){const T=C.oldText.substr(0,E),k=C.oldText.substr(E);return[new A(C.oldPosition,T,C.newPosition,C.newText),new A(C.oldPosition+E,k,C.newEnd,"")]}static _merge(C){if(C.length===0)return C;let E=[],T=0,k=C[0];for(let P=1;P<C.length;P++){const _=C[P];k.oldEnd===_.oldPosition?k=new A(k.oldPosition,k.oldText+_.oldText,k.newPosition,k.newText+_.newText):(E[T++]=k,k=_)}return E[T++]=k,E}static _removeNoOps(C){if(C.length===0)return C;let E=[],T=0;for(let k=0;k<C.length;k++){const P=C[k];P.oldText!==P.newText&&(E[T++]=P)}return E}}}),define(ee[15],te([0,1,28,7,29,26,43]),function(Z,t,U,D,M,A,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PieceTreeBase=t.StringBuffer=t.Piece=t.createLineStarts=t.createLineStartsFast=t.LineStarts=t.createUintArray=t.AverageBufferSize=void 0,t.AverageBufferSize=65535;function S(c){let r;return c[c.length-1]<65536?r=new Uint16Array(c.length):r=new Uint32Array(c.length),r.set(c,0),r}t.createUintArray=S;class N{constructor(r,h,s,d,i){this.lineStarts=r,this.cr=h,this.lf=s,this.crlf=d,this.isBasicASCII=i}}t.LineStarts=N;function C(c,r=!0){let h=[0],s=1;for(let d=0,i=c.length;d<i;d++){const u=c.charCodeAt(d);u===13?d+1<i&&c.charCodeAt(d+1)===10?(h[s++]=d+2,d++):h[s++]=d+1:u===10&&(h[s++]=d+1)}return r?S(h):h}t.createLineStartsFast=C;function E(c,r){c.length=0,c[0]=0;let h=1,s=0,d=0,i=0,u=!0;for(let a=0,n=r.length;a<n;a++){const f=r.charCodeAt(a);f===13?a+1<n&&r.charCodeAt(a+1)===10?(i++,c[h++]=a+2,a++):(s++,c[h++]=a+1):f===10?(d++,c[h++]=a+1):u&&f!==9&&(f<32||f>126)&&(u=!1)}const m=new N(S(c),s,d,i,u);return c.length=0,m}t.createLineStarts=E;class T{constructor(r,h,s,d,i){this.bufferIndex=r,this.start=h,this.end=s,this.lineFeedCnt=d,this.length=i}}t.Piece=T;class k{constructor(r,h){this.buffer=r,this.lineStarts=h}}t.StringBuffer=k;class P{constructor(r,h){this._pieces=[],this._tree=r,this._BOM=h,this._index=0,r.root!==A.SENTINEL&&r.iterate(r.root,s=>(s!==A.SENTINEL&&this._pieces.push(s.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class _{constructor(r){this._limit=r,this._cache=[]}get(r){for(let h=this._cache.length-1;h>=0;h--){let s=this._cache[h];if(s.nodeStartOffset<=r&&s.nodeStartOffset+s.node.piece.length>=r)return s}return null}get2(r){for(let h=this._cache.length-1;h>=0;h--){let s=this._cache[h];if(s.nodeStartLineNumber&&s.nodeStartLineNumber<r&&s.nodeStartLineNumber+s.node.piece.lineFeedCnt>=r)return s}return null}set(r){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(r)}validate(r){let h=!1,s=this._cache;for(let d=0;d<s.length;d++){let i=s[d];if(i.node.parent===null||i.nodeStartOffset>=r){s[d]=null,h=!0;continue}}if(h){let d=[];for(const i of s)i!==null&&d.push(i);this._cache=d}}}class b{constructor(r,h,s){this.create(r,h,s)}create(r,h,s){this._buffers=[new k("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=A.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=h,this._EOLLength=h.length,this._EOLNormalized=s;let d=null;for(let i=0,u=r.length;i<u;i++)if(r[i].buffer.length>0){r[i].lineStarts||(r[i].lineStarts=C(r[i].buffer));let m=new T(i+1,{line:0,column:0},{line:r[i].lineStarts.length-1,column:r[i].buffer.length-r[i].lineStarts[r[i].lineStarts.length-1]},r[i].lineStarts.length-1,r[i].buffer.length);this._buffers.push(r[i]),d=this.rbInsertRight(d,m)}this._searchCache=new _(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(r){let h=t.AverageBufferSize,s=h-Math.floor(h/3),d=s*2,i="",u=0,m=[];if(this.iterate(this.root,a=>{let n=this.getNodeContent(a),f=n.length;if(u<=s||u+f<d)return i+=n,u+=f,!0;let g=i.replace(/\r\n|\r|\n/g,r);return m.push(new k(g,C(g))),i=n,u=f,!0}),u>0){let a=i.replace(/\r\n|\r|\n/g,r);m.push(new k(a,C(a)))}this.create(m,r,!0)}getEOL(){return this._EOL}setEOL(r){this._EOL=r,this._EOLLength=this._EOL.length,this.normalizeEOL(r)}createSnapshot(r){return new P(this,r)}equal(r){if(this.getLength()!==r.getLength()||this.getLineCount()!==r.getLineCount())return!1;let h=0;return this.iterate(this.root,d=>{if(d===A.SENTINEL)return!0;let i=this.getNodeContent(d),u=i.length,m=r.nodeAt(h),a=r.nodeAt(h+u),n=r.getValueInRange2(m,a);return i===n})}getOffsetAt(r,h){let s=0,d=this.root;for(;d!==A.SENTINEL;)if(d.left!==A.SENTINEL&&d.lf_left+1>=r)d=d.left;else{if(d.lf_left+d.piece.lineFeedCnt+1>=r)return s+=d.size_left,s+=this.getAccumulatedValue(d,r-d.lf_left-2)+h-1;r-=d.lf_left+d.piece.lineFeedCnt,s+=d.size_left+d.piece.length,d=d.right}return s}getPositionAt(r){r=Math.floor(r),r=Math.max(0,r);let h=this.root,s=0,d=r;for(;h!==A.SENTINEL;)if(h.size_left!==0&&h.size_left>=r)h=h.left;else if(h.size_left+h.piece.length>=r){let i=this.getIndexOf(h,r-h.size_left);if(s+=h.lf_left+i.index,i.index===0){let u=this.getOffsetAt(s+1,1),m=d-u;return new U.Position(s+1,m+1)}return new U.Position(s+1,i.remainder+1)}else if(r-=h.size_left+h.piece.length,s+=h.lf_left+h.piece.lineFeedCnt,h.right===A.SENTINEL){let i=this.getOffsetAt(s+1,1),u=d-r-i;return new U.Position(s+1,u+1)}else h=h.right;return new U.Position(1,1)}getValueInRange(r,h){if(r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn)return"";let s=this.nodeAt2(r.startLineNumber,r.startColumn),d=this.nodeAt2(r.endLineNumber,r.endColumn),i=this.getValueInRange2(s,d);return h?h!==this._EOL||!this._EOLNormalized?i.replace(/\r\n|\r|\n/g,h):h===this.getEOL()&&this._EOLNormalized?i:i.replace(/\r\n|\r|\n/g,h):i}getValueInRange2(r,h){if(r.node===h.node){let m=r.node,a=this._buffers[m.piece.bufferIndex].buffer,n=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return a.substring(n+r.remainder,n+h.remainder)}let s=r.node,d=this._buffers[s.piece.bufferIndex].buffer,i=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),u=d.substring(i+r.remainder,i+s.piece.length);for(s=s.next();s!==A.SENTINEL;){let m=this._buffers[s.piece.bufferIndex].buffer,a=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===h.node){u+=m.substring(a,a+h.remainder);break}else u+=m.substr(a,s.piece.length);s=s.next()}return u}getLinesContent(){let r=[],h=0,s="",d=!1;return this.iterate(this.root,i=>{if(i===A.SENTINEL)return!0;const u=i.piece;let m=u.length;if(m===0)return!0;const a=this._buffers[u.bufferIndex].buffer,n=this._buffers[u.bufferIndex].lineStarts,f=u.start.line,g=u.end.line;let w=n[f]+u.start.column;if(d&&(a.charCodeAt(w)===10&&(w++,m--),r[h++]=s,s="",d=!1,m===0))return!0;if(f===g)return!this._EOLNormalized&&a.charCodeAt(w+m-1)===13?(d=!0,s+=a.substr(w,m-1)):s+=a.substr(w,m),!0;s+=this._EOLNormalized?a.substring(w,Math.max(w,n[f+1]-this._EOLLength)):a.substring(w,n[f+1]).replace(/(\r\n|\r|\n)$/,""),r[h++]=s;for(let v=f+1;v<g;v++)s=this._EOLNormalized?a.substring(n[v],n[v+1]-this._EOLLength):a.substring(n[v],n[v+1]).replace(/(\r\n|\r|\n)$/,""),r[h++]=s;return!this._EOLNormalized&&a.charCodeAt(n[g]+u.end.column-1)===13?(d=!0,u.end.column===0?h--:s=a.substr(n[g],u.end.column-1)):s=a.substr(n[g],u.end.column),!0}),d&&(r[h++]=s,s=""),r[h++]=s,r}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(r){return this._lastVisitedLine.lineNumber===r?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=r,r===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(r):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(r,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(r).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(r){if(r.remainder===r.node.piece.length){let h=r.node.next();if(!h)return 0;let s=this._buffers[h.piece.bufferIndex],d=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start);return s.buffer.charCodeAt(d)}else{let h=this._buffers[r.node.piece.bufferIndex],d=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start)+r.remainder;return h.buffer.charCodeAt(d)}}getLineCharCode(r,h){let s=this.nodeAt2(r,h+1);return this._getCharCode(s)}getLineLength(r){if(r===this.getLineCount()){let h=this.getOffsetAt(r,1);return this.getLength()-h}return this.getOffsetAt(r+1,1)-this.getOffsetAt(r,1)-this._EOLLength}getCharCode(r){let h=this.nodeAt(r);return this._getCharCode(h)}findMatchesInNode(r,h,s,d,i,u,m,a,n,f,g){let w=this._buffers[r.piece.bufferIndex],v=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),l=this.offsetInBuffer(r.piece.bufferIndex,i),p=this.offsetInBuffer(r.piece.bufferIndex,u),I,z={line:0,column:0},j,B;h._wordSeparators?(j=w.buffer.substring(l,p),B=o=>o+l,h.reset(0)):(j=w.buffer,B=o=>o,h.reset(l));do if(I=h.next(j),I){if(B(I.index)>=p)return f;this.positionInBuffer(r,B(I.index)-v,z);let o=this.getLineFeedCnt(r.piece.bufferIndex,i,z),L=z.line===i.line?z.column-i.column+d:z.column+1,R=L+I[0].length;if(g[f++]=(0,e.createFindMatch)(new D.Range(s+o,L,s+o,R),I,a),B(I.index)+I[0].length>=p||f>=n)return f}while(I);return f}findMatchesLineByLine(r,h,s,d){const i=[];let u=0;const m=new e.Searcher(h.wordSeparators,h.regex);let a=this.nodeAt2(r.startLineNumber,r.startColumn);if(a===null)return[];let n=this.nodeAt2(r.endLineNumber,r.endColumn);if(n===null)return[];let f=this.positionInBuffer(a.node,a.remainder),g=this.positionInBuffer(n.node,n.remainder);if(a.node===n.node)return this.findMatchesInNode(a.node,m,r.startLineNumber,r.startColumn,f,g,h,s,d,u,i),i;let w=r.startLineNumber,v=a.node;for(;v!==n.node;){let p=this.getLineFeedCnt(v.piece.bufferIndex,f,v.piece.end);if(p>=1){let z=this._buffers[v.piece.bufferIndex].lineStarts,j=this.offsetInBuffer(v.piece.bufferIndex,v.piece.start),B=z[f.line+p],o=w===r.startLineNumber?r.startColumn:1;if(u=this.findMatchesInNode(v,m,w,o,f,this.positionInBuffer(v,B-j),h,s,d,u,i),u>=d)return i;w+=p}let I=w===r.startLineNumber?r.startColumn-1:0;if(w===r.endLineNumber){const z=this.getLineContent(w).substring(I,r.endColumn-1);return u=this._findMatchesInLine(h,m,z,r.endLineNumber,I,u,i,s,d),i}if(u=this._findMatchesInLine(h,m,this.getLineContent(w).substr(I),w,I,u,i,s,d),u>=d)return i;w++,a=this.nodeAt2(w,1),v=a.node,f=this.positionInBuffer(a.node,a.remainder)}if(w===r.endLineNumber){let p=w===r.startLineNumber?r.startColumn-1:0;const I=this.getLineContent(w).substring(p,r.endColumn-1);return u=this._findMatchesInLine(h,m,I,r.endLineNumber,p,u,i,s,d),i}let l=w===r.startLineNumber?r.startColumn:1;return u=this.findMatchesInNode(n.node,m,w,l,f,g,h,s,d,u,i),i}_findMatchesInLine(r,h,s,d,i,u,m,a,n){const f=r.wordSeparators;if(!a&&r.simpleSearch){const w=r.simpleSearch,v=w.length,l=s.length;let p=-v;for(;(p=s.indexOf(w,p+v))!==-1;)if((!f||(0,e.isValidMatch)(f,s,l,p,v))&&(m[u++]=new M.FindMatch(new D.Range(d,p+1+i,d,p+1+v+i),null),u>=n))return u;return u}let g;h.reset(0);do if(g=h.next(s),g&&(m[u++]=(0,e.createFindMatch)(new D.Range(d,g.index+1+i,d,g.index+1+g[0].length+i),g,a),u>=n))return u;while(g);return u}insert(r,h,s=!1){if(this._EOLNormalized=this._EOLNormalized&&s,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==A.SENTINEL){let{node:d,remainder:i,nodeStartOffset:u}=this.nodeAt(r),m=d.piece,a=m.bufferIndex,n=this.positionInBuffer(d,i);if(d.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&u+m.length===r&&h.length<t.AverageBufferSize){this.appendToNode(d,h),this.computeBufferMetadata();return}if(u===r)this.insertContentToNodeLeft(h,d),this._searchCache.validate(r);else if(u+d.piece.length>r){let f=[],g=new T(m.bufferIndex,n,m.end,this.getLineFeedCnt(m.bufferIndex,n,m.end),this.offsetInBuffer(a,m.end)-this.offsetInBuffer(a,n));if(this.shouldCheckCRLF()&&this.endWithCR(h)&&this.nodeCharCodeAt(d,i)===10){let p={line:g.start.line+1,column:0};g=new T(g.bufferIndex,p,g.end,this.getLineFeedCnt(g.bufferIndex,p,g.end),g.length-1),h+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(h))if(this.nodeCharCodeAt(d,i-1)===13){let p=this.positionInBuffer(d,i-1);this.deleteNodeTail(d,p),h="\r"+h,d.piece.length===0&&f.push(d)}else this.deleteNodeTail(d,n);else this.deleteNodeTail(d,n);let w=this.createNewPieces(h);g.length>0&&this.rbInsertRight(d,g);let v=d;for(let l=0;l<w.length;l++)v=this.rbInsertRight(v,w[l]);this.deleteNodes(f)}else this.insertContentToNodeRight(h,d)}else{let d=this.createNewPieces(h),i=this.rbInsertLeft(null,d[0]);for(let u=1;u<d.length;u++)i=this.rbInsertRight(i,d[u])}this.computeBufferMetadata()}delete(r,h){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",h<=0||this.root===A.SENTINEL)return;let s=this.nodeAt(r),d=this.nodeAt(r+h),i=s.node,u=d.node;if(i===u){let w=this.positionInBuffer(i,s.remainder),v=this.positionInBuffer(i,d.remainder);if(s.nodeStartOffset===r){if(h===i.piece.length){let l=i.next();(0,A.rbDelete)(this,i),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}this.deleteNodeHead(i,v),this._searchCache.validate(r),this.validateCRLFWithPrevNode(i),this.computeBufferMetadata();return}if(s.nodeStartOffset+i.piece.length===r+h){this.deleteNodeTail(i,w),this.validateCRLFWithNextNode(i),this.computeBufferMetadata();return}this.shrinkNode(i,w,v),this.computeBufferMetadata();return}let m=[],a=this.positionInBuffer(i,s.remainder);this.deleteNodeTail(i,a),this._searchCache.validate(r),i.piece.length===0&&m.push(i);let n=this.positionInBuffer(u,d.remainder);this.deleteNodeHead(u,n),u.piece.length===0&&m.push(u);let f=i.next();for(let w=f;w!==A.SENTINEL&&w!==u;w=w.next())m.push(w);let g=i.piece.length===0?i.prev():i;this.deleteNodes(m),this.validateCRLFWithNextNode(g),this.computeBufferMetadata()}insertContentToNodeLeft(r,h){let s=[];if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.startWithLF(h)){let u=h.piece,m={line:u.start.line+1,column:0},a=new T(u.bufferIndex,m,u.end,this.getLineFeedCnt(u.bufferIndex,m,u.end),u.length-1);h.piece=a,r+=`
`,(0,A.updateTreeMetadata)(this,h,-1,-1),h.piece.length===0&&s.push(h)}let d=this.createNewPieces(r),i=this.rbInsertLeft(h,d[d.length-1]);for(let u=d.length-2;u>=0;u--)i=this.rbInsertLeft(i,d[u]);this.validateCRLFWithPrevNode(i),this.deleteNodes(s)}insertContentToNodeRight(r,h){this.adjustCarriageReturnFromNext(r,h)&&(r+=`
`);let s=this.createNewPieces(r),d=this.rbInsertRight(h,s[0]),i=d;for(let u=1;u<s.length;u++)i=this.rbInsertRight(i,s[u]);this.validateCRLFWithPrevNode(d)}positionInBuffer(r,h,s){let d=r.piece,i=r.piece.bufferIndex,u=this._buffers[i].lineStarts,a=u[d.start.line]+d.start.column+h,n=d.start.line,f=d.end.line,g=0,w=0,v=0;for(;n<=f&&(g=n+(f-n)/2|0,v=u[g],g!==f);)if(w=u[g+1],a<v)f=g-1;else if(a>=w)n=g+1;else break;return s?(s.line=g,s.column=a-v,null):{line:g,column:a-v}}getLineFeedCnt(r,h,s){if(s.column===0)return s.line-h.line;let d=this._buffers[r].lineStarts;if(s.line===d.length-1)return s.line-h.line;let i=d[s.line+1],u=d[s.line]+s.column;if(i>u+1)return s.line-h.line;let m=u-1;return this._buffers[r].buffer.charCodeAt(m)===13?s.line-h.line+1:s.line-h.line}offsetInBuffer(r,h){return this._buffers[r].lineStarts[h.line]+h.column}deleteNodes(r){for(let h=0;h<r.length;h++)(0,A.rbDelete)(this,r[h])}createNewPieces(r){if(r.length>t.AverageBufferSize){let f=[];for(;r.length>t.AverageBufferSize;){const w=r.charCodeAt(t.AverageBufferSize-1);let v;w===13||w>=55296&&w<=56319?(v=r.substring(0,t.AverageBufferSize-1),r=r.substring(t.AverageBufferSize-1)):(v=r.substring(0,t.AverageBufferSize),r=r.substring(t.AverageBufferSize));let l=C(v);f.push(new T(this._buffers.length,{line:0,column:0},{line:l.length-1,column:v.length-l[l.length-1]},l.length-1,v.length)),this._buffers.push(new k(v,l))}let g=C(r);return f.push(new T(this._buffers.length,{line:0,column:0},{line:g.length-1,column:r.length-g[g.length-1]},g.length-1,r.length)),this._buffers.push(new k(r,g)),f}let h=this._buffers[0].buffer.length;const s=C(r,!1);let d=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===h&&h!==0&&this.startWithLF(r)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},d=this._lastChangeBufferPos;for(let f=0;f<s.length;f++)s[f]+=h+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+="_"+r,h+=1}else{if(h!==0)for(let f=0;f<s.length;f++)s[f]+=h;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+=r}const i=this._buffers[0].buffer.length;let u=this._buffers[0].lineStarts.length-1,m=i-this._buffers[0].lineStarts[u],a={line:u,column:m},n=new T(0,d,a,this.getLineFeedCnt(0,d,a),i-h);return this._lastChangeBufferPos=a,[n]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(r,h=0){let s=this.root,d="",i=this._searchCache.get2(r);if(i){s=i.node;let u=this.getAccumulatedValue(s,r-i.nodeStartLineNumber-1),m=this._buffers[s.piece.bufferIndex].buffer,a=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(i.nodeStartLineNumber+s.piece.lineFeedCnt===r)d=m.substring(a+u,a+s.piece.length);else{let n=this.getAccumulatedValue(s,r-i.nodeStartLineNumber);return m.substring(a+u,a+n-h)}}else{let u=0;const m=r;for(;s!==A.SENTINEL;)if(s.left!==A.SENTINEL&&s.lf_left>=r-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>r-1){let a=this.getAccumulatedValue(s,r-s.lf_left-2),n=this.getAccumulatedValue(s,r-s.lf_left-1),f=this._buffers[s.piece.bufferIndex].buffer,g=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return u+=s.size_left,this._searchCache.set({node:s,nodeStartOffset:u,nodeStartLineNumber:m-(r-1-s.lf_left)}),f.substring(g+a,g+n-h)}else if(s.lf_left+s.piece.lineFeedCnt===r-1){let a=this.getAccumulatedValue(s,r-s.lf_left-2),n=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);d=n.substring(f+a,f+s.piece.length);break}else r-=s.lf_left+s.piece.lineFeedCnt,u+=s.size_left+s.piece.length,s=s.right}for(s=s.next();s!==A.SENTINEL;){let u=this._buffers[s.piece.bufferIndex].buffer;if(s.piece.lineFeedCnt>0){let m=this.getAccumulatedValue(s,0),a=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return d+=u.substring(a,a+m-h),d}else{let m=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);d+=u.substr(m,s.piece.length)}s=s.next()}return d}computeBufferMetadata(){let r=this.root,h=1,s=0;for(;r!==A.SENTINEL;)h+=r.lf_left+r.piece.lineFeedCnt,s+=r.size_left+r.piece.length,r=r.right;this._lineCnt=h,this._length=s,this._searchCache.validate(this._length)}getIndexOf(r,h){let s=r.piece,d=this.positionInBuffer(r,h),i=d.line-s.start.line;if(this.offsetInBuffer(s.bufferIndex,s.end)-this.offsetInBuffer(s.bufferIndex,s.start)===h){let u=this.getLineFeedCnt(r.piece.bufferIndex,s.start,d);if(u!==i)return{index:u,remainder:0}}return{index:i,remainder:d.column}}getAccumulatedValue(r,h){if(h<0)return 0;let s=r.piece,d=this._buffers[s.bufferIndex].lineStarts,i=s.start.line+h+1;return i>s.end.line?d[s.end.line]+s.end.column-d[s.start.line]-s.start.column:d[i]-d[s.start.line]-s.start.column}deleteNodeTail(r,h){const s=r.piece,d=s.lineFeedCnt,i=this.offsetInBuffer(s.bufferIndex,s.end),u=h,m=this.offsetInBuffer(s.bufferIndex,u),a=this.getLineFeedCnt(s.bufferIndex,s.start,u),n=a-d,f=m-i,g=s.length+f;r.piece=new T(s.bufferIndex,s.start,u,a,g),(0,A.updateTreeMetadata)(this,r,f,n)}deleteNodeHead(r,h){const s=r.piece,d=s.lineFeedCnt,i=this.offsetInBuffer(s.bufferIndex,s.start),u=h,m=this.getLineFeedCnt(s.bufferIndex,u,s.end),a=this.offsetInBuffer(s.bufferIndex,u),n=m-d,f=i-a,g=s.length+f;r.piece=new T(s.bufferIndex,u,s.end,m,g),(0,A.updateTreeMetadata)(this,r,f,n)}shrinkNode(r,h,s){const d=r.piece,i=d.start,u=d.end,m=d.length,a=d.lineFeedCnt,n=h,f=this.getLineFeedCnt(d.bufferIndex,d.start,n),g=this.offsetInBuffer(d.bufferIndex,h)-this.offsetInBuffer(d.bufferIndex,i);r.piece=new T(d.bufferIndex,d.start,n,f,g),(0,A.updateTreeMetadata)(this,r,g-m,f-a);let w=new T(d.bufferIndex,s,u,this.getLineFeedCnt(d.bufferIndex,s,u),this.offsetInBuffer(d.bufferIndex,u)-this.offsetInBuffer(d.bufferIndex,s)),v=this.rbInsertRight(r,w);this.validateCRLFWithPrevNode(v)}appendToNode(r,h){this.adjustCarriageReturnFromNext(h,r)&&(h+=`
`);const s=this.shouldCheckCRLF()&&this.startWithLF(h)&&this.endWithCR(r),d=this._buffers[0].buffer.length;this._buffers[0].buffer+=h;const i=C(h,!1);for(let v=0;v<i.length;v++)i[v]+=d;if(s){let v=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:d-v}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1));const u=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[u],a={line:u,column:m},n=r.piece.length+h.length,f=r.piece.lineFeedCnt,g=this.getLineFeedCnt(0,r.piece.start,a),w=g-f;r.piece=new T(r.piece.bufferIndex,r.piece.start,a,g,n),this._lastChangeBufferPos=a,(0,A.updateTreeMetadata)(this,r,h.length,w)}nodeAt(r){let h=this.root,s=this._searchCache.get(r);if(s)return{node:s.node,nodeStartOffset:s.nodeStartOffset,remainder:r-s.nodeStartOffset};let d=0;for(;h!==A.SENTINEL;)if(h.size_left>r)h=h.left;else if(h.size_left+h.piece.length>=r){d+=h.size_left;let i={node:h,remainder:r-h.size_left,nodeStartOffset:d};return this._searchCache.set(i),i}else r-=h.size_left+h.piece.length,d+=h.size_left+h.piece.length,h=h.right;return null}nodeAt2(r,h){let s=this.root,d=0;for(;s!==A.SENTINEL;)if(s.left!==A.SENTINEL&&s.lf_left>=r-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>r-1){let i=this.getAccumulatedValue(s,r-s.lf_left-2),u=this.getAccumulatedValue(s,r-s.lf_left-1);return d+=s.size_left,{node:s,remainder:Math.min(i+h-1,u),nodeStartOffset:d}}else if(s.lf_left+s.piece.lineFeedCnt===r-1){let i=this.getAccumulatedValue(s,r-s.lf_left-2);if(i+h-1<=s.piece.length)return{node:s,remainder:i+h-1,nodeStartOffset:d};h-=s.piece.length-i;break}else r-=s.lf_left+s.piece.lineFeedCnt,d+=s.size_left+s.piece.length,s=s.right;for(s=s.next();s!==A.SENTINEL;){if(s.piece.lineFeedCnt>0){let i=this.getAccumulatedValue(s,0),u=this.offsetOfNode(s);return{node:s,remainder:Math.min(h-1,i),nodeStartOffset:u}}else if(s.piece.length>=h-1){let i=this.offsetOfNode(s);return{node:s,remainder:h-1,nodeStartOffset:i}}else h-=s.piece.length;s=s.next()}return null}nodeCharCodeAt(r,h){if(r.piece.lineFeedCnt<1)return-1;let s=this._buffers[r.piece.bufferIndex],d=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start)+h;return s.buffer.charCodeAt(d)}offsetOfNode(r){if(!r)return 0;let h=r.size_left;for(;r!==this.root;)r.parent.right===r&&(h+=r.parent.size_left+r.parent.piece.length),r=r.parent;return h}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(r){if(typeof r=="string")return r.charCodeAt(0)===10;if(r===A.SENTINEL||r.piece.lineFeedCnt===0)return!1;let h=r.piece,s=this._buffers[h.bufferIndex].lineStarts,d=h.start.line,i=s[d]+h.start.column;return d===s.length-1||s[d+1]>i+1?!1:this._buffers[h.bufferIndex].buffer.charCodeAt(i)===10}endWithCR(r){return typeof r=="string"?r.charCodeAt(r.length-1)===13:r===A.SENTINEL||r.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(r,r.piece.length-1)===13}validateCRLFWithPrevNode(r){if(this.shouldCheckCRLF()&&this.startWithLF(r)){let h=r.prev();this.endWithCR(h)&&this.fixCRLF(h,r)}}validateCRLFWithNextNode(r){if(this.shouldCheckCRLF()&&this.endWithCR(r)){let h=r.next();this.startWithLF(h)&&this.fixCRLF(r,h)}}fixCRLF(r,h){let s=[],d=this._buffers[r.piece.bufferIndex].lineStarts,i;r.piece.end.column===0?i={line:r.piece.end.line-1,column:d[r.piece.end.line]-d[r.piece.end.line-1]-1}:i={line:r.piece.end.line,column:r.piece.end.column-1};const u=r.piece.length-1,m=r.piece.lineFeedCnt-1;r.piece=new T(r.piece.bufferIndex,r.piece.start,i,m,u),(0,A.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&s.push(r);let a={line:h.piece.start.line+1,column:0};const n=h.piece.length-1,f=this.getLineFeedCnt(h.piece.bufferIndex,a,h.piece.end);h.piece=new T(h.piece.bufferIndex,a,h.piece.end,f,n),(0,A.updateTreeMetadata)(this,h,-1,-1),h.piece.length===0&&s.push(h);let g=this.createNewPieces(`\r
`);this.rbInsertRight(r,g[0]);for(let w=0;w<s.length;w++)(0,A.rbDelete)(this,s[w])}adjustCarriageReturnFromNext(r,h){if(this.shouldCheckCRLF()&&this.endWithCR(r)){let s=h.next();if(this.startWithLF(s)){if(r+=`
`,s.piece.length===1)(0,A.rbDelete)(this,s);else{const d=s.piece,i={line:d.start.line+1,column:0},u=d.length-1,m=this.getLineFeedCnt(d.bufferIndex,i,d.end);s.piece=new T(d.bufferIndex,i,d.end,m,u),(0,A.updateTreeMetadata)(this,s,-1,-1)}return!0}}return!1}iterate(r,h){if(r===A.SENTINEL)return h(A.SENTINEL);let s=this.iterate(r.left,h);return s&&h(r)&&this.iterate(r.right,h)}getNodeContent(r){if(r===A.SENTINEL)return"";let h=this._buffers[r.piece.bufferIndex],s,d=r.piece,i=this.offsetInBuffer(d.bufferIndex,d.start),u=this.offsetInBuffer(d.bufferIndex,d.end);return s=h.buffer.substring(i,u),s}getPieceContent(r){let h=this._buffers[r.bufferIndex],s=this.offsetInBuffer(r.bufferIndex,r.start),d=this.offsetInBuffer(r.bufferIndex,r.end);return h.buffer.substring(s,d)}rbInsertRight(r,h){let s=new A.TreeNode(h,1);if(s.left=A.SENTINEL,s.right=A.SENTINEL,s.parent=A.SENTINEL,s.size_left=0,s.lf_left=0,this.root===A.SENTINEL)this.root=s,s.color=0;else if(r.right===A.SENTINEL)r.right=s,s.parent=r;else{let i=(0,A.leftest)(r.right);i.left=s,s.parent=i}return(0,A.fixInsert)(this,s),s}rbInsertLeft(r,h){let s=new A.TreeNode(h,1);if(s.left=A.SENTINEL,s.right=A.SENTINEL,s.parent=A.SENTINEL,s.size_left=0,s.lf_left=0,this.root===A.SENTINEL)this.root=s,s.color=0;else if(r.left===A.SENTINEL)r.left=s,s.parent=r;else{let d=(0,A.righttest)(r.left);d.right=s,s.parent=d}return(0,A.fixInsert)(this,s),s}getContentOfSubTree(r){let h="";return this.iterate(r,s=>(h+=this.getNodeContent(s),!0)),h}}t.PieceTreeBase=b}),define(ee[30],te([0,1,11,4]),function(Z,t,U,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.score=void 0;function M(A,e,S,N){if(Array.isArray(A)){let C=0;for(const E of A){const T=M(E,e,S,N);if(T===10)return T;T>C&&(C=T)}return C}else{if(typeof A=="string")return N?A==="*"?5:A===S?10:0:0;if(A){const{language:C,pattern:E,scheme:T,hasAccessToAllModels:k}=A;if(!N&&!k)return 0;let P=0;if(T)if(T===e.scheme)P=10;else if(T==="*")P=5;else return 0;if(C)if(C===S)P=10;else if(C==="*")P=Math.max(P,5);else return 0;if(E){let _;if(typeof E=="string"?_=E:_={...E,base:(0,D.normalize)(E.base)},_===e.fsPath||(0,U.match)(_,e.fsPath))P=10;else return 0}return P}else return 0}}t.score=M}),define(ee[31],te([0,1,5,6]),function(Z,t,U,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenizationRegistryImpl=void 0;class M{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new U.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,S){return this._map.set(e,S),this.fire([e]),(0,D.toDisposable)(()=>{this._map.get(e)===S&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,S){let N=null,C=!1;return this._promises.set(e,S.then(E=>{this._promises.delete(e),!(C||!E)&&(N=this.register(e,E))})),(0,D.toDisposable)(()=>{C=!0,N&&N.dispose()})}getPromise(e){const S=this.get(e);if(S)return Promise.resolve(S);const N=this._promises.get(e);return N?N.then(C=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}t.TokenizationRegistryImpl=M}),define(ee[16],te([0,1]),function(Z,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refineServiceDecorator=t.createDecorator=t.IInstantiationService=t._util=void 0;var U;(function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies";function S(N){return N[e.DI_DEPENDENCIES]||[]}e.getServiceDependencies=S})(U=t._util||(t._util={})),t.IInstantiationService=M("instantiationService");function D(e,S,N,C){S[U.DI_TARGET]===S?S[U.DI_DEPENDENCIES].push({id:e,index:N,optional:C}):(S[U.DI_DEPENDENCIES]=[{id:e,index:N,optional:C}],S[U.DI_TARGET]=S)}function M(e){if(U.serviceIds.has(e))return U.serviceIds.get(e);const S=function(N,C,E){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");D(S,N,E,!1)};return S.toString=()=>e,U.serviceIds.set(e,S),S}t.createDecorator=M;function A(e){return e}t.refineServiceDecorator=A}),define(ee[32],te([0,1,16]),function(Z,t,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldSynchronizeModel=t.IModelService=void 0,t.IModelService=(0,U.createDecorator)("modelService");function D(M){return!M.isTooLargeForSyncing()&&!M.isForSimpleWidget}t.shouldSynchronizeModel=D}),define(ee[33],te([0,1,5,34,6,12,18,30,32]),function(Z,t,U,D,M,A,e,S,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageFeatureRequestDelays=t.LanguageFeatureRegistry=void 0;function C(b){return typeof b=="string"?!1:Array.isArray(b)?b.every(C):!!b.exclusive}class E{constructor(){this._clock=0,this._entries=[],this._onDidChange=new U.Emitter}get onDidChange(){return this._onDidChange.event}register(c,r){let h={selector:c,provider:r,_score:-1,_time:this._clock++};return this._entries.push(h),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,M.toDisposable)(()=>{if(h){let s=this._entries.indexOf(h);s>=0&&(this._entries.splice(s,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),h=void 0)}})}has(c){return this.all(c).length>0}all(c){if(!c)return[];this._updateScores(c);const r=[];for(let h of this._entries)h._score>0&&r.push(h.provider);return r}ordered(c){const r=[];return this._orderedForEach(c,h=>r.push(h.provider)),r}orderedGroups(c){const r=[];let h,s;return this._orderedForEach(c,d=>{h&&s===d._score?h.push(d.provider):(s=d._score,h=[d.provider],r.push(h))}),r}_orderedForEach(c,r){if(!!c){this._updateScores(c);for(const h of this._entries)h._score>0&&r(h)}}_updateScores(c){let r={uri:c.uri.toString(),language:c.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===r.language&&this._lastCandidate.uri===r.uri)){this._lastCandidate=r;for(let h of this._entries)if(h._score=(0,S.score)(h.selector,c.uri,c.getLanguageId(),(0,N.shouldSynchronizeModel)(c)),C(h.selector)&&h._score>0){for(let s of this._entries)s._score=0;h._score=1e3;break}this._entries.sort(E._compareByScoreAndTime)}}static _compareByScoreAndTime(c,r){return c._score<r._score?1:c._score>r._score?-1:c._time<r._time?1:c._time>r._time?-1:0}}t.LanguageFeatureRegistry=E;const T=new WeakMap;let k=0;function P(b){let c=T.get(b);return c===void 0&&(c=++k,T.set(b,c)),c}class _{constructor(c,r,h=Number.MAX_SAFE_INTEGER){this._registry=c,this.min=r,this.max=h,this._cache=new A.LRUCache(50,.7)}_key(c){return c.id+this._registry.all(c).reduce((r,h)=>(0,D.doHash)(P(h),r),0)}_clamp(c){return c===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(c*1.3)))}get(c){const r=this._key(c),h=this._cache.get(r);return this._clamp(h?.value)}update(c,r){const h=this._key(c);let s=this._cache.get(h);return s||(s=new e.MovingAverage,this._cache.set(h,s)),s.update(r),this.get(c)}}t.LanguageFeatureRequestDelays=_}),define(ee[17],te([0,1,10,7,33,31,19]),function(Z,t,U,D,M,A,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalUriOpenerPriority=t.TokenizationRegistry=t.DocumentRangeSemanticTokensProviderRegistry=t.DocumentSemanticTokensProviderRegistry=t.FoldingRangeProviderRegistry=t.SelectionRangeRegistry=t.ColorProviderRegistry=t.LinkProviderRegistry=t.OnTypeFormattingEditProviderRegistry=t.DocumentRangeFormattingEditProviderRegistry=t.DocumentFormattingEditProviderRegistry=t.CodeActionProviderRegistry=t.InlayHintsProviderRegistry=t.CodeLensProviderRegistry=t.TypeDefinitionProviderRegistry=t.ImplementationProviderRegistry=t.DeclarationProviderRegistry=t.DefinitionProviderRegistry=t.LinkedEditingRangeProviderRegistry=t.DocumentHighlightProviderRegistry=t.DocumentSymbolProviderRegistry=t.InlineValuesProviderRegistry=t.EvaluatableExpressionProviderRegistry=t.HoverProviderRegistry=t.SignatureHelpProviderRegistry=t.InlineCompletionsProviderRegistry=t.CompletionProviderRegistry=t.RenameProviderRegistry=t.ReferenceProviderRegistry=t.InlayHintKind=t.CommentMode=t.CommentThreadCollapsibleState=t.FoldingRangeKind=t.SymbolKinds=t.SymbolTag=t.SymbolKind=t.isLocationLink=t.DocumentHighlightKind=t.SignatureHelpTriggerKind=t.CodeActionTriggerType=t.InlineCompletionTriggerKind=t.CompletionTriggerKind=t.CompletionItemInsertTextRule=t.CompletionItemTag=t.completionKindFromString=t.completionKindToCssClass=t.CompletionItemKind=t.TokenMetadata=t.MetadataConsts=t.StandardTokenType=t.ColorId=t.FontStyle=t.LanguageId=void 0;var S;(function(l){l[l.Null=0]="Null",l[l.PlainText=1]="PlainText"})(S=t.LanguageId||(t.LanguageId={}));var N;(function(l){l[l.NotSet=-1]="NotSet",l[l.None=0]="None",l[l.Italic=1]="Italic",l[l.Bold=2]="Bold",l[l.Underline=4]="Underline"})(N=t.FontStyle||(t.FontStyle={}));var C;(function(l){l[l.None=0]="None",l[l.DefaultForeground=1]="DefaultForeground",l[l.DefaultBackground=2]="DefaultBackground"})(C=t.ColorId||(t.ColorId={}));var E;(function(l){l[l.Other=0]="Other",l[l.Comment=1]="Comment",l[l.String=2]="String",l[l.RegEx=4]="RegEx"})(E=t.StandardTokenType||(t.StandardTokenType={}));var T;(function(l){l[l.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",l[l.TOKEN_TYPE_MASK=1792]="TOKEN_TYPE_MASK",l[l.FONT_STYLE_MASK=14336]="FONT_STYLE_MASK",l[l.FOREGROUND_MASK=8372224]="FOREGROUND_MASK",l[l.BACKGROUND_MASK=4286578688]="BACKGROUND_MASK",l[l.ITALIC_MASK=2048]="ITALIC_MASK",l[l.BOLD_MASK=4096]="BOLD_MASK",l[l.UNDERLINE_MASK=8192]="UNDERLINE_MASK",l[l.SEMANTIC_USE_ITALIC=1]="SEMANTIC_USE_ITALIC",l[l.SEMANTIC_USE_BOLD=2]="SEMANTIC_USE_BOLD",l[l.SEMANTIC_USE_UNDERLINE=4]="SEMANTIC_USE_UNDERLINE",l[l.SEMANTIC_USE_FOREGROUND=8]="SEMANTIC_USE_FOREGROUND",l[l.SEMANTIC_USE_BACKGROUND=16]="SEMANTIC_USE_BACKGROUND",l[l.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",l[l.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",l[l.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",l[l.FOREGROUND_OFFSET=14]="FOREGROUND_OFFSET",l[l.BACKGROUND_OFFSET=23]="BACKGROUND_OFFSET"})(T=t.MetadataConsts||(t.MetadataConsts={}));class k{static getLanguageId(p){return(p&255)>>>0}static getTokenType(p){return(p&1792)>>>8}static getFontStyle(p){return(p&14336)>>>11}static getForeground(p){return(p&8372224)>>>14}static getBackground(p){return(p&4286578688)>>>23}static getClassNameFromMetadata(p){let I=this.getForeground(p),z="mtk"+I,j=this.getFontStyle(p);return j&1&&(z+=" mtki"),j&2&&(z+=" mtkb"),j&4&&(z+=" mtku"),z}static getInlineStyleFromMetadata(p,I){const z=this.getForeground(p),j=this.getFontStyle(p);let B=`color: ${I[z]};`;return j&1&&(B+="font-style: italic;"),j&2&&(B+="font-weight: bold;"),j&4&&(B+="text-decoration: underline;"),B}}t.TokenMetadata=k;var P;(function(l){l[l.Method=0]="Method",l[l.Function=1]="Function",l[l.Constructor=2]="Constructor",l[l.Field=3]="Field",l[l.Variable=4]="Variable",l[l.Class=5]="Class",l[l.Struct=6]="Struct",l[l.Interface=7]="Interface",l[l.Module=8]="Module",l[l.Property=9]="Property",l[l.Event=10]="Event",l[l.Operator=11]="Operator",l[l.Unit=12]="Unit",l[l.Value=13]="Value",l[l.Constant=14]="Constant",l[l.Enum=15]="Enum",l[l.EnumMember=16]="EnumMember",l[l.Keyword=17]="Keyword",l[l.Text=18]="Text",l[l.Color=19]="Color",l[l.File=20]="File",l[l.Reference=21]="Reference",l[l.Customcolor=22]="Customcolor",l[l.Folder=23]="Folder",l[l.TypeParameter=24]="TypeParameter",l[l.User=25]="User",l[l.Issue=26]="Issue",l[l.Snippet=27]="Snippet"})(P=t.CompletionItemKind||(t.CompletionItemKind={})),t.completionKindToCssClass=function(){let l=Object.create(null);return l[0]="symbol-method",l[1]="symbol-function",l[2]="symbol-constructor",l[3]="symbol-field",l[4]="symbol-variable",l[5]="symbol-class",l[6]="symbol-struct",l[7]="symbol-interface",l[8]="symbol-module",l[9]="symbol-property",l[10]="symbol-event",l[11]="symbol-operator",l[12]="symbol-unit",l[13]="symbol-value",l[14]="symbol-constant",l[15]="symbol-enum",l[16]="symbol-enum-member",l[17]="symbol-keyword",l[27]="symbol-snippet",l[18]="symbol-text",l[19]="symbol-color",l[20]="symbol-file",l[21]="symbol-reference",l[22]="symbol-customcolor",l[23]="symbol-folder",l[24]="symbol-type-parameter",l[25]="account",l[26]="issues",function(p){const I=l[p];let z=I&&e.iconRegistry.get(I);return z||(console.info("No codicon found for CompletionItemKind "+p),z=e.Codicon.symbolProperty),z.classNames}}(),t.completionKindFromString=function(){let l=Object.create(null);return l.method=0,l.function=1,l.constructor=2,l.field=3,l.variable=4,l.class=5,l.struct=6,l.interface=7,l.module=8,l.property=9,l.event=10,l.operator=11,l.unit=12,l.value=13,l.constant=14,l.enum=15,l["enum-member"]=16,l.enumMember=16,l.keyword=17,l.snippet=27,l.text=18,l.color=19,l.file=20,l.reference=21,l.customcolor=22,l.folder=23,l["type-parameter"]=24,l.typeParameter=24,l.account=25,l.issue=26,function(p,I){let z=l[p];return typeof z=="undefined"&&!I&&(z=9),z}}();var _;(function(l){l[l.Deprecated=1]="Deprecated"})(_=t.CompletionItemTag||(t.CompletionItemTag={}));var b;(function(l){l[l.KeepWhitespace=1]="KeepWhitespace",l[l.InsertAsSnippet=4]="InsertAsSnippet"})(b=t.CompletionItemInsertTextRule||(t.CompletionItemInsertTextRule={}));var c;(function(l){l[l.Invoke=0]="Invoke",l[l.TriggerCharacter=1]="TriggerCharacter",l[l.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(c=t.CompletionTriggerKind||(t.CompletionTriggerKind={}));var r;(function(l){l[l.Automatic=0]="Automatic",l[l.Explicit=1]="Explicit"})(r=t.InlineCompletionTriggerKind||(t.InlineCompletionTriggerKind={}));var h;(function(l){l[l.Invoke=1]="Invoke",l[l.Auto=2]="Auto"})(h=t.CodeActionTriggerType||(t.CodeActionTriggerType={}));var s;(function(l){l[l.Invoke=1]="Invoke",l[l.TriggerCharacter=2]="TriggerCharacter",l[l.ContentChange=3]="ContentChange"})(s=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={}));var d;(function(l){l[l.Text=0]="Text",l[l.Read=1]="Read",l[l.Write=2]="Write"})(d=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));function i(l){return l&&U.URI.isUri(l.uri)&&D.Range.isIRange(l.range)&&(D.Range.isIRange(l.originSelectionRange)||D.Range.isIRange(l.targetSelectionRange))}t.isLocationLink=i;var u;(function(l){l[l.File=0]="File",l[l.Module=1]="Module",l[l.Namespace=2]="Namespace",l[l.Package=3]="Package",l[l.Class=4]="Class",l[l.Method=5]="Method",l[l.Property=6]="Property",l[l.Field=7]="Field",l[l.Constructor=8]="Constructor",l[l.Enum=9]="Enum",l[l.Interface=10]="Interface",l[l.Function=11]="Function",l[l.Variable=12]="Variable",l[l.Constant=13]="Constant",l[l.String=14]="String",l[l.Number=15]="Number",l[l.Boolean=16]="Boolean",l[l.Array=17]="Array",l[l.Object=18]="Object",l[l.Key=19]="Key",l[l.Null=20]="Null",l[l.EnumMember=21]="EnumMember",l[l.Struct=22]="Struct",l[l.Event=23]="Event",l[l.Operator=24]="Operator",l[l.TypeParameter=25]="TypeParameter"})(u=t.SymbolKind||(t.SymbolKind={}));var m;(function(l){l[l.Deprecated=1]="Deprecated"})(m=t.SymbolTag||(t.SymbolTag={}));var a;(function(l){const p=new Map;p.set("file",0),p.set("module",1),p.set("namespace",2),p.set("package",3),p.set("class",4),p.set("method",5),p.set("property",6),p.set("field",7),p.set("constructor",8),p.set("enum",9),p.set("interface",10),p.set("function",11),p.set("variable",12),p.set("constant",13),p.set("string",14),p.set("number",15),p.set("boolean",16),p.set("array",17),p.set("object",18),p.set("key",19),p.set("null",20),p.set("enum-member",21),p.set("struct",22),p.set("event",23),p.set("operator",24),p.set("type-parameter",25);const I=new Map;I.set(0,"file"),I.set(1,"module"),I.set(2,"namespace"),I.set(3,"package"),I.set(4,"class"),I.set(5,"method"),I.set(6,"property"),I.set(7,"field"),I.set(8,"constructor"),I.set(9,"enum"),I.set(10,"interface"),I.set(11,"function"),I.set(12,"variable"),I.set(13,"constant"),I.set(14,"string"),I.set(15,"number"),I.set(16,"boolean"),I.set(17,"array"),I.set(18,"object"),I.set(19,"key"),I.set(20,"null"),I.set(21,"enum-member"),I.set(22,"struct"),I.set(23,"event"),I.set(24,"operator"),I.set(25,"type-parameter");function z(o){return p.get(o)}l.fromString=z;function j(o){return I.get(o)}l.toString=j;function B(o,L){const R=I.get(o);let W=R&&e.iconRegistry.get("symbol-"+R);return W||(console.info("No codicon found for SymbolKind "+o),W=e.Codicon.symbolProperty),`${L?"inline":"block"} ${W.classNames}`}l.toCssClassName=B})(a=t.SymbolKinds||(t.SymbolKinds={}));class n{constructor(p){this.value=p}}t.FoldingRangeKind=n,n.Comment=new n("comment"),n.Imports=new n("imports"),n.Region=new n("region");var f;(function(l){l[l.Collapsed=0]="Collapsed",l[l.Expanded=1]="Expanded"})(f=t.CommentThreadCollapsibleState||(t.CommentThreadCollapsibleState={}));var g;(function(l){l[l.Editing=0]="Editing",l[l.Preview=1]="Preview"})(g=t.CommentMode||(t.CommentMode={}));var w;(function(l){l[l.Other=0]="Other",l[l.Type=1]="Type",l[l.Parameter=2]="Parameter"})(w=t.InlayHintKind||(t.InlayHintKind={})),t.ReferenceProviderRegistry=new M.LanguageFeatureRegistry,t.RenameProviderRegistry=new M.LanguageFeatureRegistry,t.CompletionProviderRegistry=new M.LanguageFeatureRegistry,t.InlineCompletionsProviderRegistry=new M.LanguageFeatureRegistry,t.SignatureHelpProviderRegistry=new M.LanguageFeatureRegistry,t.HoverProviderRegistry=new M.LanguageFeatureRegistry,t.EvaluatableExpressionProviderRegistry=new M.LanguageFeatureRegistry,t.InlineValuesProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentSymbolProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentHighlightProviderRegistry=new M.LanguageFeatureRegistry,t.LinkedEditingRangeProviderRegistry=new M.LanguageFeatureRegistry,t.DefinitionProviderRegistry=new M.LanguageFeatureRegistry,t.DeclarationProviderRegistry=new M.LanguageFeatureRegistry,t.ImplementationProviderRegistry=new M.LanguageFeatureRegistry,t.TypeDefinitionProviderRegistry=new M.LanguageFeatureRegistry,t.CodeLensProviderRegistry=new M.LanguageFeatureRegistry,t.InlayHintsProviderRegistry=new M.LanguageFeatureRegistry,t.CodeActionProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentRangeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,t.OnTypeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,t.LinkProviderRegistry=new M.LanguageFeatureRegistry,t.ColorProviderRegistry=new M.LanguageFeatureRegistry,t.SelectionRangeRegistry=new M.LanguageFeatureRegistry,t.FoldingRangeProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,t.DocumentRangeSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,t.TokenizationRegistry=new A.TokenizationRegistryImpl;var v;(function(l){l[l.None=0]="None",l[l.Option=1]="Option",l[l.Default=2]="Default",l[l.Preferred=3]="Preferred"})(v=t.ExternalUriOpenerPriority||(t.ExternalUriOpenerPriority={}))}),define(ee[35],te([0,1,17]),function(Z,t,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlicedLineTokens=t.LineTokens=void 0;class D{constructor(e,S,N){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=S,this._languageIdCodec=N}static createEmpty(e,S){const N=D.defaultTokenMetadata,C=new Uint32Array(2);return C[0]=e.length,C[1]=N,new D(C,e,S)}equals(e){return e instanceof D?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,S,N){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const C=S<<1,E=C+(N<<1);for(let T=C;T<E;T++)if(this._tokens[T]!==e._tokens[T])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const S=this._tokens[(e<<1)+1],N=U.TokenMetadata.getLanguageId(S);return this._languageIdCodec.decodeLanguageId(N)}getStandardTokenType(e){const S=this._tokens[(e<<1)+1];return U.TokenMetadata.getTokenType(S)}getForeground(e){const S=this._tokens[(e<<1)+1];return U.TokenMetadata.getForeground(S)}getClassName(e){const S=this._tokens[(e<<1)+1];return U.TokenMetadata.getClassNameFromMetadata(S)}getInlineStyle(e,S){const N=this._tokens[(e<<1)+1];return U.TokenMetadata.getInlineStyleFromMetadata(N,S)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return D.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,S,N){return new M(this,e,S,N)}static convertToEndOffset(e,S){const C=(e.length>>>1)-1;for(let E=0;E<C;E++)e[E<<1]=e[E+1<<1];e[C<<1]=S}static findIndexInTokensArray(e,S){if(e.length<=2)return 0;let N=0,C=(e.length>>>1)-1;for(;N<C;){const E=N+Math.floor((C-N)/2),T=e[E<<1];if(T===S)return E+1;T<S?N=E+1:T>S&&(C=E)}return N}withInserted(e){if(e.length===0)return this;let S=0,N=0,C="";const E=new Array;let T=0;for(;;){let k=S<this._tokensCount?this._tokens[S<<1]:-1,P=N<e.length?e[N]:null;if(k!==-1&&(P===null||k<=P.offset)){C+=this._text.substring(T,k);const _=this._tokens[(S<<1)+1];E.push(C.length,_),S++,T=k}else if(P){if(P.offset>T){C+=this._text.substring(T,P.offset);const _=this._tokens[(S<<1)+1];E.push(C.length,_),T=P.offset}C+=P.text,E.push(C.length,P.tokenMetadata),N++}else break}return new D(new Uint32Array(E),C,this._languageIdCodec)}}t.LineTokens=D,D.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class M{constructor(e,S,N,C){this._source=e,this._startOffset=S,this._endOffset=N,this._deltaOffset=C,this._firstTokenIndex=e.findTokenIndexAtOffset(S),this._tokensCount=0;for(let E=this._firstTokenIndex,T=e.getCount();E<T&&!(e.getStartOffset(E)>=N);E++)this._tokensCount++}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof M?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const S=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,S)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,S){return this._source.getInlineStyle(this._firstTokenIndex+e,S)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}t.SlicedLineTokens=M}),define(ee[36],te([0,1,22,35,28,7,17,8]),function(Z,t,U,D,M,A,e,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokensStore=t.TokensStore2=t.MultilineTokens=t.MultilineTokens2=t.LineTokens2=t.SparseEncodedTokens=t.MultilineTokensBuilder=t.countEOL=t.StringEOL=void 0;var N;(function(d){d[d.Unknown=0]="Unknown",d[d.Invalid=3]="Invalid",d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(N=t.StringEOL||(t.StringEOL={}));function C(d){let i=0,u=0,m=0,a=0;for(let n=0,f=d.length;n<f;n++){const g=d.charCodeAt(n);g===13?(i===0&&(u=n),i++,n+1<f&&d.charCodeAt(n+1)===10?(a|=2,n++):a|=3,m=n+1):g===10&&(a|=1,i===0&&(u=n),i++,m=n+1)}return i===0&&(u=d.length),[i,u,d.length-m,a]}t.countEOL=C;function E(d){return(d<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const T=new Uint32Array(0).buffer;class k{constructor(){this.tokens=[]}add(i,u){if(this.tokens.length>0){const m=this.tokens[this.tokens.length-1];if(m.startLineNumber+m.tokens.length-1+1===i){m.tokens.push(u);return}}this.tokens.push(new c(i,[u]))}static deserialize(i){let u=0;const m=(0,S.readUInt32BE)(i,u);u+=4;let a=[];for(let n=0;n<m;n++)u=c.deserialize(i,u,a);return a}serialize(){const i=this._serializeSize(),u=new Uint8Array(i);return this._serialize(u),u}_serializeSize(){let i=0;i+=4;for(let u=0;u<this.tokens.length;u++)i+=this.tokens[u].serializeSize();return i}_serialize(i){let u=0;(0,S.writeUInt32BE)(i,this.tokens.length,u),u+=4;for(let m=0;m<this.tokens.length;m++)u=this.tokens[m].serialize(i,u)}}t.MultilineTokensBuilder=k;class P{constructor(i){this._tokens=i,this._tokenCount=i.length/4}toString(i){let u=[];for(let m=0;m<this._tokenCount;m++)u.push(`(${this._getDeltaLine(m)+i},${this._getStartCharacter(m)}-${this._getEndCharacter(m)})`);return`[${u.join(",")}]`}getMaxDeltaLine(){const i=this._getTokenCount();return i===0?-1:this._getDeltaLine(i-1)}getRange(){const i=this._getTokenCount();if(i===0)return null;const u=this._getStartCharacter(0),m=this._getDeltaLine(i-1),a=this._getEndCharacter(i-1);return new A.Range(0,u+1,m,a+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(i){return this._tokens[4*i]}_getStartCharacter(i){return this._tokens[4*i+1]}_getEndCharacter(i){return this._tokens[4*i+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(i){let u=0,m=this._getTokenCount()-1;for(;u<m;){const a=u+Math.floor((m-u)/2),n=this._getDeltaLine(a);if(n<i)u=a+1;else if(n>i)m=a-1;else{let f=a;for(;f>u&&this._getDeltaLine(f-1)===i;)f--;let g=a;for(;g<m&&this._getDeltaLine(g+1)===i;)g++;return new _(this._tokens.subarray(4*f,4*g+4))}}return this._getDeltaLine(u)===i?new _(this._tokens.subarray(4*u,4*u+4)):null}clear(){this._tokenCount=0}removeTokens(i,u,m,a){const n=this._tokens,f=this._tokenCount;let g=0,w=!1,v=0;for(let l=0;l<f;l++){const p=4*l,I=n[p],z=n[p+1],j=n[p+2],B=n[p+3];if((I>i||I===i&&j>=u)&&(I<m||I===m&&z<=a))w=!0;else{if(g===0&&(v=I),w){const o=4*g;n[o]=I-v,n[o+1]=z,n[o+2]=j,n[o+3]=B}g++}}return this._tokenCount=g,v}split(i,u,m,a){const n=this._tokens,f=this._tokenCount;let g=[],w=[],v=g,l=0,p=0;for(let I=0;I<f;I++){const z=4*I,j=n[z],B=n[z+1],o=n[z+2],L=n[z+3];if(j>i||j===i&&o>=u){if(j<m||j===m&&B<=a)continue;v!==w&&(v=w,l=0,p=j)}v[l++]=j-p,v[l++]=B,v[l++]=o,v[l++]=L}return[new P(new Uint32Array(g)),new P(new Uint32Array(w)),p]}acceptDeleteRange(i,u,m,a,n){const f=this._tokens,g=this._tokenCount,w=a-u;let v=0,l=!1;for(let p=0;p<g;p++){const I=4*p;let z=f[I],j=f[I+1],B=f[I+2];const o=f[I+3];if(z<u||z===u&&B<=m){v++;continue}else if(z===u&&j<m)z===a&&B>n?B-=n-m:B=m;else if(z===u&&j===m)if(z===a&&B>n)B-=n-m;else{l=!0;continue}else if(z<a||z===a&&j<n)if(z===a&&B>n)z===u?(j=m,B=j+(B-n)):(j=0,B=j+(B-n));else{l=!0;continue}else if(z>a){if(w===0&&!l){v=g;break}z-=w}else if(z===a&&j>=n)i&&z===0&&(j+=i,B+=i),z-=w,j-=n-m,B-=n-m;else throw new Error("Not possible!");const L=4*v;f[L]=z,f[L+1]=j,f[L+2]=B,f[L+3]=o,v++}this._tokenCount=v}acceptInsertText(i,u,m,a,n,f){const g=m===0&&a===1&&(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122),w=this._tokens,v=this._tokenCount;for(let l=0;l<v;l++){const p=4*l;let I=w[p],z=w[p+1],j=w[p+2];if(!(I<i||I===i&&j<u)){if(I===i&&j===u)if(g)j+=1;else continue;else if(I===i&&z<u&&u<j)m===0?j+=a:j=u;else{if(I===i&&z===u&&g)continue;if(I===i)if(I+=m,m===0)z+=a,j+=a;else{const B=j-z;z=n+(z-u),j=z+B}else I+=m}w[p]=I,w[p+1]=z,w[p+2]=j}}}}t.SparseEncodedTokens=P;class _{constructor(i){this._tokens=i}getCount(){return this._tokens.length/4}getStartCharacter(i){return this._tokens[4*i+1]}getEndCharacter(i){return this._tokens[4*i+2]}getMetadata(i){return this._tokens[4*i+3]}}t.LineTokens2=_;class b{constructor(i,u){this.startLineNumber=i,this.tokens=u,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(i){return this.startLineNumber<=i&&i<=this.endLineNumber?this.tokens.getLineTokens(i-this.startLineNumber):null}getRange(){const i=this.tokens.getRange();return i&&new A.Range(this.startLineNumber+i.startLineNumber,i.startColumn,this.startLineNumber+i.endLineNumber,i.endColumn)}removeTokens(i){const u=i.startLineNumber-this.startLineNumber,m=i.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(u,i.startColumn-1,m,i.endColumn-1),this._updateEndLineNumber()}split(i){const u=i.startLineNumber-this.startLineNumber,m=i.endLineNumber-this.startLineNumber,[a,n,f]=this.tokens.split(u,i.startColumn-1,m,i.endColumn-1);return[new b(this.startLineNumber,a),new b(this.startLineNumber+f,n)]}applyEdit(i,u){const[m,a,n]=C(u);this.acceptEdit(i,m,a,n,u.length>0?u.charCodeAt(0):0)}acceptEdit(i,u,m,a,n){this._acceptDeleteRange(i),this._acceptInsertText(new M.Position(i.startLineNumber,i.startColumn),u,m,a,n),this._updateEndLineNumber()}_acceptDeleteRange(i){if(i.startLineNumber===i.endLineNumber&&i.startColumn===i.endColumn)return;const u=i.startLineNumber-this.startLineNumber,m=i.endLineNumber-this.startLineNumber;if(m<0){const n=m-u;this.startLineNumber-=n;return}const a=this.tokens.getMaxDeltaLine();if(!(u>=a+1)){if(u<0&&m>=a+1){this.startLineNumber=0,this.tokens.clear();return}if(u<0){const n=-u;this.startLineNumber-=n,this.tokens.acceptDeleteRange(i.startColumn-1,0,0,m,i.endColumn-1)}else this.tokens.acceptDeleteRange(0,u,i.startColumn-1,m,i.endColumn-1)}}_acceptInsertText(i,u,m,a,n){if(u===0&&m===0)return;const f=i.lineNumber-this.startLineNumber;if(f<0){this.startLineNumber+=u;return}const g=this.tokens.getMaxDeltaLine();f>=g+1||this.tokens.acceptInsertText(f,i.column-1,u,m,a,n)}}t.MultilineTokens2=b;class c{constructor(i,u){this.startLineNumber=i,this.tokens=u}static deserialize(i,u,m){const a=new Uint32Array(i.buffer),n=(0,S.readUInt32BE)(i,u);u+=4;const f=(0,S.readUInt32BE)(i,u);u+=4;let g=[];for(let w=0;w<f;w++){const v=(0,S.readUInt32BE)(i,u);u+=4,g.push(a.subarray(u/4,u/4+v/4)),u+=v}return m.push(new c(n,g)),u}serializeSize(){let i=0;i+=4,i+=4;for(let u=0;u<this.tokens.length;u++){const m=this.tokens[u];if(!(m instanceof Uint32Array))throw new Error("Not supported!");i+=4,i+=m.byteLength}return i}serialize(i,u){(0,S.writeUInt32BE)(i,this.startLineNumber,u),u+=4,(0,S.writeUInt32BE)(i,this.tokens.length,u),u+=4;for(let m=0;m<this.tokens.length;m++){const a=this.tokens[m];if(!(a instanceof Uint32Array))throw new Error("Not supported!");(0,S.writeUInt32BE)(i,a.byteLength,u),u+=4,i.set(new Uint8Array(a.buffer),u),u+=a.byteLength}return u}applyEdit(i,u){const[m,a]=C(u);this._acceptDeleteRange(i),this._acceptInsertText(new M.Position(i.startLineNumber,i.startColumn),m,a)}_acceptDeleteRange(i){if(i.startLineNumber===i.endLineNumber&&i.startColumn===i.endColumn)return;const u=i.startLineNumber-this.startLineNumber,m=i.endLineNumber-this.startLineNumber;if(m<0){const a=m-u;this.startLineNumber-=a;return}if(!(u>=this.tokens.length)){if(u<0&&m>=this.tokens.length){this.startLineNumber=0,this.tokens=[];return}if(u===m){this.tokens[u]=s._delete(this.tokens[u],i.startColumn-1,i.endColumn-1);return}if(u>=0)if(this.tokens[u]=s._deleteEnding(this.tokens[u],i.startColumn-1),m<this.tokens.length){const a=s._deleteBeginning(this.tokens[m],i.endColumn-1);this.tokens[u]=s._append(this.tokens[u],a),this.tokens.splice(u+1,m-u)}else this.tokens[u]=s._append(this.tokens[u],null),this.tokens=this.tokens.slice(0,u+1);else{const a=-u;this.startLineNumber-=a,this.tokens[m]=s._deleteBeginning(this.tokens[m],i.endColumn-1),this.tokens=this.tokens.slice(m)}}}_acceptInsertText(i,u,m){if(u===0&&m===0)return;const a=i.lineNumber-this.startLineNumber;if(a<0){this.startLineNumber+=u;return}if(!(a>=this.tokens.length)){if(u===0){this.tokens[a]=s._insert(this.tokens[a],i.column-1,m);return}this.tokens[a]=s._deleteEnding(this.tokens[a],i.column-1),this.tokens[a]=s._insert(this.tokens[a],i.column-1,m),this._insertLines(i.lineNumber,u)}}_insertLines(i,u){if(u===0)return;let m=[];for(let a=0;a<u;a++)m[a]=null;this.tokens=U.arrayInsert(this.tokens,i,m)}}t.MultilineTokens=c;function r(d){return d instanceof Uint32Array?d:new Uint32Array(d)}class h{constructor(i){this._pieces=[],this._isComplete=!1,this._languageIdCodec=i}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(i,u){this._pieces=i||[],this._isComplete=u}setPartial(i,u){let m=i;if(u.length>0){const n=u[0].getRange(),f=u[u.length-1].getRange();if(!n||!f)return i;m=i.plusRange(n).plusRange(f)}let a=null;for(let n=0,f=this._pieces.length;n<f;n++){const g=this._pieces[n];if(g.endLineNumber<m.startLineNumber)continue;if(g.startLineNumber>m.endLineNumber){a=a||{index:n};break}if(g.removeTokens(m),g.isEmpty()){this._pieces.splice(n,1),n--,f--;continue}if(g.endLineNumber<m.startLineNumber)continue;if(g.startLineNumber>m.endLineNumber){a=a||{index:n};continue}const[w,v]=g.split(m);if(w.isEmpty()){a=a||{index:n};continue}v.isEmpty()||(this._pieces.splice(n,1,w,v),n++,f++,a=a||{index:n})}return a=a||{index:this._pieces.length},u.length>0&&(this._pieces=U.arrayInsert(this._pieces,a.index,u)),m}isComplete(){return this._isComplete}addSemanticTokens(i,u){const m=this._pieces;if(m.length===0)return u;const a=h._findFirstPieceWithLine(m,i),n=m[a].getLineTokens(i);if(!n)return u;const f=u.getCount(),g=n.getCount();let w=0,v=[],l=0,p=0;const I=(z,j)=>{z!==p&&(p=z,v[l++]=z,v[l++]=j)};for(let z=0;z<g;z++){const j=n.getStartCharacter(z),B=n.getEndCharacter(z),o=n.getMetadata(z),L=((o&1?2048:0)|(o&2?4096:0)|(o&4?8192:0)|(o&8?8372224:0)|(o&16?4286578688:0))>>>0,R=~L>>>0;for(;w<f&&u.getEndOffset(w)<=j;)I(u.getEndOffset(w),u.getMetadata(w)),w++;for(w<f&&u.getStartOffset(w)<j&&I(j,u.getMetadata(w));w<f&&u.getEndOffset(w)<B;)I(u.getEndOffset(w),u.getMetadata(w)&R|o&L),w++;if(w<f)I(B,u.getMetadata(w)&R|o&L),u.getEndOffset(w)===B&&w++;else{const W=Math.min(Math.max(0,w-1),f-1);I(B,u.getMetadata(W)&R|o&L)}}for(;w<f;)I(u.getEndOffset(w),u.getMetadata(w)),w++;return new D.LineTokens(new Uint32Array(v),u.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(i,u){let m=0,a=i.length-1;for(;m<a;){let n=m+Math.floor((a-m)/2);if(i[n].endLineNumber<u)m=n+1;else if(i[n].startLineNumber>u)a=n-1;else{for(;n>m&&i[n-1].startLineNumber<=u&&u<=i[n-1].endLineNumber;)n--;return n}}return m}acceptEdit(i,u,m,a,n){for(const f of this._pieces)f.acceptEdit(i,u,m,a,n)}}t.TokensStore2=h;class s{constructor(i){this._lineTokens=[],this._len=0,this._languageIdCodec=i}flush(){this._lineTokens=[],this._len=0}getTokens(i,u,m){let a=null;if(u<this._len&&(a=this._lineTokens[u]),a!==null&&a!==T)return new D.LineTokens(r(a),m,this._languageIdCodec);const n=new Uint32Array(2);return n[0]=m.length,n[1]=E(this._languageIdCodec.encodeLanguageId(i)),new D.LineTokens(n,m,this._languageIdCodec)}static _massageTokens(i,u,m){const a=m?r(m):null;if(u===0){let n=!1;if(a&&a.length>1&&(n=e.TokenMetadata.getLanguageId(a[1])!==i),!n)return T}if(!a||a.length===0){const n=new Uint32Array(2);return n[0]=u,n[1]=E(i),n.buffer}return a[a.length-2]=u,a.byteOffset===0&&a.byteLength===a.buffer.byteLength?a.buffer:a}_ensureLine(i){for(;i>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(i,u){u!==0&&(i+u>this._len&&(u=this._len-i),this._lineTokens.splice(i,u),this._len-=u)}_insertLines(i,u){if(u===0)return;let m=[];for(let a=0;a<u;a++)m[a]=null;this._lineTokens=U.arrayInsert(this._lineTokens,i,m),this._len+=u}setTokens(i,u,m,a,n){const f=s._massageTokens(this._languageIdCodec.encodeLanguageId(i),m,a);this._ensureLine(u);const g=this._lineTokens[u];return this._lineTokens[u]=f,n?!s._equals(g,f):!1}static _equals(i,u){if(!i||!u)return!i&&!u;const m=r(i),a=r(u);if(m.length!==a.length)return!1;for(let n=0,f=m.length;n<f;n++)if(m[n]!==a[n])return!1;return!0}acceptEdit(i,u,m){this._acceptDeleteRange(i),this._acceptInsertText(new M.Position(i.startLineNumber,i.startColumn),u,m)}_acceptDeleteRange(i){const u=i.startLineNumber-1;if(u>=this._len)return;if(i.startLineNumber===i.endLineNumber){if(i.startColumn===i.endColumn)return;this._lineTokens[u]=s._delete(this._lineTokens[u],i.startColumn-1,i.endColumn-1);return}this._lineTokens[u]=s._deleteEnding(this._lineTokens[u],i.startColumn-1);const m=i.endLineNumber-1;let a=null;m<this._len&&(a=s._deleteBeginning(this._lineTokens[m],i.endColumn-1)),this._lineTokens[u]=s._append(this._lineTokens[u],a),this._deleteLines(i.startLineNumber,i.endLineNumber-i.startLineNumber)}_acceptInsertText(i,u,m){if(u===0&&m===0)return;const a=i.lineNumber-1;if(!(a>=this._len)){if(u===0){this._lineTokens[a]=s._insert(this._lineTokens[a],i.column-1,m);return}this._lineTokens[a]=s._deleteEnding(this._lineTokens[a],i.column-1),this._lineTokens[a]=s._insert(this._lineTokens[a],i.column-1,m),this._insertLines(i.lineNumber,u)}}static _deleteBeginning(i,u){return i===null||i===T?i:s._delete(i,0,u)}static _deleteEnding(i,u){if(i===null||i===T)return i;const m=r(i),a=m[m.length-2];return s._delete(i,u,a)}static _delete(i,u,m){if(i===null||i===T||u===m)return i;const a=r(i),n=a.length>>>1;if(u===0&&a[a.length-2]===m)return T;const f=D.LineTokens.findIndexInTokensArray(a,u),g=f>0?a[f-1<<1]:0,w=a[f<<1];if(m<w){const z=m-u;for(let j=f;j<n;j++)a[j<<1]-=z;return i}let v,l;g!==u?(a[f<<1]=u,v=f+1<<1,l=u):(v=f<<1,l=g);const p=m-u;for(let z=f+1;z<n;z++){const j=a[z<<1]-p;j>l&&(a[v++]=j,a[v++]=a[(z<<1)+1],l=j)}if(v===a.length)return i;let I=new Uint32Array(v);return I.set(a.subarray(0,v),0),I.buffer}static _append(i,u){if(u===T)return i;if(i===T)return u;if(i===null)return i;if(u===null)return null;const m=r(i),a=r(u),n=a.length>>>1;let f=new Uint32Array(m.length+a.length);f.set(m,0);let g=m.length;const w=m[m.length-2];for(let v=0;v<n;v++)f[g++]=a[v<<1]+w,f[g++]=a[(v<<1)+1];return f.buffer}static _insert(i,u,m){if(i===null||i===T)return i;const a=r(i),n=a.length>>>1;let f=D.LineTokens.findIndexInTokensArray(a,u);f>0&&a[f-1<<1]===u&&f--;for(let g=f;g<n;g++)a[g<<1]+=m;return i}}t.TokensStore=s}),define(ee[37],te([0,1,5,2,7,29,15,36,27,6]),function(Z,t,U,D,M,A,e,S,N,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PieceTreeTextBuffer=void 0;class E extends C.Disposable{constructor(k,P,_,b,c,r,h){super();this._onDidChangeContent=this._register(new U.Emitter),this.onDidChangeContent=this._onDidChangeContent.event,this._BOM=P,this._mightContainNonBasicASCII=!r,this._mightContainRTL=b,this._mightContainUnusualLineTerminators=c,this._pieceTree=new e.PieceTreeBase(k,_,h)}equals(k){return!(k instanceof E)||this._BOM!==k._BOM||this.getEOL()!==k.getEOL()?!1:this._pieceTree.equal(k._pieceTree)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(k){return this._pieceTree.createSnapshot(k?this._BOM:"")}getOffsetAt(k,P){return this._pieceTree.getOffsetAt(k,P)}getPositionAt(k){return this._pieceTree.getPositionAt(k)}getRangeAt(k,P){let _=k+P;const b=this.getPositionAt(k),c=this.getPositionAt(_);return new M.Range(b.lineNumber,b.column,c.lineNumber,c.column)}getValueInRange(k,P=0){if(k.isEmpty())return"";const _=this._getEndOfLine(P);return this._pieceTree.getValueInRange(k,_)}getValueLengthInRange(k,P=0){if(k.isEmpty())return 0;if(k.startLineNumber===k.endLineNumber)return k.endColumn-k.startColumn;let _=this.getOffsetAt(k.startLineNumber,k.startColumn);return this.getOffsetAt(k.endLineNumber,k.endColumn)-_}getCharacterCountInRange(k,P=0){if(this._mightContainNonBasicASCII){let _=0;const b=k.startLineNumber,c=k.endLineNumber;for(let r=b;r<=c;r++){const h=this.getLineContent(r),s=r===b?k.startColumn-1:0,d=r===c?k.endColumn-1:h.length;for(let i=s;i<d;i++)D.isHighSurrogate(h.charCodeAt(i))?(_=_+1,i=i+1):_=_+1}return _+=this._getEndOfLine(P).length*(c-b),_}return this.getValueLengthInRange(k,P)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(k){return this._pieceTree.getLineContent(k)}getLineCharCode(k,P){return this._pieceTree.getLineCharCode(k,P)}getCharCode(k){return this._pieceTree.getCharCode(k)}getLineLength(k){return this._pieceTree.getLineLength(k)}getLineMinColumn(k){return 1}getLineMaxColumn(k){return this.getLineLength(k)+1}getLineFirstNonWhitespaceColumn(k){const P=D.firstNonWhitespaceIndex(this.getLineContent(k));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(k){const P=D.lastNonWhitespaceIndex(this.getLineContent(k));return P===-1?0:P+2}_getEndOfLine(k){switch(k){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(k){this._pieceTree.setEOL(k)}applyEdits(k,P,_){let b=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,h=!0,s=[];for(let f=0;f<k.length;f++){let g=k[f];h&&g._isTracked&&(h=!1);let w=g.range;if(g.text){let z=!0;r||(z=!D.isBasicASCII(g.text),r=z),!b&&z&&(b=D.containsRTL(g.text)),!c&&z&&(c=D.containsUnusualLineTerminators(g.text))}let v="",l=0,p=0,I=0;if(g.text){let z;[l,p,I,z]=(0,S.countEOL)(g.text);const j=this.getEOL();z===0||z===(j===`\r
`?2:1)?v=g.text:v=g.text.replace(/\r\n|\r|\n/g,j)}s[f]={sortIndex:f,identifier:g.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:v,eolCount:l,firstLineLength:p,lastLineLength:I,forceMoveMarkers:Boolean(g.forceMoveMarkers),isAutoWhitespaceEdit:g.isAutoWhitespaceEdit||!1}}s.sort(E._sortOpsAscending);let d=!1;for(let f=0,g=s.length-1;f<g;f++){let w=s[f].range.getEndPosition(),v=s[f+1].range.getStartPosition();if(v.isBeforeOrEqual(w)){if(v.isBefore(w))throw new Error("Overlapping ranges are not allowed!");d=!0}}h&&(s=this._reduceOperations(s));let i=_||P?E._getInverseEditRanges(s):[],u=[];if(P)for(let f=0;f<s.length;f++){let g=s[f],w=i[f];if(g.isAutoWhitespaceEdit&&g.range.isEmpty())for(let v=w.startLineNumber;v<=w.endLineNumber;v++){let l="";v===w.startLineNumber&&(l=this.getLineContent(g.range.startLineNumber),D.firstNonWhitespaceIndex(l)!==-1)||u.push({lineNumber:v,oldContent:l})}}let m=null;if(_){let f=0;m=[];for(let g=0;g<s.length;g++){const w=s[g],v=i[g],l=this.getValueInRange(w.range),p=w.rangeOffset+f;f+=w.text.length-l.length,m[g]={sortIndex:w.sortIndex,identifier:w.identifier,range:v,text:l,textChange:new N.TextChange(w.rangeOffset,l,p,w.text)}}d||m.sort((g,w)=>g.sortIndex-w.sortIndex)}this._mightContainRTL=b,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=r;const a=this._doApplyEdits(s);let n=null;if(P&&u.length>0){u.sort((f,g)=>g.lineNumber-f.lineNumber),n=[];for(let f=0,g=u.length;f<g;f++){let w=u[f].lineNumber;if(f>0&&u[f-1].lineNumber===w)continue;let v=u[f].oldContent,l=this.getLineContent(w);l.length===0||l===v||D.firstNonWhitespaceIndex(l)!==-1||n.push(w)}}return this._onDidChangeContent.fire(),new A.ApplyEditsResult(m,a,n)}_reduceOperations(k){return k.length<1e3?k:[this._toSingleEditOperation(k)]}_toSingleEditOperation(k){let P=!1;const _=k[0].range,b=k[k.length-1].range,c=new M.Range(_.startLineNumber,_.startColumn,b.endLineNumber,b.endColumn);let r=_.startLineNumber,h=_.startColumn;const s=[];for(let a=0,n=k.length;a<n;a++){const f=k[a],g=f.range;P=P||f.forceMoveMarkers,s.push(this.getValueInRange(new M.Range(r,h,g.startLineNumber,g.startColumn))),f.text.length>0&&s.push(f.text),r=g.endLineNumber,h=g.endColumn}const d=s.join(""),[i,u,m]=(0,S.countEOL)(d);return{sortIndex:0,identifier:k[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:d,eolCount:i,firstLineLength:u,lastLineLength:m,forceMoveMarkers:P,isAutoWhitespaceEdit:!1}}_doApplyEdits(k){k.sort(E._sortOpsDescending);let P=[];for(let _=0;_<k.length;_++){let b=k[_];const c=b.range.startLineNumber,r=b.range.startColumn,h=b.range.endLineNumber,s=b.range.endColumn;if(c===h&&r===s&&b.text.length===0)continue;b.text?(this._pieceTree.delete(b.rangeOffset,b.rangeLength),this._pieceTree.insert(b.rangeOffset,b.text,!0)):this._pieceTree.delete(b.rangeOffset,b.rangeLength);const d=new M.Range(c,r,h,s);P.push({range:d,rangeLength:b.rangeLength,text:b.text,rangeOffset:b.rangeOffset,forceMoveMarkers:b.forceMoveMarkers})}return P}findMatchesLineByLine(k,P,_,b){return this._pieceTree.findMatchesLineByLine(k,P,_,b)}getPieceTree(){return this._pieceTree}static _getInverseEditRange(k,P){let _=k.startLineNumber,b=k.startColumn;const[c,r,h]=(0,S.countEOL)(P);let s;if(P.length>0){const d=c+1;d===1?s=new M.Range(_,b,_,b+r):s=new M.Range(_,b,_+d-1,h+1)}else s=new M.Range(_,b,_,b);return s}static _getInverseEditRanges(k){let P=[],_=0,b=0,c=null;for(let r=0,h=k.length;r<h;r++){let s=k[r],d,i;c?c.range.endLineNumber===s.range.startLineNumber?(d=_,i=b+(s.range.startColumn-c.range.endColumn)):(d=_+(s.range.startLineNumber-c.range.endLineNumber),i=s.range.startColumn):(d=s.range.startLineNumber,i=s.range.startColumn);let u;if(s.text.length>0){const m=s.eolCount+1;m===1?u=new M.Range(d,i,d,i+s.firstLineLength):u=new M.Range(d,i,d+m-1,s.lastLineLength+1)}else u=new M.Range(d,i,d,i);_=u.endLineNumber,b=u.endColumn,P.push(u),c=s}return P}static _sortOpsAscending(k,P){let _=M.Range.compareRangesUsingEnds(k.range,P.range);return _===0?k.sortIndex-P.sortIndex:_}static _sortOpsDescending(k,P){let _=M.Range.compareRangesUsingEnds(k.range,P.range);return _===0?P.sortIndex-k.sortIndex:-_}}t.PieceTreeTextBuffer=E}),define(ee[38],te([0,1,2,15,37]),function(Z,t,U,D,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PieceTreeTextBufferBuilder=t.PieceTreeTextBufferFactory=void 0;class A{constructor(N,C,E,T,k,P,_,b,c){this._chunks=N,this._bom=C,this._cr=E,this._lf=T,this._crlf=k,this._containsRTL=P,this._containsUnusualLineTerminators=_,this._isBasicASCII=b,this._normalizeEOL=c}_getEOL(N){const C=this._cr+this._lf+this._crlf,E=this._cr+this._crlf;return C===0?N===1?`
`:`\r
`:E>C/2?`\r
`:`
`}create(N){const C=this._getEOL(N);let E=this._chunks;if(this._normalizeEOL&&(C===`\r
`&&(this._cr>0||this._lf>0)||C===`
`&&(this._cr>0||this._crlf>0)))for(let k=0,P=E.length;k<P;k++){let _=E[k].buffer.replace(/\r\n|\r|\n/g,C),b=(0,D.createLineStartsFast)(_);E[k]=new D.StringBuffer(_,b)}const T=new M.PieceTreeTextBuffer(E,this._bom,C,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:T,disposable:T}}getFirstLineText(N){return this._chunks[0].buffer.substr(0,N).split(/\r\n|\r|\n/)[0]}}t.PieceTreeTextBufferFactory=A;class e{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(N){if(N.length===0)return;this.chunks.length===0&&U.startsWithUTF8BOM(N)&&(this.BOM=U.UTF8_BOM_CHARACTER,N=N.substr(1));const C=N.charCodeAt(N.length-1);C===13||C>=55296&&C<=56319?(this._acceptChunk1(N.substr(0,N.length-1),!1),this._hasPreviousChar=!0,this._previousChar=C):(this._acceptChunk1(N,!1),this._hasPreviousChar=!1,this._previousChar=C)}_acceptChunk1(N,C){!C&&N.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+N):this._acceptChunk2(N))}_acceptChunk2(N){const C=(0,D.createLineStarts)(this._tmpLineStarts,N);this.chunks.push(new D.StringBuffer(N,C.lineStarts)),this.cr+=C.cr,this.lf+=C.lf,this.crlf+=C.crlf,this.isBasicASCII&&(this.isBasicASCII=C.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=U.containsRTL(N)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=U.containsUnusualLineTerminators(N))}finish(N=!0){return this._finish(),new A(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,N)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let N=this.chunks[this.chunks.length-1];N.buffer+=String.fromCharCode(this._previousChar);let C=(0,D.createLineStartsFast)(N.buffer);N.lineStarts=C,this._previousChar===13&&this.cr++}}}t.PieceTreeTextBufferBuilder=e}),define(ee[39],te([0,1,3,2,16]),function(Z,t,U,D,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.implies=t.SET_CONTEXT_COMMAND_ID=t.IContextKeyService=t.RawContextKey=t.ContextKeyNotRegexExpr=t.ContextKeyRegexExpr=t.ContextKeySmallerEqualsExpr=t.ContextKeySmallerExpr=t.ContextKeyGreaterEqualsExpr=t.ContextKeyGreaterExpr=t.ContextKeyNotExpr=t.ContextKeyNotEqualsExpr=t.ContextKeyNotInExpr=t.ContextKeyInExpr=t.ContextKeyEqualsExpr=t.ContextKeyDefinedExpr=t.ContextKeyTrueExpr=t.ContextKeyFalseExpr=t.expressionsAreEqualWithConstantSubstitution=t.ContextKeyExpr=t.ContextKeyExprType=void 0;let A=U.userAgent||"";const e=new Map;e.set("false",!1),e.set("true",!0),e.set("isMac",U.isMacintosh),e.set("isLinux",U.isLinux),e.set("isWindows",U.isWindows),e.set("isWeb",U.isWeb),e.set("isMacNative",U.isMacintosh&&!U.isWeb),e.set("isEdge",A.indexOf("Edg/")>=0),e.set("isFirefox",A.indexOf("Firefox")>=0),e.set("isChrome",A.indexOf("Chrome")>=0),e.set("isSafari",A.indexOf("Safari")>=0);const S=Object.prototype.hasOwnProperty;var N;(function(B){B[B.False=0]="False",B[B.True=1]="True",B[B.Defined=2]="Defined",B[B.Not=3]="Not",B[B.Equals=4]="Equals",B[B.NotEquals=5]="NotEquals",B[B.And=6]="And",B[B.Regex=7]="Regex",B[B.NotRegex=8]="NotRegex",B[B.Or=9]="Or",B[B.In=10]="In",B[B.NotIn=11]="NotIn",B[B.Greater=12]="Greater",B[B.GreaterEquals=13]="GreaterEquals",B[B.Smaller=14]="Smaller",B[B.SmallerEquals=15]="SmallerEquals"})(N=t.ContextKeyExprType||(t.ContextKeyExprType={}));class C{static false(){return k.INSTANCE}static true(){return P.INSTANCE}static has(o){return _.create(o)}static equals(o,L){return b.create(o,L)}static notEquals(o,L){return h.create(o,L)}static regex(o,L){return n.create(o,L)}static in(o,L){return c.create(o,L)}static not(o){return s.create(o)}static and(...o){return w.create(o,null)}static or(...o){return v.create(o,null,!0)}static greater(o,L){return i.create(o,L)}static greaterEquals(o,L){return u.create(o,L)}static smaller(o,L){return m.create(o,L)}static smallerEquals(o,L){return a.create(o,L)}static deserialize(o,L=!1){if(!!o)return this._deserializeOrExpression(o,L)}static _deserializeOrExpression(o,L){let R=o.split("||");return v.create(R.map(W=>this._deserializeAndExpression(W,L)),null,!0)}static _deserializeAndExpression(o,L){let R=o.split("&&");return w.create(R.map(W=>this._deserializeOne(W,L)),null)}static _deserializeOne(o,L){if(o=o.trim(),o.indexOf("!=")>=0){let R=o.split("!=");return h.create(R[0].trim(),this._deserializeValue(R[1],L))}if(o.indexOf("==")>=0){let R=o.split("==");return b.create(R[0].trim(),this._deserializeValue(R[1],L))}if(o.indexOf("=~")>=0){let R=o.split("=~");return n.create(R[0].trim(),this._deserializeRegexValue(R[1],L))}if(o.indexOf(" in ")>=0){let R=o.split(" in ");return c.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(o)){const R=o.split(">=");return u.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(o)){const R=o.split(">");return i.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(o)){const R=o.split("<=");return a.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(o)){const R=o.split("<");return m.create(R[0].trim(),R[1].trim())}return/^\!\s*/.test(o)?s.create(o.substr(1).trim()):_.create(o)}static _deserializeValue(o,L){if(o=o.trim(),o==="true")return!0;if(o==="false")return!1;let R=/^'([^']*)'$/.exec(o);return R?R[1].trim():o}static _deserializeRegexValue(o,L){if((0,D.isFalsyOrWhitespace)(o)){if(L)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let R=o.indexOf("/"),W=o.lastIndexOf("/");if(R===W||R<0){if(L)throw new Error(`bad regexp-value '${o}', missing /-enclosure`);return console.warn(`bad regexp-value '${o}', missing /-enclosure`),null}let Y=o.slice(R+1,W),Q=o[W+1]==="i"?"i":"";try{return new RegExp(Y,Q)}catch(K){if(L)throw new Error(`bad regexp-value '${o}', parse error: ${K}`);return console.warn(`bad regexp-value '${o}', parse error: ${K}`),null}}}t.ContextKeyExpr=C;function E(B,o){const L=B?B.substituteConstants():void 0,R=o?o.substituteConstants():void 0;return!L&&!R?!0:!L||!R?!1:L.equals(R)}t.expressionsAreEqualWithConstantSubstitution=E;function T(B,o){return B.cmp(o)}class k{constructor(){this.type=0}cmp(o){return this.type-o.type}equals(o){return o.type===this.type}substituteConstants(){return this}evaluate(o){return!1}serialize(){return"false"}keys(){return[]}map(o){return this}negate(){return P.INSTANCE}}t.ContextKeyFalseExpr=k,k.INSTANCE=new k;class P{constructor(){this.type=1}cmp(o){return this.type-o.type}equals(o){return o.type===this.type}substituteConstants(){return this}evaluate(o){return!0}serialize(){return"true"}keys(){return[]}map(o){return this}negate(){return k.INSTANCE}}t.ContextKeyTrueExpr=P,P.INSTANCE=new P;class _{constructor(o,L){this.key=o,this.negated=L,this.type=2}static create(o,L=null){const R=e.get(o);return typeof R=="boolean"?R?P.INSTANCE:k.INSTANCE:new _(o,L)}cmp(o){return o.type!==this.type?this.type-o.type:p(this.key,o.key)}equals(o){return o.type===this.type?this.key===o.key:!1}substituteConstants(){const o=e.get(this.key);return typeof o=="boolean"?o?P.INSTANCE:k.INSTANCE:this}evaluate(o){return!!o.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(o){return o.mapDefined(this.key)}negate(){return this.negated||(this.negated=s.create(this.key,this)),this.negated}}t.ContextKeyDefinedExpr=_;class b{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=4}static create(o,L,R=null){if(typeof L=="boolean")return L?_.create(o,R):s.create(o,R);const W=e.get(o);return typeof W=="boolean"?L===(W?"true":"false")?P.INSTANCE:k.INSTANCE:new b(o,L,R)}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){const o=e.get(this.key);if(typeof o=="boolean"){const L=o?"true":"false";return this.value===L?P.INSTANCE:k.INSTANCE}return this}evaluate(o){return o.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(o){return o.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}t.ContextKeyEqualsExpr=b;class c{constructor(o,L){this.key=o,this.valueKey=L,this.type=10,this.negated=null}static create(o,L){return new c(o,L)}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.valueKey,o.key,o.valueKey)}equals(o){return o.type===this.type?this.key===o.key&&this.valueKey===o.valueKey:!1}substituteConstants(){return this}evaluate(o){const L=o.getValue(this.valueKey),R=o.getValue(this.key);return Array.isArray(L)?L.indexOf(R)>=0:typeof R=="string"&&typeof L=="object"&&L!==null?S.call(L,R):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(o){return o.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=r.create(this)),this.negated}}t.ContextKeyInExpr=c;class r{constructor(o){this._actual=o,this.type=11}static create(o){return new r(o)}cmp(o){return o.type!==this.type?this.type-o.type:this._actual.cmp(o._actual)}equals(o){return o.type===this.type?this._actual.equals(o._actual):!1}substituteConstants(){return this}evaluate(o){return!this._actual.evaluate(o)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(o){return new r(this._actual.map(o))}negate(){return this._actual}}t.ContextKeyNotInExpr=r;class h{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=5}static create(o,L,R=null){if(typeof L=="boolean")return L?s.create(o,R):_.create(o,R);const W=e.get(o);return typeof W=="boolean"?L===(W?"true":"false")?k.INSTANCE:P.INSTANCE:new h(o,L,R)}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){const o=e.get(this.key);if(typeof o=="boolean"){const L=o?"true":"false";return this.value===L?k.INSTANCE:P.INSTANCE}return this}evaluate(o){return o.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(o){return o.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}t.ContextKeyNotEqualsExpr=h;class s{constructor(o,L){this.key=o,this.negated=L,this.type=3}static create(o,L=null){const R=e.get(o);return typeof R=="boolean"?R?k.INSTANCE:P.INSTANCE:new s(o,L)}cmp(o){return o.type!==this.type?this.type-o.type:p(this.key,o.key)}equals(o){return o.type===this.type?this.key===o.key:!1}substituteConstants(){const o=e.get(this.key);return typeof o=="boolean"?o?k.INSTANCE:P.INSTANCE:this}evaluate(o){return!o.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(o){return o.mapNot(this.key)}negate(){return this.negated||(this.negated=_.create(this.key,this)),this.negated}}t.ContextKeyNotExpr=s;function d(B,o){if(typeof B=="string"){const L=parseFloat(B);isNaN(L)||(B=L)}return typeof B=="string"||typeof B=="number"?o(B):k.INSTANCE}class i{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=12}static create(o,L,R=null){return d(L,W=>new i(o,W,R))}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){return this}evaluate(o){return typeof this.value=="string"?!1:parseFloat(o.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(o){return o.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}t.ContextKeyGreaterExpr=i;class u{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=13}static create(o,L,R=null){return d(L,W=>new u(o,W,R))}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){return this}evaluate(o){return typeof this.value=="string"?!1:parseFloat(o.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(o){return o.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}t.ContextKeyGreaterEqualsExpr=u;class m{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=14}static create(o,L,R=null){return d(L,W=>new m(o,W,R))}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){return this}evaluate(o){return typeof this.value=="string"?!1:parseFloat(o.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(o){return o.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}t.ContextKeySmallerExpr=m;class a{constructor(o,L,R){this.key=o,this.value=L,this.negated=R,this.type=15}static create(o,L,R=null){return d(L,W=>new a(o,W,R))}cmp(o){return o.type!==this.type?this.type-o.type:I(this.key,this.value,o.key,o.value)}equals(o){return o.type===this.type?this.key===o.key&&this.value===o.value:!1}substituteConstants(){return this}evaluate(o){return typeof this.value=="string"?!1:parseFloat(o.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(o){return o.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=i.create(this.key,this.value,this)),this.negated}}t.ContextKeySmallerEqualsExpr=a;class n{constructor(o,L){this.key=o,this.regexp=L,this.type=7,this.negated=null}static create(o,L){return new n(o,L)}cmp(o){if(o.type!==this.type)return this.type-o.type;if(this.key<o.key)return-1;if(this.key>o.key)return 1;const L=this.regexp?this.regexp.source:"",R=o.regexp?o.regexp.source:"";return L<R?-1:L>R?1:0}equals(o){if(o.type===this.type){const L=this.regexp?this.regexp.source:"",R=o.regexp?o.regexp.source:"";return this.key===o.key&&L===R}return!1}substituteConstants(){return this}evaluate(o){let L=o.getValue(this.key);return this.regexp?this.regexp.test(L):!1}serialize(){const o=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${o}`}keys(){return[this.key]}map(o){return o.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}t.ContextKeyRegexExpr=n;class f{constructor(o){this._actual=o,this.type=8}static create(o){return new f(o)}cmp(o){return o.type!==this.type?this.type-o.type:this._actual.cmp(o._actual)}equals(o){return o.type===this.type?this._actual.equals(o._actual):!1}substituteConstants(){return this}evaluate(o){return!this._actual.evaluate(o)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(o){return new f(this._actual.map(o))}negate(){return this._actual}}t.ContextKeyNotRegexExpr=f;function g(B){let o=null;for(let L=0,R=B.length;L<R;L++){const W=B[L].substituteConstants();if(B[L]!==W&&o===null){o=[];for(let Y=0;Y<L;Y++)o[Y]=B[Y]}o!==null&&(o[L]=W)}return o===null?B:o}class w{constructor(o,L){this.expr=o,this.negated=L,this.type=6}static create(o,L){return w._normalizeArr(o,L)}cmp(o){if(o.type!==this.type)return this.type-o.type;if(this.expr.length<o.expr.length)return-1;if(this.expr.length>o.expr.length)return 1;for(let L=0,R=this.expr.length;L<R;L++){const W=T(this.expr[L],o.expr[L]);if(W!==0)return W}return 0}equals(o){if(o.type===this.type){if(this.expr.length!==o.expr.length)return!1;for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].equals(o.expr[L]))return!1;return!0}return!1}substituteConstants(){const o=g(this.expr);return o===this.expr?this:w.create(o,this.negated)}evaluate(o){for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].evaluate(o))return!1;return!0}static _normalizeArr(o,L){const R=[];let W=!1;for(const Y of o)if(!!Y){if(Y.type===1){W=!0;continue}if(Y.type===0)return k.INSTANCE;if(Y.type===6){R.push(...Y.expr);continue}R.push(Y)}if(R.length===0&&W)return P.INSTANCE;if(R.length!==0){if(R.length===1)return R[0];R.sort(T);for(let Y=1;Y<R.length;Y++)R[Y-1].equals(R[Y])&&(R.splice(Y,1),Y--);if(R.length===1)return R[0];for(;R.length>1;){const Y=R[R.length-1];if(Y.type!==9)break;R.pop();const Q=R.pop(),K=R.length===0,V=v.create(Y.expr.map(G=>w.create([G,Q],null)),null,K);V&&(R.push(V),R.sort(T))}return R.length===1?R[0]:new w(R,L)}}serialize(){return this.expr.map(o=>o.serialize()).join(" && ")}keys(){const o=[];for(let L of this.expr)o.push(...L.keys());return o}map(o){return new w(this.expr.map(L=>L.map(o)),null)}negate(){if(!this.negated){const o=[];for(let L of this.expr)o.push(L.negate());this.negated=v.create(o,this,!0)}return this.negated}}class v{constructor(o,L){this.expr=o,this.negated=L,this.type=9}static create(o,L,R){return v._normalizeArr(o,L,R)}cmp(o){if(o.type!==this.type)return this.type-o.type;if(this.expr.length<o.expr.length)return-1;if(this.expr.length>o.expr.length)return 1;for(let L=0,R=this.expr.length;L<R;L++){const W=T(this.expr[L],o.expr[L]);if(W!==0)return W}return 0}equals(o){if(o.type===this.type){if(this.expr.length!==o.expr.length)return!1;for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].equals(o.expr[L]))return!1;return!0}return!1}substituteConstants(){const o=g(this.expr);return o===this.expr?this:v.create(o,this.negated,!1)}evaluate(o){for(let L=0,R=this.expr.length;L<R;L++)if(this.expr[L].evaluate(o))return!0;return!1}static _normalizeArr(o,L,R){let W=[],Y=!1;if(o){for(let Q=0,K=o.length;Q<K;Q++){const V=o[Q];if(!!V){if(V.type===0){Y=!0;continue}if(V.type===1)return P.INSTANCE;if(V.type===9){W=W.concat(V.expr);continue}W.push(V)}}if(W.length===0&&Y)return k.INSTANCE;W.sort(T)}if(W.length!==0){if(W.length===1)return W[0];for(let Q=1;Q<W.length;Q++)W[Q-1].equals(W[Q])&&(W.splice(Q,1),Q--);if(W.length===1)return W[0];if(R){for(let Q=0;Q<W.length;Q++)for(let K=Q+1;K<W.length;K++)z(W[Q],W[K])&&(W.splice(K,1),K--);if(W.length===1)return W[0]}return new v(W,L)}}serialize(){return this.expr.map(o=>o.serialize()).join(" || ")}keys(){const o=[];for(let L of this.expr)o.push(...L.keys());return o}map(o){return new v(this.expr.map(L=>L.map(o)),null)}negate(){if(!this.negated){let o=[];for(let L of this.expr)o.push(L.negate());for(;o.length>1;){const L=o.shift(),R=o.shift(),W=[];for(const Q of j(L))for(const K of j(R))W.push(w.create([Q,K],null));const Y=o.length===0;o.unshift(v.create(W,null,Y))}this.negated=o[0]}return this.negated}}class l extends _{constructor(o,L,R){super(o,null);this._defaultValue=L,typeof R=="object"?l._info.push({...R,key:o}):R!==!0&&l._info.push({key:o,description:R,type:L!=null?typeof L:void 0})}static all(){return l._info.values()}bindTo(o){return o.createKey(this.key,this._defaultValue)}getValue(o){return o.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(o){return b.create(this.key,o)}notEqualsTo(o){return h.create(this.key,o)}}t.RawContextKey=l,l._info=[],t.IContextKeyService=(0,M.createDecorator)("contextKeyService"),t.SET_CONTEXT_COMMAND_ID="setContext";function p(B,o){return B<o?-1:B>o?1:0}function I(B,o,L,R){return B<L?-1:B>L?1:o<R?-1:o>R?1:0}function z(B,o){if(o.type===6&&B.type!==9&&B.type!==6){for(const W of o.expr)if(B.equals(W))return!0}const L=B.negate(),R=j(L).concat(j(o));R.sort(T);for(let W=0;W<R.length;W++){const Q=R[W].negate();for(let K=W+1;K<R.length;K++){const V=R[K];if(Q.equals(V))return!0}}return!1}t.implies=z;function j(B){return B.type===9?B.expr:[B]}}),define(ee[40],te([0,1,11,44,24,9,4,3,39]),function(Z,t,U,D,M,A,e,S,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookWorkingCopyTypeIdentifier=t.CellStatusbarAlignment=t.NotebookSetting=t.CellSequence=t.notebookDocumentFilterMatch=t.isDocumentExcludePattern=t.NotebookEditorPriority=t.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=t.diff=t.MimeTypeDisplayOrder=t.mimeTypeIsMergeable=t.mimeTypeSupportedByCore=t.mimeTypeIsAlwaysSecure=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookCellExecutionState=t.NotebookRunState=t.RENDERER_NOT_AVAILABLE=t.BUILTIN_RENDERER_ID=t.RENDERER_EQUIVALENT_EXTENSIONS=t.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=t.NOTEBOOK_DISPLAY_ORDER=t.CellKind=void 0;var C;(function(p){p[p.Markup=1]="Markup",p[p.Code=2]="Code"})(C=t.CellKind||(t.CellKind={})),t.NOTEBOOK_DISPLAY_ORDER=["application/json","application/javascript","text/html","image/svg+xml",M.Mimes.latex,M.Mimes.markdown,"image/png","image/jpeg",M.Mimes.text],t.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=[M.Mimes.latex,M.Mimes.markdown,"application/json",M.Mimes.text,"text/html","image/svg+xml","image/png","image/jpeg"],t.RENDERER_EQUIVALENT_EXTENSIONS=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.BUILTIN_RENDERER_ID="_builtin",t.RENDERER_NOT_AVAILABLE="_notAvailable";var E;(function(p){p[p.Running=1]="Running",p[p.Idle=2]="Idle"})(E=t.NotebookRunState||(t.NotebookRunState={}));var T;(function(p){p[p.Pending=2]="Pending",p[p.Executing=3]="Executing"})(T=t.NotebookCellExecutionState||(t.NotebookCellExecutionState={}));var k;(function(p){p[p.WithHardKernelDependency=0]="WithHardKernelDependency",p[p.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",p[p.Pure=2]="Pure",p[p.Never=3]="Never"})(k=t.NotebookRendererMatch||(t.NotebookRendererMatch={}));var P;(function(p){p.Always="always",p.Never="never",p.Optional="optional"})(P=t.RendererMessagingSpec||(t.RendererMessagingSpec={}));var _;(function(p){p[p.ModelChange=1]="ModelChange",p[p.Move=2]="Move",p[p.ChangeLanguage=5]="ChangeLanguage",p[p.Initialize=6]="Initialize",p[p.ChangeCellMetadata=7]="ChangeCellMetadata",p[p.Output=8]="Output",p[p.OutputItem=9]="OutputItem",p[p.ChangeCellContent=10]="ChangeCellContent",p[p.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",p[p.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",p[p.ChangeCellMime=13]="ChangeCellMime",p[p.Unknown=100]="Unknown"})(_=t.NotebookCellsChangeType||(t.NotebookCellsChangeType={}));var b;(function(p){p[p.Handle=0]="Handle",p[p.Index=1]="Index"})(b=t.SelectionStateType||(t.SelectionStateType={}));var c;(function(p){p[p.Replace=1]="Replace",p[p.Output=2]="Output",p[p.Metadata=3]="Metadata",p[p.CellLanguage=4]="CellLanguage",p[p.DocumentMetadata=5]="DocumentMetadata",p[p.Move=6]="Move",p[p.OutputItems=7]="OutputItems",p[p.PartialMetadata=8]="PartialMetadata",p[p.PartialInternalMetadata=9]="PartialInternalMetadata"})(c=t.CellEditType||(t.CellEditType={}));var r;(function(p){p.scheme=A.Schemas.vscodeNotebookCell;const I=/^ch(\d{7,})/;function z(W,Y){return W.with({scheme:p.scheme,fragment:`ch${Y.toString().padStart(7,"0")}${W.scheme!==A.Schemas.file?W.scheme:""}`})}p.generate=z;function j(W){if(W.scheme!==p.scheme)return;const Y=I.exec(W.fragment);return Y?{handle:Number(Y[1]),notebook:W.with({scheme:W.fragment.substr(Y[0].length)||A.Schemas.file,fragment:null})}:void 0}p.parse=j;function B(W,Y,Q){return W.with({scheme:A.Schemas.vscodeNotebookCellOutput,fragment:`ch${Y.toString().padStart(7,"0")},${Q??""},${W.scheme!==A.Schemas.file?W.scheme:""}`})}p.generateCellOutputUri=B;function o(W){if(W.scheme!==A.Schemas.vscodeNotebookCellOutput)return;const Y=/^ch(\d{7,})\,([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(W.fragment);if(!Y)return;const Q=Number(Y[1]),K=Y[2]&&Y[2]!==""?Y[2]:void 0,V=Y[3];return{handle:Q,outputId:K,notebook:W.with({scheme:V||A.Schemas.file,fragment:null})}}p.parseCellOutputUri=o;function L(W,Y,Q){return W.with({scheme:Q,fragment:`ch${Y.toString().padStart(7,"0")}${W.scheme!==A.Schemas.file?W.scheme:""}`})}p.generateCellUri=L;function R(W,Y){if(W.scheme!==Y)return;const Q=I.exec(W.fragment);return Q?{handle:Number(Q[1]),notebook:W.with({scheme:W.fragment.substr(Q[0].length)||A.Schemas.file,fragment:null})}:void 0}p.parseCellUri=R})(r=t.CellUri||(t.CellUri={}));const h=new Map([["application/javascript",{supportedByCore:!0}],["image/png",{alwaysSecure:!0,supportedByCore:!0}],["image/jpeg",{alwaysSecure:!0,supportedByCore:!0}],["image/git",{alwaysSecure:!0,supportedByCore:!0}],["image/svg+xml",{supportedByCore:!0}],["application/json",{alwaysSecure:!0,supportedByCore:!0}],[M.Mimes.latex,{alwaysSecure:!0,supportedByCore:!0}],[M.Mimes.text,{alwaysSecure:!0,supportedByCore:!0}],["text/html",{supportedByCore:!0}],["text/x-javascript",{alwaysSecure:!0,supportedByCore:!0}],["application/vnd.code.notebook.error",{alwaysSecure:!0,supportedByCore:!0}],["application/vnd.code.notebook.stdout",{alwaysSecure:!0,supportedByCore:!0,mergeable:!0}],["application/vnd.code.notebook.stderr",{alwaysSecure:!0,supportedByCore:!0,mergeable:!0}]]);function s(p){return h.get(p)?.alwaysSecure??!1}t.mimeTypeIsAlwaysSecure=s;function d(p){return h.get(p)?.supportedByCore??!1}t.mimeTypeSupportedByCore=d;function i(p){return h.get(p)?.mergeable??!1}t.mimeTypeIsMergeable=i;const u=p=>S.isWindows?p.replace(/\//g,"\\"):p;class m{constructor(I=[],z=t.NOTEBOOK_DISPLAY_ORDER){this.defaultOrder=z,this.order=[...new Set(I)].map(j=>({pattern:j,matches:U.parse(u(j))}))}sort(I){const z=new Map(D.Iterable.map(I,B=>[B,u(B)]));let j=[];for(const{matches:B}of this.order)for(const[o,L]of z)if(B(L)){j.push(o),z.delete(o);break}return z.size&&(j=j.concat([...z.keys()].sort((B,o)=>this.defaultOrder.indexOf(B)-this.defaultOrder.indexOf(o)))),j}prioritize(I,z){const j=this.findIndex(I);if(j===-1){this.order.unshift({pattern:I,matches:U.parse(u(I))});return}const B=new Set(z.map(L=>this.findIndex(L,j)));B.delete(-1);const o=Array.from(B).sort();this.order.splice(j+1,0,...o.map(L=>this.order[L]));for(let L=o.length-1;L>=0;L--)this.order.splice(o[L],1)}toArray(){return this.order.map(I=>I.pattern)}findIndex(I,z=this.order.length){const j=u(I);for(let B=0;B<z;B++)if(this.order[B].matches(j))return B;return-1}}t.MimeTypeDisplayOrder=m;function a(p,I,z,j=(B,o)=>B===o){const B=[];function o(W,Y,Q){if(Y===0&&Q.length===0)return;const K=B[B.length-1];K&&K.start+K.deleteCount===W?(K.deleteCount+=Y,K.toInsert.push(...Q)):B.push({start:W,deleteCount:Y,toInsert:Q})}let L=0,R=0;for(;;){if(L===p.length){o(L,0,I.slice(R));break}if(R===I.length){o(L,p.length-L,[]);break}const W=p[L],Y=I[R];if(j(W,Y)){L+=1,R+=1;continue}z(Y)?(o(L,1,[]),L+=1):(o(L,0,[Y]),R+=1)}return B}t.diff=a,t.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=new N.RawContextKey("notebookEditorCursorAtBoundary","none");var n;(function(p){p.default="default",p.option="option"})(n=t.NotebookEditorPriority||(t.NotebookEditorPriority={}));function f(p){const I=p;return!!((typeof I.include=="string"||U.isRelativePattern(I.include))&&(typeof I.exclude=="string"||U.isRelativePattern(I.exclude)))}t.isDocumentExcludePattern=f;function g(p,I,z){if(Array.isArray(p.viewType)&&p.viewType.indexOf(I)>=0||p.viewType===I)return!0;if(p.filenamePattern){let j=f(p.filenamePattern)?p.filenamePattern.include:p.filenamePattern,B=f(p.filenamePattern)?p.filenamePattern.exclude:void 0;if(U.match(j,(0,e.basename)(z.fsPath).toLowerCase()))return!(B&&U.match(B,(0,e.basename)(z.fsPath).toLowerCase()))}return!1}t.notebookDocumentFilterMatch=g;class w{constructor(I){this.textModel=I}getElements(){const I=new Int32Array(this.textModel.cells.length);for(let z=0;z<this.textModel.cells.length;z++)I[z]=this.textModel.cells[z].getHashValue();return I}}t.CellSequence=w,t.NotebookSetting={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",textOutputLineLimit:"notebook.output.textLineLimit",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize"};var v;(function(p){p[p.Left=1]="Left",p[p.Right=2]="Right"})(v=t.CellStatusbarAlignment||(t.CellStatusbarAlignment={}));class l{static create(I){return`${l._prefix}${I}`}static parse(I){if(I.startsWith(l._prefix))return I.substr(l._prefix.length)}}t.NotebookWorkingCopyTypeIdentifier=l,l._prefix="notebook/"}),define(ee[45],te([0,1,46,34,10,38,40,7]),function(Z,t,U,D,M,A,e,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=t.CellSequence=void 0;function N(_){let b=(0,D.numberHash)(104579,0);for(let c=0;c<_.buffer.length;c++)b=(0,D.doHash)(_.buffer[c],b);return b}class C{constructor(b,c,r,h,s,d,i){this.handle=b,this._source=c,this.language=r,this.cellKind=h,this.outputs=s,this.metadata=d,this.internalMetadata=i,this._primaryKey=null,this._hash=null}get textBuffer(){if(this._textBuffer)return this._textBuffer;const b=new A.PieceTreeTextBufferBuilder;b.acceptChunk(Array.isArray(this._source)?this._source.join(`
`):this._source);const c=b.finish(!0);return this._textBuffer=c.create(1).textBuffer,this._textBuffer}primaryKey(){return this._primaryKey===void 0&&(this._primaryKey=(0,D.hash)(this.getValue())),this._primaryKey}getFullModelRange(){const b=this.textBuffer.getLineCount();return new S.Range(1,1,b,this.textBuffer.getLineLength(b)+1)}getValue(){const b=this.getFullModelRange();return this.textBuffer.getEOL()===`
`?this.textBuffer.getValueInRange(b,1):this.textBuffer.getValueInRange(b,2)}getComparisonValue(){return this._primaryKey!==null?this._primaryKey:(this._hash=(0,D.hash)([(0,D.hash)(this.language),(0,D.hash)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(b=>({outputs:b.outputs.map(c=>({mime:c.mime,data:N(c.data)})),metadata:b.metadata}))]),this._hash)}getHashValue(){return this._hash!==null?this._hash:(this._hash=(0,D.hash)([(0,D.hash)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this._hash)}}class E{constructor(b,c,r){this.uri=b,this.cells=c,this.metadata=r}acceptModelChanged(b){b.rawEvents.forEach(c=>{if(c.kind===e.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(c.changes);else if(c.kind===e.NotebookCellsChangeType.Move){const r=this.cells.splice(c.index,1);this.cells.splice(c.newIdx,0,...r)}else if(c.kind===e.NotebookCellsChangeType.Output){const r=this.cells[c.index];r.outputs=c.outputs}else if(c.kind===e.NotebookCellsChangeType.ChangeLanguage){const r=this.cells[c.index];r.language=c.language}else if(c.kind===e.NotebookCellsChangeType.ChangeCellMetadata){const r=this.cells[c.index];r.metadata=c.metadata}else if(c.kind===e.NotebookCellsChangeType.ChangeCellInternalMetadata){const r=this.cells[c.index];r.internalMetadata=c.internalMetadata}})}_spliceNotebookCells(b){b.reverse().forEach(c=>{const h=c[2].map(s=>new C(s.handle,s.source,s.language,s.cellKind,s.outputs,s.metadata));this.cells.splice(c[0],c[1],...h)})}}class T{constructor(b){this.textModel=b}getElements(){const b=new Int32Array(this.textModel.cells.length);for(let c=0;c<this.textModel.cells.length;c++)b[c]=this.textModel.cells[c].getComparisonValue();return b}getCellHash(b){const c=Array.isArray(b.source)?b.source.join(`
`):b.source;return(0,D.hash)([(0,D.hash)(c),b.metadata])}}t.CellSequence=T;class k{constructor(){this._models=Object.create(null)}dispose(){}acceptNewModel(b,c){this._models[b]=new E(M.URI.parse(b),c.cells.map(r=>new C(r.handle,r.source,r.language,r.cellKind,r.outputs,r.metadata)),c.metadata)}acceptModelChanged(b,c){const r=this._models[b];r&&r.acceptModelChanged(c)}acceptRemovedModel(b){!this._models[b]||delete this._models[b]}computeDiff(b,c){const r=this._getModel(b),h=this._getModel(c);return{cellsDiff:new U.LcsDiff(new T(r),new T(h)).ComputeDiff(!1)}}_getModel(b){return this._models[b]}}t.NotebookEditorSimpleWorker=k;function P(_){return new k}t.create=P})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/899d46d82c4c95423fb7e10e68eba52050e30ba3/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
