/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var Z=["require","exports","vs/base/common/strings","vs/base/common/extpath","vs/base/common/path","vs/base/common/platform","vs/base/common/uri","vs/base/common/async","vs/base/common/glob","vs/base/common/map","vs/base/common/network","vs/base/common/resources","vs/base/common/cancellation","vs/workbench/services/search/common/getFileResults","vs/workbench/services/search/common/ignoreFile","vs/base/common/arrays","vs/base/common/types","vs/base/common/errors","vs/base/common/event","vs/base/common/lifecycle","vs/editor/common/core/range","vs/workbench/services/search/worker/localFileSearch"],J=function(V){for(var t=[],p=0,R=V.length;p<R;p++)t[p]=Z[V[p]];return t},oe=this&&this.__classPrivateFieldSet||function(V,t,p,R,T){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?V!==t||!T:!t.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?T.call(V,p):T?T.value=p:t.set(V,p),p},ee=this&&this.__classPrivateFieldGet||function(V,t,p,R){if(p==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?V!==t||!R:!t.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return p==="m"?R:p==="a"?R.call(V):R?R.value:t.get(V)};define(Z[9],J([0,1,15,2]),function(V,t,p,R){"use strict";var T,E,P;Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyMapView=t.LRUCache=t.LinkedMap=t.Touch=t.ResourceMap=t.TernarySearchTree=t.UriIterator=t.PathIterator=t.ConfigKeysIterator=t.StringIterator=t.setToString=t.mapToString=t.getOrSet=void 0;function _(n,e,o){let a=n.get(e);return a===void 0&&(a=o,n.set(e,a)),a}t.getOrSet=_;function k(n){const e=[];return n.forEach((o,a)=>{e.push(`${a} => ${o}`)}),`Map(${n.size}) {${e.join(", ")}}`}t.mapToString=k;function O(n){const e=[];return n.forEach(o=>{e.push(o)}),`Set(${n.size}) {${e.join(", ")}}`}t.setToString=O;class S{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const o=e.charCodeAt(0),a=this._value.charCodeAt(this._pos);return o-a}value(){return this._value[this._pos]}}t.StringIterator=S;class ${constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?(0,R.compareSubstring)(e,this._value,0,e.length,this._from,this._to):(0,R.compareSubstringIgnoreCase)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}t.ConfigKeysIterator=$;class H{constructor(e=!0,o=!0){this._splitOnBackslash=e,this._caseSensitive=o}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const o=this._value.charCodeAt(this._to);if(o===47||this._splitOnBackslash&&o===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?(0,R.compareSubstring)(e,this._value,0,e.length,this._from,this._to):(0,R.compareSubstringIgnoreCase)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}t.PathIterator=H;var q;(function(n){n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment"})(q||(q={}));class u{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new H(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return(0,R.compareIgnoreCase)(e,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,R.compareIgnoreCase)(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return(0,R.compare)(e,this._value.query);if(this._states[this._stateIdx]===5)return(0,R.compare)(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}t.UriIterator=u;class g{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var w;(function(n){n[n.Left=-1]="Left",n[n.Mid=0]="Mid",n[n.Right=1]="Right"})(w||(w={}));class F{constructor(e){this._iter=e}static forUris(e=()=>!1){return new F(new u(e))}static forPaths(){return new F(new H)}static forStrings(){return new F(new S)}static forConfigKeys(){return new F(new $)}clear(){this._root=void 0}fill(e,o){if(o){const a=o.slice(0);(0,p.shuffle)(a);for(let l of a)this.set(l,e)}else{const a=e.slice(0);(0,p.shuffle)(a);for(let l of a)this.set(l[0],l[1])}}set(e,o){const a=this._iter.reset(e);let l;this._root||(this._root=new g,this._root.segment=a.value());const f=[];for(l=this._root;;){const C=a.cmp(l.segment);if(C>0)l.left||(l.left=new g,l.left.segment=a.value()),f.push([-1,l]),l=l.left;else if(C<0)l.right||(l.right=new g,l.right.segment=a.value()),f.push([1,l]),l=l.right;else if(a.hasNext())a.next(),l.mid||(l.mid=new g,l.mid.segment=a.value()),f.push([0,l]),l=l.mid;else break}const L=l.value;l.value=o,l.key=e;for(let C=f.length-1;C>=0;C--){const N=f[C][1];N.updateHeight();const D=N.balanceFactor();if(D<-1||D>1){const x=f[C][0],z=f[C+1][0];if(x===1&&z===1)f[C][1]=N.rotateLeft();else if(x===-1&&z===-1)f[C][1]=N.rotateRight();else if(x===1&&z===-1)N.right=f[C+1][1]=f[C+1][1].rotateRight(),f[C][1]=N.rotateLeft();else if(x===-1&&z===1)N.left=f[C+1][1]=f[C+1][1].rotateLeft(),f[C][1]=N.rotateRight();else throw new Error;if(C>0)switch(f[C-1][0]){case-1:f[C-1][1].left=f[C][1];break;case 1:f[C-1][1].right=f[C][1];break;case 0:f[C-1][1].mid=f[C][1];break}else this._root=f[0][1]}}return L}get(e){return this._getNode(e)?.value}_getNode(e){const o=this._iter.reset(e);let a=this._root;for(;a;){const l=o.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(o.hasNext())o.next(),a=a.mid;else break}return a}has(e){const o=this._getNode(e);return!(o?.value===void 0&&o?.mid===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,o){const a=this._iter.reset(e),l=[];let f=this._root;for(;f;){const L=a.cmp(f.segment);if(L>0)l.push([-1,f]),f=f.left;else if(L<0)l.push([1,f]),f=f.right;else if(a.hasNext())a.next(),l.push([0,f]),f=f.mid;else break}if(!!f){if(o?(f.left=void 0,f.mid=void 0,f.right=void 0,f.height=1):(f.key=void 0,f.value=void 0),!f.mid&&!f.value)if(f.left&&f.right){const L=this._min(f.right),{key:C,value:N,segment:D}=L;this._delete(L.key,!1),f.key=C,f.value=N,f.segment=D}else{const L=f.left??f.right;if(l.length>0){const[C,N]=l[l.length-1];switch(C){case-1:N.left=L;break;case 0:N.mid=L;break;case 1:N.right=L;break}}else this._root=L}for(let L=l.length-1;L>=0;L--){const C=l[L][1];C.updateHeight();const N=C.balanceFactor();if(N>1?(C.right.balanceFactor()>=0||(C.right=l[L+1][1]=l[L+1][1].rotateRight()),l[L][1]=C.rotateLeft()):N<-1&&(C.left.balanceFactor()<=0||(C.left=l[L+1][1]=l[L+1][1].rotateLeft()),l[L][1]=C.rotateRight()),L>0)switch(l[L-1][0]){case-1:l[L-1][1].left=l[L][1];break;case 1:l[L-1][1].right=l[L][1];break;case 0:l[L-1][1].mid=l[L][1];break}else this._root=l[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const o=this._iter.reset(e);let a=this._root,l;for(;a;){const f=o.cmp(a.segment);if(f>0)a=a.left;else if(f<0)a=a.right;else if(o.hasNext())o.next(),l=a.value||l,a=a.mid;else break}return a&&a.value||l}findSuperstr(e){const o=this._iter.reset(e);let a=this._root;for(;a;){const l=o.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(o.hasNext())o.next(),a=a.mid;else return a.mid?this._entries(a.mid):void 0}}forEach(e){for(const[o,a]of this)e(a,o)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){!e||(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}_isBalanced(){const e=o=>{if(!o)return!0;const a=o.balanceFactor();return a<-1||a>1?!1:e(o.left)&&e(o.right)};return e(this._root)}}t.TernarySearchTree=F;class B{constructor(e,o){this.uri=e,this.value=o}}class b{constructor(e,o){this[T]="ResourceMap",e instanceof b?(this.map=new Map(e.map),this.toKey=o??b.defaultToKey):(this.map=new Map,this.toKey=e??b.defaultToKey)}set(e,o){return this.map.set(this.toKey(e),new B(e,o)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,o){typeof o!="undefined"&&(e=e.bind(o));for(let[a,l]of this.map)e(l.value,l.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(T=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}t.ResourceMap=b,b.defaultToKey=n=>n.toString();var I;(function(n){n[n.None=0]="None",n[n.AsOld=1]="AsOld",n[n.AsNew=2]="AsNew"})(I=t.Touch||(t.Touch={}));class W{constructor(){this[E]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,o=0){const a=this._map.get(e);if(!!a)return o!==0&&this.touch(a,o),a.value}set(e,o,a=0){let l=this._map.get(e);if(l)l.value=o,a!==0&&this.touch(l,a);else{switch(l={key:e,value:o,next:void 0,previous:void 0},a){case 0:this.addItemLast(l);break;case 1:this.addItemFirst(l);break;case 2:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(e,l),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const o=this._map.get(e);if(!!o)return this._map.delete(e),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,o){const a=this._state;let l=this._head;for(;l;){if(o?e.bind(o)(l.value,l.key,this):e(l.value,l.key,this),this._state!==a)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const e=this,o=this._state;let a=this._head;const l={[Symbol.iterator](){return l},next(){if(e._state!==o)throw new Error("LinkedMap got modified during iteration.");if(a){const f={value:a.key,done:!1};return a=a.next,f}else return{value:void 0,done:!0}}};return l}values(){const e=this,o=this._state;let a=this._head;const l={[Symbol.iterator](){return l},next(){if(e._state!==o)throw new Error("LinkedMap got modified during iteration.");if(a){const f={value:a.value,done:!1};return a=a.next,f}else return{value:void 0,done:!0}}};return l}entries(){const e=this,o=this._state;let a=this._head;const l={[Symbol.iterator](){return l},next(){if(e._state!==o)throw new Error("LinkedMap got modified during iteration.");if(a){const f={value:[a.key,a.value],done:!1};return a=a.next,f}else return{value:void 0,done:!0}}};return l}[(E=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let o=this._head,a=this.size;for(;o&&a>e;)this._map.delete(o.key),o=o.next,a--;this._head=o,this._size=a,o&&(o.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const o=e.next,a=e.previous;if(!o||!a)throw new Error("Invalid list");o.previous=a,a.next=o}e.next=void 0,e.previous=void 0,this._state++}touch(e,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==1&&o!==2)){if(o===1){if(e===this._head)return;const a=e.next,l=e.previous;e===this._tail?(l.next=void 0,this._tail=l):(a.previous=l,l.next=a),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(o===2){if(e===this._tail)return;const a=e.next,l=e.previous;e===this._head?(a.previous=void 0,this._head=a):(a.previous=l,l.next=a),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((o,a)=>{e.push([a,o])}),e}fromJSON(e){this.clear();for(const[o,a]of e)this.set(o,a)}}t.LinkedMap=W;class A extends W{constructor(e,o=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,o=2){return super.get(e,o)}peek(e){return super.get(e,0)}set(e,o){return super.set(e,o,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}t.LRUCache=A;class j{constructor(e){P.set(this,void 0),oe(this,P,e,"f")}get size(){return ee(this,P,"f").size}forEach(e,o){ee(this,P,"f").forEach(e,o)}get(e){return ee(this,P,"f").get(e)}has(e){return ee(this,P,"f").has(e)}entries(){return ee(this,P,"f").entries()}keys(){return ee(this,P,"f").keys()}values(){return ee(this,P,"f").values()}[(P=new WeakMap,Symbol.iterator)](){return ee(this,P,"f").entries()}}t.ReadonlyMapView=j}),define(Z[3],J([0,1,4,5,2,16]),function(V,t,p,R,T,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLineAndColumnAware=t.indexOfPath=t.getDriveLetter=t.hasDriveLetter=t.isRootOrDriveLetter=t.sanitizeFilePath=t.isWindowsDriveLetter=t.isEqualOrParent=t.isEqual=t.isValidBasename=t.isUNC=t.getRoot=t.toPosixPath=t.toSlashes=t.isPathSeparator=void 0;function P(n){return n===47||n===92}t.isPathSeparator=P;function _(n){return n.replace(/[\\/]/g,p.posix.sep)}t.toSlashes=_;function k(n){return n.indexOf("/")===-1&&(n=_(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}t.toPosixPath=k;function O(n,e=p.posix.sep){if(!n)return"";const o=n.length,a=n.charCodeAt(0);if(P(a)){if(P(n.charCodeAt(1))&&!P(n.charCodeAt(2))){let f=3;const L=f;for(;f<o&&!P(n.charCodeAt(f));f++);if(L!==f&&!P(n.charCodeAt(f+1))){for(f+=1;f<o;f++)if(P(n.charCodeAt(f)))return n.slice(0,f+1).replace(/[\\/]/g,e)}}return e}else if(F(a)&&n.charCodeAt(1)===58)return P(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let l=n.indexOf("://");if(l!==-1){for(l+=3;l<o;l++)if(P(n.charCodeAt(l)))return n.slice(0,l+1)}return""}t.getRoot=O;function S(n){if(!R.isWindows||!n||n.length<5)return!1;let e=n.charCodeAt(0);if(e!==92||(e=n.charCodeAt(1),e!==92))return!1;let o=2;const a=o;for(;o<n.length&&(e=n.charCodeAt(o),e!==92);o++);return!(a===o||(e=n.charCodeAt(o+1),isNaN(e)||e===92))}t.isUNC=S;const $=/[\\/:\*\?"<>\|]/g,H=/[\\/]/g,q=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function u(n,e=R.isWindows){const o=e?$:H;return!(!n||n.length===0||/^\s+$/.test(n)||(o.lastIndex=0,o.test(n))||e&&q.test(n)||n==="."||n===".."||e&&n[n.length-1]==="."||e&&n.length!==n.trim().length||n.length>255)}t.isValidBasename=u;function g(n,e,o){const a=n===e;return!o||a?a:!n||!e?!1:(0,T.equalsIgnoreCase)(n,e)}t.isEqual=g;function w(n,e,o,a=p.sep){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(o){if(!(0,T.startsWithIgnoreCase)(n,e))return!1;if(e.length===n.length)return!0;let f=e.length;return e.charAt(e.length-1)===a&&f--,n.charAt(f)===a}return e.charAt(e.length-1)!==a&&(e+=a),n.indexOf(e)===0}t.isEqualOrParent=w;function F(n){return n>=65&&n<=90||n>=97&&n<=122}t.isWindowsDriveLetter=F;function B(n,e){return R.isWindows&&n.endsWith(":")&&(n+=p.sep),(0,p.isAbsolute)(n)||(n=(0,p.join)(e,n)),n=(0,p.normalize)(n),R.isWindows?(n=(0,T.rtrim)(n,p.sep),n.endsWith(":")&&(n+=p.sep)):(n=(0,T.rtrim)(n,p.sep),n||(n=p.sep)),n}t.sanitizeFilePath=B;function b(n){const e=(0,p.normalize)(n);return R.isWindows?n.length>3?!1:I(e)&&(n.length===2||e.charCodeAt(2)===92):e===p.posix.sep}t.isRootOrDriveLetter=b;function I(n,e){return(e!==void 0?e:R.isWindows)?F(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}t.hasDriveLetter=I;function W(n){return I(n)?n[0]:void 0}t.getDriveLetter=W;function A(n,e,o){return e.length>n.length?-1:n===e?0:(o&&(n=n.toLowerCase(),e=e.toLowerCase()),n.indexOf(e))}t.indexOfPath=A;function j(n){const e=n.split(":");let o,a,l;if(e.forEach(f=>{const L=Number(f);(0,E.isNumber)(L)?a===void 0?a=L:l===void 0&&(l=L):o=o?[o,f].join(":"):f}),!o)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:o,line:a!==void 0?a:void 0,column:l!==void 0?l:a!==void 0?1:void 0}}t.parseLineAndColumnAware=j}),define(Z[10],J([0,1,5,6]),function(V,t,p,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileAccess=t.RemoteAuthorities=t.Schemas=void 0;var T;(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.userData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebook="vscode-notebook",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeNotebookCellOutput="vscode-notebook-cell-output",_.vscodeInteractive="vscode-interactive",_.vscodeInteractiveInput="vscode-interactive-input",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp",_.vsls="vsls"})(T=t.Schemas||(t.Schemas={}));class E{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(k){this._preferredWebSchema=k}setDelegate(k){this._delegate=k}set(k,O,S){this._hosts[k]=O,this._ports[k]=S}setConnectionToken(k,O){this._connectionTokens[k]=O}rewrite(k){if(this._delegate)return this._delegate(k);const O=k.authority;let S=this._hosts[O];S&&S.indexOf(":")!==-1&&(S=`[${S}]`);const $=this._ports[O],H=this._connectionTokens[O];let q=`path=${encodeURIComponent(k.path)}`;return typeof H=="string"&&(q+=`&tkn=${encodeURIComponent(H)}`),R.URI.from({scheme:p.isWeb?this._preferredWebSchema:T.vscodeRemoteResource,authority:`${S}:${$}`,path:"/vscode-remote-resource",query:q})}}t.RemoteAuthorities=new E;class P{asBrowserUri(k,O){const S=this.toUri(k,O);return S.scheme===T.vscodeRemote?t.RemoteAuthorities.rewrite(S):S.scheme===T.file&&(p.isNative||typeof p.globals.importScripts=="function"&&p.globals.origin===`${T.vscodeFileResource}://${P.FALLBACK_AUTHORITY}`)?S.with({scheme:T.vscodeFileResource,authority:S.authority||P.FALLBACK_AUTHORITY,query:null,fragment:null}):S}asFileUri(k,O){const S=this.toUri(k,O);return S.scheme===T.vscodeFileResource?S.with({scheme:T.file,authority:S.authority!==P.FALLBACK_AUTHORITY?S.authority:null,query:null,fragment:null}):S}toUri(k,O){return R.URI.isUri(k)?k:R.URI.parse(O.toUrl(k))}}P.FALLBACK_AUTHORITY="vscode-app",t.FileAccess=new P}),define(Z[11],J([0,1,3,10,4,5,2,6]),function(V,t,p,R,T,E,P,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLocalResource=t.DataUri=t.distinctParents=t.addTrailingPathSeparator=t.removeTrailingPathSeparator=t.hasTrailingPathSeparator=t.isEqualAuthority=t.isAbsolutePath=t.resolvePath=t.relativePath=t.normalizePath=t.joinPath=t.dirname=t.extname=t.basename=t.basenameOrAuthority=t.getComparisonKey=t.isEqualOrParent=t.isEqual=t.extUriIgnorePathCase=t.extUriBiasedIgnorePathCase=t.extUri=t.ExtUri=t.originalFSPath=void 0;function k(q){return(0,_.uriToFsPath)(q,!0)}t.originalFSPath=k;class O{constructor(u){this._ignorePathCasing=u}compare(u,g,w=!1){return u===g?0:(0,P.compare)(this.getComparisonKey(u,w),this.getComparisonKey(g,w))}isEqual(u,g,w=!1){return u===g?!0:!u||!g?!1:this.getComparisonKey(u,w)===this.getComparisonKey(g,w)}getComparisonKey(u,g=!1){return u.with({path:this._ignorePathCasing(u)?u.path.toLowerCase():void 0,fragment:g?null:void 0}).toString()}ignorePathCasing(u){return this._ignorePathCasing(u)}isEqualOrParent(u,g,w=!1){if(u.scheme===g.scheme){if(u.scheme===R.Schemas.file)return p.isEqualOrParent(k(u),k(g),this._ignorePathCasing(u))&&u.query===g.query&&(w||u.fragment===g.fragment);if((0,t.isEqualAuthority)(u.authority,g.authority))return p.isEqualOrParent(u.path,g.path,this._ignorePathCasing(u),"/")&&u.query===g.query&&(w||u.fragment===g.fragment)}return!1}joinPath(u,...g){return _.URI.joinPath(u,...g)}basenameOrAuthority(u){return(0,t.basename)(u)||u.authority}basename(u){return T.posix.basename(u.path)}extname(u){return T.posix.extname(u.path)}dirname(u){if(u.path.length===0)return u;let g;return u.scheme===R.Schemas.file?g=_.URI.file(T.dirname(k(u))).path:(g=T.posix.dirname(u.path),u.authority&&g.length&&g.charCodeAt(0)!==47&&(console.error(`dirname("${u.toString})) resulted in a relative path`),g="/")),u.with({path:g})}normalizePath(u){if(!u.path.length)return u;let g;return u.scheme===R.Schemas.file?g=_.URI.file(T.normalize(k(u))).path:g=T.posix.normalize(u.path),u.with({path:g})}relativePath(u,g){if(u.scheme!==g.scheme||!(0,t.isEqualAuthority)(u.authority,g.authority))return;if(u.scheme===R.Schemas.file){const B=T.relative(k(u),k(g));return E.isWindows?p.toSlashes(B):B}let w=u.path||"/",F=g.path||"/";if(this._ignorePathCasing(u)){let B=0;for(const b=Math.min(w.length,F.length);B<b&&!(w.charCodeAt(B)!==F.charCodeAt(B)&&w.charAt(B).toLowerCase()!==F.charAt(B).toLowerCase());B++);w=F.substr(0,B)+w.substr(B)}return T.posix.relative(w,F)}resolvePath(u,g){if(u.scheme===R.Schemas.file){const w=_.URI.file(T.resolve(k(u),g));return u.with({authority:w.authority,path:w.path})}return g=p.toPosixPath(g),u.with({path:T.posix.resolve(u.path,g)})}isAbsolutePath(u){return!!u.path&&u.path[0]==="/"}isEqualAuthority(u,g){return u===g||u!==void 0&&g!==void 0&&(0,P.equalsIgnoreCase)(u,g)}hasTrailingPathSeparator(u,g=T.sep){if(u.scheme===R.Schemas.file){const w=k(u);return w.length>p.getRoot(w).length&&w[w.length-1]===g}else{const w=u.path;return w.length>1&&w.charCodeAt(w.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(u.fsPath)}}removeTrailingPathSeparator(u,g=T.sep){return(0,t.hasTrailingPathSeparator)(u,g)?u.with({path:u.path.substr(0,u.path.length-1)}):u}addTrailingPathSeparator(u,g=T.sep){let w=!1;if(u.scheme===R.Schemas.file){const F=k(u);w=F!==void 0&&F.length===p.getRoot(F).length&&F[F.length-1]===g}else{g="/";const F=u.path;w=F.length===1&&F.charCodeAt(F.length-1)===47}return!w&&!(0,t.hasTrailingPathSeparator)(u,g)?u.with({path:u.path+"/"}):u}}t.ExtUri=O,t.extUri=new O(()=>!1),t.extUriBiasedIgnorePathCase=new O(q=>q.scheme===R.Schemas.file?!E.isLinux:!0),t.extUriIgnorePathCase=new O(q=>!0),t.isEqual=t.extUri.isEqual.bind(t.extUri),t.isEqualOrParent=t.extUri.isEqualOrParent.bind(t.extUri),t.getComparisonKey=t.extUri.getComparisonKey.bind(t.extUri),t.basenameOrAuthority=t.extUri.basenameOrAuthority.bind(t.extUri),t.basename=t.extUri.basename.bind(t.extUri),t.extname=t.extUri.extname.bind(t.extUri),t.dirname=t.extUri.dirname.bind(t.extUri),t.joinPath=t.extUri.joinPath.bind(t.extUri),t.normalizePath=t.extUri.normalizePath.bind(t.extUri),t.relativePath=t.extUri.relativePath.bind(t.extUri),t.resolvePath=t.extUri.resolvePath.bind(t.extUri),t.isAbsolutePath=t.extUri.isAbsolutePath.bind(t.extUri),t.isEqualAuthority=t.extUri.isEqualAuthority.bind(t.extUri),t.hasTrailingPathSeparator=t.extUri.hasTrailingPathSeparator.bind(t.extUri),t.removeTrailingPathSeparator=t.extUri.removeTrailingPathSeparator.bind(t.extUri),t.addTrailingPathSeparator=t.extUri.addTrailingPathSeparator.bind(t.extUri);function S(q,u){const g=[];for(let w=0;w<q.length;w++){const F=u(q[w]);q.some((B,b)=>b===w?!1:(0,t.isEqualOrParent)(F,u(B)))||g.push(q[w])}return g}t.distinctParents=S;var $;(function(q){q.META_DATA_LABEL="label",q.META_DATA_DESCRIPTION="description",q.META_DATA_SIZE="size",q.META_DATA_MIME="mime";function u(g){const w=new Map;g.path.substring(g.path.indexOf(";")+1,g.path.lastIndexOf(";")).split(";").forEach(b=>{const[I,W]=b.split(":");I&&W&&w.set(I,W)});const B=g.path.substring(0,g.path.indexOf(";"));return B&&w.set(q.META_DATA_MIME,B),w}q.parseMetaData=u})($=t.DataUri||(t.DataUri={}));function H(q,u,g){if(u){let w=q.path;return w&&w[0]!==T.posix.sep&&(w=T.posix.sep+w),q.with({scheme:g,authority:u,path:w})}return q.with({scheme:g})}t.toLocalResource=H}),define(Z[7],J([0,1,12,17,18,19,11,5]),function(V,t,p,R,T,E,P,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCancelableAsyncIterable=t.CancelableAsyncIterableObject=t.AsyncIterableObject=t.Promises=t.DeferredPromise=t.IntervalCounter=t.TaskSequentializer=t.retry=t.IdleValue=t.runWhenIdle=t.ThrottledWorker=t.RunOnceWorker=t.ProcessTimeRunOnceScheduler=t.RunOnceScheduler=t.IntervalTimer=t.TimeoutTimer=t.ResourceQueue=t.Queue=t.Limiter=t.firstParallel=t.first=t.sequence=t.disposableTimeout=t.timeout=t.AutoOpenBarrier=t.Barrier=t.ThrottledDelayer=t.Delayer=t.SequencerByKey=t.Sequencer=t.Throttler=t.asPromise=t.raceTimeout=t.raceCancellablePromises=t.raceCancellation=t.createCancelablePromise=t.isThenable=void 0;function k(r){return!!r&&typeof r.then=="function"}t.isThenable=k;function O(r){const i=new p.CancellationTokenSource,s=r(i.token),h=new Promise((d,c)=>{const y=i.token.onCancellationRequested(()=>{y.dispose(),i.dispose(),c((0,R.canceled)())});Promise.resolve(s).then(M=>{y.dispose(),i.dispose(),d(M)},M=>{y.dispose(),i.dispose(),c(M)})});return new class{cancel(){i.cancel()}then(d,c){return h.then(d,c)}catch(d){return this.then(void 0,d)}finally(d){return h.finally(d)}}}t.createCancelablePromise=O;function S(r,i,s){return Promise.race([r,new Promise(h=>i.onCancellationRequested(()=>h(s)))])}t.raceCancellation=S;async function $(r){let i=-1;const s=r.map((d,c)=>d.then(y=>(i=c,y))),h=await Promise.race(s);return r.forEach((d,c)=>{c!==i&&d.cancel()}),h}t.raceCancellablePromises=$;function H(r,i,s){let h;const d=setTimeout(()=>{h?.(void 0),s?.()},i);return Promise.race([r.finally(()=>clearTimeout(d)),new Promise(c=>h=c)])}t.raceTimeout=H;function q(r){return new Promise((i,s)=>{const h=r();k(h)?h.then(i,s):i(h)})}t.asPromise=q;class u{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(i){if(this.activePromise){if(this.queuedPromiseFactory=i,!this.queuedPromise){const s=()=>{this.queuedPromise=null;const h=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,h};this.queuedPromise=new Promise(h=>{this.activePromise.then(s,s).then(h)})}return new Promise((s,h)=>{this.queuedPromise.then(s,h)})}return this.activePromise=i(),new Promise((s,h)=>{this.activePromise.then(d=>{this.activePromise=null,s(d)},d=>{this.activePromise=null,h(d)})})}}t.Throttler=u;class g{constructor(){this.current=Promise.resolve(null)}queue(i){return this.current=this.current.then(()=>i(),()=>i())}}t.Sequencer=g;class w{constructor(){this.promiseMap=new Map}queue(i,s){const d=(this.promiseMap.get(i)??Promise.resolve()).catch(()=>{}).then(s).finally(()=>{this.promiseMap.get(i)===d&&this.promiseMap.delete(i)});return this.promiseMap.set(i,d),d}}t.SequencerByKey=w;class F{constructor(i){this.defaultDelay=i,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(i,s=this.defaultDelay){return this.task=i,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((h,d)=>{this.doResolve=h,this.doReject=d}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const h=this.task;return this.task=null,h()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},s),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,R.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}t.Delayer=F;class B{constructor(i){this.delayer=new F(i),this.throttler=new u}trigger(i,s){return this.delayer.trigger(()=>this.throttler.queue(i),s)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}t.ThrottledDelayer=B;class b{constructor(){this._isOpen=!1,this._promise=new Promise((i,s)=>{this._completePromise=i})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}t.Barrier=b;class I extends b{constructor(i){super();this._timeout=setTimeout(()=>this.open(),i)}open(){clearTimeout(this._timeout),super.open()}}t.AutoOpenBarrier=I;function W(r,i){return i?new Promise((s,h)=>{const d=setTimeout(()=>{c.dispose(),s()},r),c=i.onCancellationRequested(()=>{clearTimeout(d),c.dispose(),h((0,R.canceled)())})}):O(s=>W(r,s))}t.timeout=W;function A(r,i=0){const s=setTimeout(r,i);return(0,E.toDisposable)(()=>clearTimeout(s))}t.disposableTimeout=A;function j(r){const i=[];let s=0;const h=r.length;function d(){return s<h?r[s++]():null}function c(y){y!=null&&i.push(y);const M=d();return M?M.then(c):Promise.resolve(i)}return Promise.resolve(null).then(c)}t.sequence=j;function n(r,i=h=>!!h,s=null){let h=0;const d=r.length,c=()=>{if(h>=d)return Promise.resolve(s);const y=r[h++];return Promise.resolve(y()).then(U=>i(U)?Promise.resolve(U):c())};return c()}t.first=n;function e(r,i=h=>!!h,s=null){if(r.length===0)return Promise.resolve(s);let h=r.length;const d=()=>{h=-1;for(const c of r)c.cancel?.()};return new Promise((c,y)=>{for(const M of r)M.then(U=>{--h>=0&&i(U)?(d(),c(U)):h===0&&c(s)}).catch(U=>{--h>=0&&(d(),y(U))})})}t.firstParallel=e;class o{constructor(i){this._size=0,this.maxDegreeOfParalellism=i,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new T.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(i){return this._size++,new Promise((s,h)=>{this.outstandingPromises.push({factory:i,c:s,e:h}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const i=this.outstandingPromises.shift();this.runningPromises++;const s=i.factory();s.then(i.c,i.e),s.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}t.Limiter=o;class a extends o{constructor(){super(1)}}t.Queue=a;class l{constructor(){this.queues=new Map}queueFor(i,s=P.extUri){const h=s.getComparisonKey(i);let d=this.queues.get(h);return d||(d=new a,T.Event.once(d.onFinished)(()=>{d?.dispose(),this.queues.delete(h)}),this.queues.set(h,d)),d}dispose(){this.queues.forEach(i=>i.dispose()),this.queues.clear()}}t.ResourceQueue=l;class f{constructor(i,s){this._token=-1,typeof i=="function"&&typeof s=="number"&&this.setIfNotSet(i,s)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(i,s){this.cancel(),this._token=setTimeout(()=>{this._token=-1,i()},s)}setIfNotSet(i,s){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,i()},s))}}t.TimeoutTimer=f;class L{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(i,s){this.cancel(),this._token=setInterval(()=>{i()},s)}}t.IntervalTimer=L;class C{constructor(i,s){this.timeoutToken=-1,this.runner=i,this.timeout=s,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(i=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,i)}get delay(){return this.timeout}set delay(i){this.timeout=i}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}t.RunOnceScheduler=C;class N{constructor(i,s){s%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${s}ms is not a multiple of 1000ms.`),this.runner=i,this.timeout=s,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(i=this.timeout){i%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${i}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(i/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}t.ProcessTimeRunOnceScheduler=N;class D extends C{constructor(i,s){super(i,s);this.units=[]}work(i){this.units.push(i),this.isScheduled()||this.schedule()}doRun(){const i=this.units;this.units=[],this.runner&&this.runner(i)}dispose(){this.units=[],super.dispose()}}t.RunOnceWorker=D;class x extends E.Disposable{constructor(i,s,h,d){super();this.maxWorkChunkSize=i,this.maxPendingWork=s,this.throttleDelay=h,this.handler=d,this.pendingWork=[],this.throttler=this._register(new E.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(i){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+i.length>this.maxPendingWork)return!1}else if(this.pending+i.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...i),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new C(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}t.ThrottledWorker=x,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?t.runWhenIdle=r=>{(0,_.setTimeout0)(()=>{if(i)return;const s=Date.now()+3;r(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,s-Date.now())}}))});let i=!1;return{dispose(){i||(i=!0)}}}:t.runWhenIdle=(r,i)=>{const s=requestIdleCallback(r,typeof i=="number"?{timeout:i}:void 0);let h=!1;return{dispose(){h||(h=!0,cancelIdleCallback(s))}}}}();class z{constructor(i){this._didRun=!1,this._executor=()=>{try{this._value=i()}catch(s){this._error=s}finally{this._didRun=!0}},this._handle=(0,t.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}t.IdleValue=z;async function G(r,i,s){let h;for(let d=0;d<s;d++)try{return await r()}catch(c){h=c,await W(i)}throw h}t.retry=G;class Y{hasPending(i){return this._pending?typeof i=="number"?this._pending.taskId===i:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(i,s,h){return this._pending={taskId:i,cancel:()=>h?.(),promise:s},s.then(()=>this.donePending(i),()=>this.donePending(i)),s}donePending(i){this._pending&&i===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const i=this._next;this._next=void 0,i.run().then(i.promiseResolve,i.promiseReject)}}setNext(i){if(this._next)this._next.run=i;else{let s,h;const d=new Promise((c,y)=>{s=c,h=y});this._next={run:i,promise:d,promiseResolve:s,promiseReject:h}}return this._next.promise}}t.TaskSequentializer=Y;class X{constructor(i,s=()=>Date.now()){this.interval=i,this.nowFn=s,this.lastIncrementTime=0,this.value=0}increment(){const i=this.nowFn();return i-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=i,this.value=0),this.value++,this.value}}t.IntervalCounter=X;class te{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((i,s)=>{this.completeCallback=i,this.errorCallback=s})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(i){return new Promise(s=>{this.completeCallback(i),this.resolved=!0,s()})}error(i){return new Promise(s=>{this.errorCallback(i),this.rejected=!0,s()})}cancel(){new Promise(i=>{this.errorCallback((0,R.canceled)()),this.rejected=!0,i()})}}t.DeferredPromise=te;var se;(function(r){async function i(h){let d;const c=await Promise.all(h.map(y=>y.then(M=>M,M=>{d||(d=M)})));if(typeof d!="undefined")throw d;return c}r.settled=i;function s(h){return new Promise(async(d,c)=>{try{await h(d,c)}catch(y){c(y)}})}r.withAsyncBody=s})(se=t.Promises||(t.Promises={}));var ne;(function(r){r[r.Initial=0]="Initial",r[r.DoneOK=1]="DoneOK",r[r.DoneError=2]="DoneError"})(ne||(ne={}));class K{constructor(i){this._state=0,this._results=[],this._error=null,this._onStateChanged=new T.Emitter,queueMicrotask(async()=>{const s={emitOne:h=>this.emitOne(h),emitMany:h=>this.emitMany(h),reject:h=>this.reject(h)};try{await Promise.resolve(i(s)),this.resolve()}catch(h){this.reject(h)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}})}static fromArray(i){return new K(s=>{s.emitMany(i)})}static fromPromise(i){return new K(async s=>{s.emitMany(await i)})}static fromPromises(i){return new K(async s=>{await Promise.all(i.map(async h=>s.emitOne(await h)))})}static merge(i){return new K(async s=>{await Promise.all(i.map(async h=>{for await(const d of h)s.emitOne(d)}))})}[Symbol.asyncIterator](){let i=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(i<this._results.length)return{done:!1,value:this._results[i++]};if(this._state===1)return{done:!0,value:void 0};await T.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(i,s){return new K(async h=>{for await(const d of i)h.emitOne(s(d))})}map(i){return K.map(this,i)}static filter(i,s){return new K(async h=>{for await(const d of i)s(d)&&h.emitOne(d)})}filter(i){return K.filter(this,i)}static coalesce(i){return K.filter(i,s=>!!s)}coalesce(){return K.coalesce(this)}static async toPromise(i){const s=[];for await(const h of i)s.push(h);return s}toPromise(){return K.toPromise(this)}emitOne(i){this._state===0&&(this._results.push(i),this._onStateChanged.fire())}emitMany(i){this._state===0&&(this._results=this._results.concat(i),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(i){this._state===0&&(this._state=2,this._error=i,this._onStateChanged.fire())}}t.AsyncIterableObject=K,K.EMPTY=K.fromArray([]);class m extends K{constructor(i,s){super(s);this._source=i}cancel(){this._source.cancel()}}t.CancelableAsyncIterableObject=m;function v(r){const i=new p.CancellationTokenSource,s=r(i.token);return new m(i,async h=>{const d=i.token.onCancellationRequested(()=>{d.dispose(),i.dispose(),h.reject((0,R.canceled)())});try{for await(const c of s){if(i.token.isCancellationRequested)return;h.emitOne(c)}d.dispose(),i.dispose()}catch(c){d.dispose(),i.dispose(),h.reject(c)}})}t.createCancelableAsyncIterable=v}),define(Z[8],J([0,1,7,3,9,4,2]),function(V,t,p,R,T,E,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPathTerms=t.getBasenameTerms=t.isRelativePattern=t.hasSiblingFn=t.hasSiblingPromiseFn=t.parse=t.match=t.splitGlobAware=t.getEmptyExpression=void 0;function _(){return Object.create(null)}t.getEmptyExpression=_;const k="**",O="/",S="[/\\\\]",$="[^/\\\\]",H=/\//g;function q(m){switch(m){case 0:return"";case 1:return`${$}*?`;default:return`(?:${S}|${$}+${S}|${S}${$}+)*?`}}function u(m,v){if(!m)return[];const r=[];let i=!1,s=!1,h="";for(const d of m){switch(d){case v:if(!i&&!s){r.push(h),h="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":s=!0;break;case"]":s=!1;break}h+=d}return h&&r.push(h),r}t.splitGlobAware=u;function g(m){if(!m)return"";let v="";const r=u(m,O);if(r.every(i=>i===k))v=".*";else{let i=!1;r.forEach((s,h)=>{if(s===k){i||(v+=q(2),i=!0);return}let d=!1,c="",y=!1,M="";for(const U of s){if(U!=="}"&&d){c+=U;continue}if(y&&(U!=="]"||!M)){let Q;U==="-"?Q=U:(U==="^"||U==="!")&&!M?Q="^":U===O?Q="":Q=P.escapeRegExpCharacters(U),M+=Q;continue}switch(U){case"{":d=!0;continue;case"[":y=!0;continue;case"}":v+=`(?:${u(c,",").map(re=>g(re)).join("|")})`,d=!1,c="";break;case"]":v+="["+M+"]",y=!1,M="";break;case"?":v+=$;continue;case"*":v+=q(1);continue;default:v+=P.escapeRegExpCharacters(U)}}h<r.length-1&&(r[h+1]!==k||h+2<r.length)&&(v+=S),i=!1})}return v}const w=/^\*\*\/\*\.[\w\.-]+$/,F=/^\*\*\/([\w\.-]+)\/?$/,B=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,b=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,I=/^\*\*((\/[\w\.-]+)+)\/?$/,W=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,A=new T.LRUCache(1e4),j=function(){return!1},n=function(){return null};function e(m,v){if(!m)return n;let r;typeof m!="string"?r=m.pattern:r=m,r=r.trim();const i=`${r}_${!!v.trimForExclusions}`;let s=A.get(i);if(s)return o(s,m);let h;if(w.test(r)){const d=r.substr(4);s=function(c,y){return typeof c=="string"&&c.endsWith(d)?r:null}}else(h=F.exec(a(r,v)))?s=l(h[1],r):(v.trimForExclusions?b:B).test(r)?s=f(r,v):(h=I.exec(a(r,v)))?s=L(h[1].substr(1),r,!0):(h=W.exec(a(r,v)))?s=L(h[1],r,!1):s=C(r);return A.set(i,s),o(s,m)}function o(m,v){return typeof v=="string"?m:function(r,i){return R.isEqualOrParent(r,v.base)?m(E.relative(v.base,r),i):null}}function a(m,v){return v.trimForExclusions&&m.endsWith("/**")?m.substr(0,m.length-2):m}function l(m,v){const r=`/${m}`,i=`\\${m}`,s=function(d,c){return typeof d!="string"?null:c?c===m?v:null:d===m||d.endsWith(r)||d.endsWith(i)?v:null},h=[m];return s.basenames=h,s.patterns=[v],s.allBasenames=h,s}function f(m,v){const r=K(m.slice(1,-1).split(",").map(c=>e(c,v)).filter(c=>c!==n),m),i=r.length;if(!i)return n;if(i===1)return r[0];const s=function(c,y){for(let M=0,U=r.length;M<U;M++)if(r[M](c,y))return m;return null},h=r.find(c=>!!c.allBasenames);h&&(s.allBasenames=h.allBasenames);const d=r.reduce((c,y)=>y.allPaths?c.concat(y.allPaths):c,[]);return d.length&&(s.allPaths=d),s}function L(m,v,r){const i=E.sep===E.posix.sep,s=i?m:m.replace(H,E.sep),h=E.sep+s,d=E.posix.sep+m,c=r?function(y,M){return typeof y=="string"&&(y===s||y.endsWith(h)||!i&&(y===m||y.endsWith(d)))?v:null}:function(y,M){return typeof y=="string"&&(y===s||!i&&y===m)?v:null};return c.allPaths=[(r?"*/":"./")+m],c}function C(m){try{const v=new RegExp(`^${g(m)}$`);return function(r){return v.lastIndex=0,typeof r=="string"&&v.test(r)?m:null}}catch(v){return n}}function N(m,v,r){return!m||typeof v!="string"?!1:D(m)(v,void 0,r)}t.match=N;function D(m,v={}){if(!m)return j;if(typeof m=="string"||Y(m)){const r=e(m,v);if(r===n)return j;const i=function(s,h){return!!r(s,h)};return r.allBasenames&&(i.allBasenames=r.allBasenames),r.allPaths&&(i.allPaths=r.allPaths),i}return se(m,v)}t.parse=D;function x(m){if(!m)return;let v;return r=>(v||(v=(m()||Promise.resolve([])).then(i=>i?G(i):{})),v.then(i=>!!i[r]))}t.hasSiblingPromiseFn=x;function z(m){if(!m)return;let v;return r=>{if(!v){const i=m();v=i?G(i):{}}return!!v[r]}}t.hasSiblingFn=z;function G(m){const v={};for(const r of m)v[r]=!0;return v}function Y(m){const v=m;return v&&typeof v.base=="string"&&typeof v.pattern=="string"}t.isRelativePattern=Y;function X(m){return m.allBasenames||[]}t.getBasenameTerms=X;function te(m){return m.allPaths||[]}t.getPathTerms=te;function se(m,v){const r=K(Object.getOwnPropertyNames(m).map(c=>ne(c,m[c],v)).filter(c=>c!==n)),i=r.length;if(!i)return n;if(!r.some(c=>!!c.requiresSiblings)){if(i===1)return r[0];const c=function(U,Q){for(let ie=0,re=r.length;ie<re;ie++){const ae=r[ie](U,Q);if(ae)return ae}return null},y=r.find(U=>!!U.allBasenames);y&&(c.allBasenames=y.allBasenames);const M=r.reduce((U,Q)=>Q.allPaths?U.concat(Q.allPaths):U,[]);return M.length&&(c.allPaths=M),c}const s=function(c,y,M){let U;for(let Q=0,ie=r.length;Q<ie;Q++){const re=r[Q];re.requiresSiblings&&M&&(y||(y=E.basename(c)),U||(U=y.substr(0,y.length-E.extname(c).length)));const ae=re(c,y,U,M);if(ae)return ae}return null},h=r.find(c=>!!c.allBasenames);h&&(s.allBasenames=h.allBasenames);const d=r.reduce((c,y)=>y.allPaths?c.concat(y.allPaths):c,[]);return d.length&&(s.allPaths=d),s}function ne(m,v,r){if(v===!1)return n;const i=e(m,r);if(i===n)return n;if(typeof v=="boolean")return i;if(v){const s=v.when;if(typeof s=="string"){const h=(d,c,y,M)=>{if(!M||!i(d,c))return null;const U=s.replace("$(basename)",y),Q=M(U);return(0,p.isThenable)(Q)?Q.then(ie=>ie?m:null):Q?m:null};return h.requiresSiblings=!0,h}}return i}function K(m,v){const r=m.filter(c=>!!c.basenames);if(r.length<2)return m;const i=r.reduce((c,y)=>{const M=y.basenames;return M?c.concat(M):c},[]);let s;if(v){s=[];for(let c=0,y=i.length;c<y;c++)s.push(v)}else s=r.reduce((c,y)=>{const M=y.patterns;return M?c.concat(M):c},[]);const h=function(c,y){if(typeof c!="string")return null;if(!y){let U;for(U=c.length;U>0;U--){const Q=c.charCodeAt(U-1);if(Q===47||Q===92)break}y=c.substr(U)}const M=i.indexOf(y);return M!==-1?s[M]:null};h.basenames=i,h.patterns=s,h.allBasenames=i;const d=m.filter(c=>!c.basenames);return d.push(h),d}}),define(Z[13],J([0,1,20]),function(V,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileResults=void 0;const R=(T,E,P)=>{let _;if(T[0]===255&&T[1]===254)_=new TextDecoder("utf-16le").decode(T);else if(T[0]===254&&T[1]===255)_=new TextDecoder("utf-16be").decode(T);else if(_=new TextDecoder("utf8").decode(T),_.slice(0,1e3).includes("\uFFFD")&&T.includes(0))return[];const k=[],O=[];let S=null,$=P.remainingResultQuota;for(;$>=0&&(S=E.exec(_));)O.push({matchStartIndex:S.index,matchedText:S[0]}),$--;if(O.length){const H=new Set,q=new Set,u=[],g=I=>_.slice(u[I].start,u[I].end);let w=0,F=null;const B=/\r?\n/g;for(;F=B.exec(_);)u.push({start:w,end:F.index}),w=F.index+F[0].length;w<_.length&&u.push({start:w,end:_.length});let b=0;for(const{matchStartIndex:I,matchedText:W}of O){if($<0)break;for(;Boolean(u[b+1])&&I>u[b].end;)b++;let A=b;for(;Boolean(u[A+1])&&I+W.length>u[A].end;)A++;if(P.beforeContext)for(let l=Math.max(0,b-P.beforeContext);l<b;l++)H.add(l);let j="",n=0;for(let l=b;l<=A;l++){let f=g(l);P.previewOptions?.charsPerLine&&f.length>P.previewOptions.charsPerLine&&(n=Math.max(I-u[b].start-20,0),f=f.substr(n,P.previewOptions.charsPerLine)),j+=`${f}
`,q.add(l)}const e=new p.Range(b,I-u[b].start,A,I+W.length-u[A].start),o=new p.Range(0,I-u[b].start-n,A-b,I+W.length-u[A].start-(A===b?n:0)),a={ranges:e,preview:{text:j,matches:o}};if(k.push(a),P.afterContext)for(let l=A+1;l<=Math.min(A+P.afterContext,u.length-1);l++)H.add(l)}for(const I of H)q.has(I)||k.push({text:g(I),lineNumber:I+1})}return k};t.getFileResults=R}),define(Z[14],J([0,1,8]),function(V,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IgnoreFile=void 0;class R{constructor(E,P,_){this.isPathIgnored=this.parseIgnoreFile(E,P,_)}isPathIncludedInTraversal(E,P){if(E[0]!=="/"||E[E.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+E);return!this.isPathIgnored(E,P)}isArbitraryPathIgnored(E,P){if(E[0]!=="/"||E[E.length-1]==="/")throw Error("Unexpected path format, expectred to begin with slash and end without. got:"+E);const _=E.split("/").filter(S=>S);let k=!1,O="";for(let S=0;S<_.length;S++){const $=S===_.length-1,H=_[S];if(O=O+"/"+H,!this.isPathIncludedInTraversal(O,$?P:!0)){k=!0;break}}return k}gitignoreLinesToExpression(E,P,_){const k=E.map(S=>this.gitignoreLineToGlob(S,P)),O=Object.create(null);for(const S of k)O[S]=!0;return p.parse(O,{trimForExclusions:_})}parseIgnoreFile(E,P,_){const k=E.split(`
`).map(b=>b.trim()).filter(b=>b&&b[0]!=="#"),O=k.filter(b=>!b.endsWith("/")),S=O.filter(b=>!b.includes("!")),$=this.gitignoreLinesToExpression(S,P,!0),H=O.filter(b=>b.includes("!")).map(b=>b.replace(/!/g,"")),q=this.gitignoreLinesToExpression(H,P,!1),u=k.filter(b=>!b.includes("!")),g=this.gitignoreLinesToExpression(u,P,!0),w=k.filter(b=>b.includes("!")).map(b=>b.replace(/!/g,"")),F=this.gitignoreLinesToExpression(w,P,!1);return(b,I)=>b.startsWith(P)?I&&g(b)&&!F(b)||$(b)&&!q(b)?!0:_?_.isPathIgnored(b,I):!1:!1}gitignoreLineToGlob(E,P){const _=E.indexOf("/");return _===-1||_===E.length-1?E="**/"+E:(_===0&&(E=E.slice(1)),E=P+E),E}}t.IgnoreFile=R}),define(Z[21],J([0,1,8,6,3,4,12,13,14,2,7]),function(V,t,p,R,T,E,P,_,k,O,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalFileSearchSimpleWorker=t.create=void 0;const $=!1,H=+new Date,q={},u=async(I,W)=>{if(!$)return W();const A=Date.now(),j=(q[I]??0)+1;console.info(I,j,"starting",Math.round((A-H)*10)/1e4),q[I]=j;const n=await W(),e=Date.now();return console.info(I,j,"took",e-A),n};function g(I){return new w(I)}t.create=g;class w{constructor(W){this.host=W,this.cancellationTokens=new Map}cancelQuery(W){this.cancellationTokens.get(W)?.cancel()}registerCancellationToken(W){const A=new P.CancellationTokenSource;return this.cancellationTokens.set(W,A),A}async listDirectory(W,A,j,n){const e=this.registerCancellationToken(n),o=[];let a=!1,l=0;const f=A.maxResults||512,L=A.filePattern?C=>A.filePattern.split("").every(N=>C.includes(N)):C=>!0;return await u("listDirectory",()=>this.walkFolderQuery(W,A,j,C=>{if(!!L(C.name))return l++,f&&l>f&&(a=!0,e.cancel()),o.push(C.path)},e.token)),{results:o,limitHit:a}}async searchDirectory(W,A,j,n){return u("searchInFiles",async()=>{const e=this.registerCancellationToken(n),o=[],a=F(A.contentPattern),l=[];let f=0,L=0,C=!1;const N=async D=>{if(e.token.isCancellationRequested)return;f++;const x=await D.resolve();if(e.token.isCancellationRequested)return;const z=new Uint8Array(x),G=(0,_.getFileResults)(z,a,{afterContext:A.afterContext??0,beforeContext:A.beforeContext??0,previewOptions:A.previewOptions,remainingResultQuota:A.maxResults?A.maxResults-L:1e4});if(G.length){L+=G.length,A.maxResults&&L>A.maxResults&&e.cancel();const Y={resource:R.URI.joinPath(R.URI.revive(j.folder),D.path),results:G};this.host.sendTextSearchMatch(Y,n),o.push(Y)}};return await u("walkFolderToResolve",()=>this.walkFolderQuery(W,A,j,async D=>l.push(N(D)),e.token)),await u("resolveOngoingProcesses",()=>Promise.all(l)),$&&console.log("Searched in",f,"files"),{results:o,limitHit:C}})}async walkFolderQuery(W,A,j,n,e){const o=p.parse(j.excludePattern??{},{trimForExclusions:!0}),a=(D,x,z)=>(D=D.slice(1),!!(o(D,x,z)||B(A,D))),l=(D,x,z)=>(D=D.slice(1),!(o(D,x,z)||!b(A,D))),f=(D,x)=>({type:"file",name:D.name,path:x,resolve:()=>D.getFile().then(G=>G.arrayBuffer())}),L=async(D,x,z)=>{if(!j.disregardIgnoreFiles){const Y=await Promise.all([D.getFileHandle(".gitignore").catch(X=>{}),D.getFileHandle(".ignore").catch(X=>{})]);await Promise.all(Y.map(async X=>{if(!X)return;const te=new TextDecoder("utf8").decode(new Uint8Array(await(await X.getFile()).arrayBuffer()));z=new k.IgnoreFile(te,x,z)}))}const G=S.Promises.withAsyncBody(async Y=>{const X=[],te=[],se=[],ne=new Set;for await(const K of D.entries())se.push(K),ne.add(K[0]);for(const[K,m]of se){if(e.isCancellationRequested)break;const v=x+K;if(z&&!z.isPathIncludedInTraversal(v,m.kind==="directory"))continue;const r=i=>ne.has(i);m.kind==="directory"&&!a(v,K,r)?te.push(L(m,v+"/",z)):m.kind==="file"&&l(v,K,r)&&X.push(f(m,v))}Y([...await Promise.all(te),...X])});return{type:"dir",name:D.name,entries:G}},C=async(D,x)=>{e.isCancellationRequested||await Promise.all((await D.entries).sort((z,G)=>-(z.type==="dir"?0:1)+(G.type==="dir"?0:1)).map(async z=>z.type==="dir"?C(z,x):x(z)))},N=await u("process",()=>L(W,"/"));await u("resolve",()=>C(N,n))}}t.LocalFileSearchSimpleWorker=w;function F(I){return(0,O.createRegExp)(I.pattern,!!I.isRegExp,{wholeWord:I.isWordMatch,global:!0,matchCase:I.isCaseSensitive,multiline:!0,unicode:!0})}function B(I,W){return!!(I.excludePattern&&p.match(I.excludePattern,W))}function b(I,W){return I.excludePattern&&p.match(I.excludePattern,W)?!1:I.includePattern||I.usingSearchPaths?I.includePattern&&p.match(I.includePattern,W)?!0:I.usingSearchPaths?!!I.folderQueries&&I.folderQueries.some(A=>{const j=A.folder.path;if(T.isEqualOrParent(W,j)){const n=E.relative(j,W);return!A.includePattern||!!p.match(A.includePattern,n)}else return!1}):!1:!0}})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/899d46d82c4c95423fb7e10e68eba52050e30ba3/core/vs/workbench/services/search/worker/localFileSearch.js.map
