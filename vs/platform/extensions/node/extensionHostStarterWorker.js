/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/platform","vs/base/common/path","vs/base/common/process","vs/base/common/event","vs/base/common/uri","vs/base/common/network","vs/base/common/cancellation","vs/base/common/extpath","vs/base/common/strings","vs/base/common/types","vs/base/common/objects","vs/base/common/resources","vs/base/common/async","vs/base/common/errors","vs/base/common/lifecycle","vs/platform/extensions/node/extensionHostStarterWorker","child_process","string_decoder","vs/base/common/stopwatch"],B=function(z){for(var e=[],_=0,O=z.length;_<O;_++)e[_]=K[z[_]];return e};define(K[4],B([0,1,2]),function(z,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arch=e.platform=e.env=e.cwd=void 0;let O;if(typeof _.globals.vscode!="undefined"&&typeof _.globals.vscode.process!="undefined"){const q=_.globals.vscode.process;O={get platform(){return q.platform},get arch(){return q.arch},get env(){return q.env},cwd(){return q.cwd()}}}else typeof process!="undefined"?O={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:O={get platform(){return _.isWindows?"win32":_.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=O.cwd,e.env=O.env,e.platform=O.platform,e.arch=O.arch}),define(K[3],B([0,1,4]),function(z,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const O=65,q=97,L=90,$=122,y=46,b=47,S=92,E=58,D=63;class H extends Error{constructor(r,c,g){let h;typeof c=="string"&&c.indexOf("not ")===0?(h="must not be",c=c.replace(/^not /,"")):h="must be";const t=r.indexOf(".")!==-1?"property":"argument";let n=`The "${r}" ${t} ${h} of type ${c}`;n+=`. Received type ${typeof g}`,super(n),this.code="ERR_INVALID_ARG_TYPE"}}function R(i,r){if(typeof i!="string")throw new H(r,"string",i)}function l(i){return i===b||i===S}function a(i){return i===b}function m(i){return i>=O&&i<=L||i>=q&&i<=$}function d(i,r,c,g){let h="",t=0,n=-1,s=0,u=0;for(let w=0;w<=i.length;++w){if(w<i.length)u=i.charCodeAt(w);else{if(g(u))break;u=b}if(g(u)){if(!(n===w-1||s===1))if(s===2){if(h.length<2||t!==2||h.charCodeAt(h.length-1)!==y||h.charCodeAt(h.length-2)!==y){if(h.length>2){const A=h.lastIndexOf(c);A===-1?(h="",t=0):(h=h.slice(0,A),t=h.length-1-h.lastIndexOf(c)),n=w,s=0;continue}else if(h.length!==0){h="",t=0,n=w,s=0;continue}}r&&(h+=h.length>0?`${c}..`:"..",t=2)}else h.length>0?h+=`${c}${i.slice(n+1,w)}`:h=i.slice(n+1,w),t=w-n-1;n=w,s=0}else u===y&&s!==-1?++s:s=-1}return h}function C(i,r){if(r===null||typeof r!="object")throw new H("pathObject","Object",r);const c=r.dir||r.root,g=r.base||`${r.name||""}${r.ext||""}`;return c?c===r.root?`${c}${g}`:`${c}${i}${g}`:g}e.win32={resolve(...i){let r="",c="",g=!1;for(let h=i.length-1;h>=-1;h--){let t;if(h>=0){if(t=i[h],R(t,"path"),t.length===0)continue}else r.length===0?t=_.cwd():(t=_.env[`=${r}`]||_.cwd(),(t===void 0||t.slice(0,2).toLowerCase()!==r.toLowerCase()&&t.charCodeAt(2)===S)&&(t=`${r}\\`));const n=t.length;let s=0,u="",w=!1;const A=t.charCodeAt(0);if(n===1)l(A)&&(s=1,w=!0);else if(l(A))if(w=!0,l(t.charCodeAt(1))){let P=2,I=P;for(;P<n&&!l(t.charCodeAt(P));)P++;if(P<n&&P!==I){const j=t.slice(I,P);for(I=P;P<n&&l(t.charCodeAt(P));)P++;if(P<n&&P!==I){for(I=P;P<n&&!l(t.charCodeAt(P));)P++;(P===n||P!==I)&&(u=`\\\\${j}\\${t.slice(I,P)}`,s=P)}}}else s=1;else m(A)&&t.charCodeAt(1)===E&&(u=t.slice(0,2),s=2,n>2&&l(t.charCodeAt(2))&&(w=!0,s=3));if(u.length>0)if(r.length>0){if(u.toLowerCase()!==r.toLowerCase())continue}else r=u;if(g){if(r.length>0)break}else if(c=`${t.slice(s)}\\${c}`,g=w,w&&r.length>0)break}return c=d(c,!g,"\\",l),g?`${r}\\${c}`:`${r}${c}`||"."},normalize(i){R(i,"path");const r=i.length;if(r===0)return".";let c=0,g,h=!1;const t=i.charCodeAt(0);if(r===1)return a(t)?"\\":i;if(l(t))if(h=!0,l(i.charCodeAt(1))){let s=2,u=s;for(;s<r&&!l(i.charCodeAt(s));)s++;if(s<r&&s!==u){const w=i.slice(u,s);for(u=s;s<r&&l(i.charCodeAt(s));)s++;if(s<r&&s!==u){for(u=s;s<r&&!l(i.charCodeAt(s));)s++;if(s===r)return`\\\\${w}\\${i.slice(u)}\\`;s!==u&&(g=`\\\\${w}\\${i.slice(u,s)}`,c=s)}}}else c=1;else m(t)&&i.charCodeAt(1)===E&&(g=i.slice(0,2),c=2,r>2&&l(i.charCodeAt(2))&&(h=!0,c=3));let n=c<r?d(i.slice(c),!h,"\\",l):"";return n.length===0&&!h&&(n="."),n.length>0&&l(i.charCodeAt(r-1))&&(n+="\\"),g===void 0?h?`\\${n}`:n:h?`${g}\\${n}`:`${g}${n}`},isAbsolute(i){R(i,"path");const r=i.length;if(r===0)return!1;const c=i.charCodeAt(0);return l(c)||r>2&&m(c)&&i.charCodeAt(1)===E&&l(i.charCodeAt(2))},join(...i){if(i.length===0)return".";let r,c;for(let t=0;t<i.length;++t){const n=i[t];R(n,"path"),n.length>0&&(r===void 0?r=c=n:r+=`\\${n}`)}if(r===void 0)return".";let g=!0,h=0;if(typeof c=="string"&&l(c.charCodeAt(0))){++h;const t=c.length;t>1&&l(c.charCodeAt(1))&&(++h,t>2&&(l(c.charCodeAt(2))?++h:g=!1))}if(g){for(;h<r.length&&l(r.charCodeAt(h));)h++;h>=2&&(r=`\\${r.slice(h)}`)}return e.win32.normalize(r)},relative(i,r){if(R(i,"from"),R(r,"to"),i===r)return"";const c=e.win32.resolve(i),g=e.win32.resolve(r);if(c===g||(i=c.toLowerCase(),r=g.toLowerCase(),i===r))return"";let h=0;for(;h<i.length&&i.charCodeAt(h)===S;)h++;let t=i.length;for(;t-1>h&&i.charCodeAt(t-1)===S;)t--;const n=t-h;let s=0;for(;s<r.length&&r.charCodeAt(s)===S;)s++;let u=r.length;for(;u-1>s&&r.charCodeAt(u-1)===S;)u--;const w=u-s,A=n<w?n:w;let P=-1,I=0;for(;I<A;I++){const W=i.charCodeAt(h+I);if(W!==r.charCodeAt(s+I))break;W===S&&(P=I)}if(I!==A){if(P===-1)return g}else{if(w>A){if(r.charCodeAt(s+I)===S)return g.slice(s+I+1);if(I===2)return g.slice(s+I)}n>A&&(i.charCodeAt(h+I)===S?P=I:I===2&&(P=3)),P===-1&&(P=0)}let j="";for(I=h+P+1;I<=t;++I)(I===t||i.charCodeAt(I)===S)&&(j+=j.length===0?"..":"\\..");return s+=P,j.length>0?`${j}${g.slice(s,u)}`:(g.charCodeAt(s)===S&&++s,g.slice(s,u))},toNamespacedPath(i){if(typeof i!="string")return i;if(i.length===0)return"";const r=e.win32.resolve(i);if(r.length<=2)return i;if(r.charCodeAt(0)===S){if(r.charCodeAt(1)===S){const c=r.charCodeAt(2);if(c!==D&&c!==y)return`\\\\?\\UNC\\${r.slice(2)}`}}else if(m(r.charCodeAt(0))&&r.charCodeAt(1)===E&&r.charCodeAt(2)===S)return`\\\\?\\${r}`;return i},dirname(i){R(i,"path");const r=i.length;if(r===0)return".";let c=-1,g=0;const h=i.charCodeAt(0);if(r===1)return l(h)?i:".";if(l(h)){if(c=g=1,l(i.charCodeAt(1))){let s=2,u=s;for(;s<r&&!l(i.charCodeAt(s));)s++;if(s<r&&s!==u){for(u=s;s<r&&l(i.charCodeAt(s));)s++;if(s<r&&s!==u){for(u=s;s<r&&!l(i.charCodeAt(s));)s++;if(s===r)return i;s!==u&&(c=g=s+1)}}}}else m(h)&&i.charCodeAt(1)===E&&(c=r>2&&l(i.charCodeAt(2))?3:2,g=c);let t=-1,n=!0;for(let s=r-1;s>=g;--s)if(l(i.charCodeAt(s))){if(!n){t=s;break}}else n=!1;if(t===-1){if(c===-1)return".";t=c}return i.slice(0,t)},basename(i,r){r!==void 0&&R(r,"ext"),R(i,"path");let c=0,g=-1,h=!0,t;if(i.length>=2&&m(i.charCodeAt(0))&&i.charCodeAt(1)===E&&(c=2),r!==void 0&&r.length>0&&r.length<=i.length){if(r===i)return"";let n=r.length-1,s=-1;for(t=i.length-1;t>=c;--t){const u=i.charCodeAt(t);if(l(u)){if(!h){c=t+1;break}}else s===-1&&(h=!1,s=t+1),n>=0&&(u===r.charCodeAt(n)?--n==-1&&(g=t):(n=-1,g=s))}return c===g?g=s:g===-1&&(g=i.length),i.slice(c,g)}for(t=i.length-1;t>=c;--t)if(l(i.charCodeAt(t))){if(!h){c=t+1;break}}else g===-1&&(h=!1,g=t+1);return g===-1?"":i.slice(c,g)},extname(i){R(i,"path");let r=0,c=-1,g=0,h=-1,t=!0,n=0;i.length>=2&&i.charCodeAt(1)===E&&m(i.charCodeAt(0))&&(r=g=2);for(let s=i.length-1;s>=r;--s){const u=i.charCodeAt(s);if(l(u)){if(!t){g=s+1;break}continue}h===-1&&(t=!1,h=s+1),u===y?c===-1?c=s:n!==1&&(n=1):c!==-1&&(n=-1)}return c===-1||h===-1||n===0||n===1&&c===h-1&&c===g+1?"":i.slice(c,h)},format:C.bind(null,"\\"),parse(i){R(i,"path");const r={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return r;const c=i.length;let g=0,h=i.charCodeAt(0);if(c===1)return l(h)?(r.root=r.dir=i,r):(r.base=r.name=i,r);if(l(h)){if(g=1,l(i.charCodeAt(1))){let P=2,I=P;for(;P<c&&!l(i.charCodeAt(P));)P++;if(P<c&&P!==I){for(I=P;P<c&&l(i.charCodeAt(P));)P++;if(P<c&&P!==I){for(I=P;P<c&&!l(i.charCodeAt(P));)P++;P===c?g=P:P!==I&&(g=P+1)}}}}else if(m(h)&&i.charCodeAt(1)===E){if(c<=2)return r.root=r.dir=i,r;if(g=2,l(i.charCodeAt(2))){if(c===3)return r.root=r.dir=i,r;g=3}}g>0&&(r.root=i.slice(0,g));let t=-1,n=g,s=-1,u=!0,w=i.length-1,A=0;for(;w>=g;--w){if(h=i.charCodeAt(w),l(h)){if(!u){n=w+1;break}continue}s===-1&&(u=!1,s=w+1),h===y?t===-1?t=w:A!==1&&(A=1):t!==-1&&(A=-1)}return s!==-1&&(t===-1||A===0||A===1&&t===s-1&&t===n+1?r.base=r.name=i.slice(n,s):(r.name=i.slice(n,t),r.base=i.slice(n,s),r.ext=i.slice(t,s))),n>0&&n!==g?r.dir=i.slice(0,n-1):r.dir=r.root,r},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...i){let r="",c=!1;for(let g=i.length-1;g>=-1&&!c;g--){const h=g>=0?i[g]:_.cwd();R(h,"path"),h.length!==0&&(r=`${h}/${r}`,c=h.charCodeAt(0)===b)}return r=d(r,!c,"/",a),c?`/${r}`:r.length>0?r:"."},normalize(i){if(R(i,"path"),i.length===0)return".";const r=i.charCodeAt(0)===b,c=i.charCodeAt(i.length-1)===b;return i=d(i,!r,"/",a),i.length===0?r?"/":c?"./":".":(c&&(i+="/"),r?`/${i}`:i)},isAbsolute(i){return R(i,"path"),i.length>0&&i.charCodeAt(0)===b},join(...i){if(i.length===0)return".";let r;for(let c=0;c<i.length;++c){const g=i[c];R(g,"path"),g.length>0&&(r===void 0?r=g:r+=`/${g}`)}return r===void 0?".":e.posix.normalize(r)},relative(i,r){if(R(i,"from"),R(r,"to"),i===r||(i=e.posix.resolve(i),r=e.posix.resolve(r),i===r))return"";const c=1,g=i.length,h=g-c,t=1,n=r.length-t,s=h<n?h:n;let u=-1,w=0;for(;w<s;w++){const P=i.charCodeAt(c+w);if(P!==r.charCodeAt(t+w))break;P===b&&(u=w)}if(w===s)if(n>s){if(r.charCodeAt(t+w)===b)return r.slice(t+w+1);if(w===0)return r.slice(t+w)}else h>s&&(i.charCodeAt(c+w)===b?u=w:w===0&&(u=0));let A="";for(w=c+u+1;w<=g;++w)(w===g||i.charCodeAt(w)===b)&&(A+=A.length===0?"..":"/..");return`${A}${r.slice(t+u)}`},toNamespacedPath(i){return i},dirname(i){if(R(i,"path"),i.length===0)return".";const r=i.charCodeAt(0)===b;let c=-1,g=!0;for(let h=i.length-1;h>=1;--h)if(i.charCodeAt(h)===b){if(!g){c=h;break}}else g=!1;return c===-1?r?"/":".":r&&c===1?"//":i.slice(0,c)},basename(i,r){r!==void 0&&R(r,"ext"),R(i,"path");let c=0,g=-1,h=!0,t;if(r!==void 0&&r.length>0&&r.length<=i.length){if(r===i)return"";let n=r.length-1,s=-1;for(t=i.length-1;t>=0;--t){const u=i.charCodeAt(t);if(u===b){if(!h){c=t+1;break}}else s===-1&&(h=!1,s=t+1),n>=0&&(u===r.charCodeAt(n)?--n==-1&&(g=t):(n=-1,g=s))}return c===g?g=s:g===-1&&(g=i.length),i.slice(c,g)}for(t=i.length-1;t>=0;--t)if(i.charCodeAt(t)===b){if(!h){c=t+1;break}}else g===-1&&(h=!1,g=t+1);return g===-1?"":i.slice(c,g)},extname(i){R(i,"path");let r=-1,c=0,g=-1,h=!0,t=0;for(let n=i.length-1;n>=0;--n){const s=i.charCodeAt(n);if(s===b){if(!h){c=n+1;break}continue}g===-1&&(h=!1,g=n+1),s===y?r===-1?r=n:t!==1&&(t=1):r!==-1&&(t=-1)}return r===-1||g===-1||t===0||t===1&&r===g-1&&r===c+1?"":i.slice(r,g)},format:C.bind(null,"/"),parse(i){R(i,"path");const r={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return r;const c=i.charCodeAt(0)===b;let g;c?(r.root="/",g=1):g=0;let h=-1,t=0,n=-1,s=!0,u=i.length-1,w=0;for(;u>=g;--u){const A=i.charCodeAt(u);if(A===b){if(!s){t=u+1;break}continue}n===-1&&(s=!1,n=u+1),A===y?h===-1?h=u:w!==1&&(w=1):h!==-1&&(w=-1)}if(n!==-1){const A=t===0&&c?1:t;h===-1||w===0||w===1&&h===n-1&&h===t+1?r.base=r.name=i.slice(A,n):(r.name=i.slice(A,h),r.base=i.slice(A,n),r.ext=i.slice(h,n))}return t>0?r.dir=i.slice(0,t-1):c&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=_.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=_.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=_.platform==="win32"?e.win32.join:e.posix.join,e.resolve=_.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=_.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=_.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=_.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=_.platform==="win32"?e.win32.extname:e.posix.extname,e.format=_.platform==="win32"?e.win32.format:e.posix.format,e.parse=_.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=_.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=_.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=_.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(K[8],B([0,1,5]),function(z,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const O=Object.freeze(function(y,b){const S=setTimeout(y.bind(b),0);return{dispose(){clearTimeout(S)}}});var q;(function(y){function b(S){return S===y.None||S===y.Cancelled||S instanceof L?!0:!S||typeof S!="object"?!1:typeof S.isCancellationRequested=="boolean"&&typeof S.onCancellationRequested=="function"}y.isCancellationToken=b,y.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_.Event.None}),y.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:O})})(q=e.CancellationToken||(e.CancellationToken={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?O:(this._emitter||(this._emitter=new _.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class ${constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=q.Cancelled}dispose(b=!1){b&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=q.None}}e.CancellationTokenSource=$}),define(K[9],B([0,1,3,2,10,11]),function(z,e,_,O,q,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function $(t){return t===47||t===92}e.isPathSeparator=$;function y(t){return t.replace(/[\\/]/g,_.posix.sep)}e.toSlashes=y;function b(t){return t.indexOf("/")===-1&&(t=y(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}e.toPosixPath=b;function S(t,n=_.posix.sep){if(!t)return"";const s=t.length,u=t.charCodeAt(0);if($(u)){if($(t.charCodeAt(1))&&!$(t.charCodeAt(2))){let A=3;const P=A;for(;A<s&&!$(t.charCodeAt(A));A++);if(P!==A&&!$(t.charCodeAt(A+1))){for(A+=1;A<s;A++)if($(t.charCodeAt(A)))return t.slice(0,A+1).replace(/[\\/]/g,n)}}return n}else if(d(u)&&t.charCodeAt(1)===58)return $(t.charCodeAt(2))?t.slice(0,2)+n:t.slice(0,2);let w=t.indexOf("://");if(w!==-1){for(w+=3;w<s;w++)if($(t.charCodeAt(w)))return t.slice(0,w+1)}return""}e.getRoot=S;function E(t){if(!O.isWindows||!t||t.length<5)return!1;let n=t.charCodeAt(0);if(n!==92||(n=t.charCodeAt(1),n!==92))return!1;let s=2;const u=s;for(;s<t.length&&(n=t.charCodeAt(s),n!==92);s++);return!(u===s||(n=t.charCodeAt(s+1),isNaN(n)||n===92))}e.isUNC=E;const D=/[\\/:\*\?"<>\|]/g,H=/[\\/]/g,R=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function l(t,n=O.isWindows){const s=n?D:H;return!(!t||t.length===0||/^\s+$/.test(t)||(s.lastIndex=0,s.test(t))||n&&R.test(t)||t==="."||t===".."||n&&t[t.length-1]==="."||n&&t.length!==t.trim().length||t.length>255)}e.isValidBasename=l;function a(t,n,s){const u=t===n;return!s||u?u:!t||!n?!1:(0,q.equalsIgnoreCase)(t,n)}e.isEqual=a;function m(t,n,s,u=_.sep){if(t===n)return!0;if(!t||!n||n.length>t.length)return!1;if(s){if(!(0,q.startsWithIgnoreCase)(t,n))return!1;if(n.length===t.length)return!0;let A=n.length;return n.charAt(n.length-1)===u&&A--,t.charAt(A)===u}return n.charAt(n.length-1)!==u&&(n+=u),t.indexOf(n)===0}e.isEqualOrParent=m;function d(t){return t>=65&&t<=90||t>=97&&t<=122}e.isWindowsDriveLetter=d;function C(t,n){return O.isWindows&&t.endsWith(":")&&(t+=_.sep),(0,_.isAbsolute)(t)||(t=(0,_.join)(n,t)),t=(0,_.normalize)(t),O.isWindows?(t=(0,q.rtrim)(t,_.sep),t.endsWith(":")&&(t+=_.sep)):(t=(0,q.rtrim)(t,_.sep),t||(t=_.sep)),t}e.sanitizeFilePath=C;function i(t){const n=(0,_.normalize)(t);return O.isWindows?t.length>3?!1:r(n)&&(t.length===2||n.charCodeAt(2)===92):n===_.posix.sep}e.isRootOrDriveLetter=i;function r(t,n){return(n!==void 0?n:O.isWindows)?d(t.charCodeAt(0))&&t.charCodeAt(1)===58:!1}e.hasDriveLetter=r;function c(t){return r(t)?t[0]:void 0}e.getDriveLetter=c;function g(t,n,s){return n.length>t.length?-1:t===n?0:(s&&(t=t.toLowerCase(),n=n.toLowerCase()),t.indexOf(n))}e.indexOfPath=g;function h(t){const n=t.split(":");let s,u,w;if(n.forEach(A=>{const P=Number(A);(0,L.isNumber)(P)?u===void 0?u=P:w===void 0&&(w=P):s=s?[s,A].join(":"):A}),!s)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:s,line:u!==void 0?u:void 0,column:w!==void 0?w:u!==void 0?1:void 0}}e.parseLineAndColumnAware=h}),define(K[12],B([0,1,11]),function(z,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function O(a){if(!a||typeof a!="object"||a instanceof RegExp)return a;const m=Array.isArray(a)?[]:{};return Object.keys(a).forEach(d=>{a[d]&&typeof a[d]=="object"?m[d]=O(a[d]):m[d]=a[d]}),m}e.deepClone=O;function q(a){if(!a||typeof a!="object")return a;const m=[a];for(;m.length>0;){const d=m.shift();Object.freeze(d);for(const C in d)if(L.call(d,C)){const i=d[C];typeof i=="object"&&!Object.isFrozen(i)&&m.push(i)}}return a}e.deepFreeze=q;const L=Object.prototype.hasOwnProperty;function $(a,m){return y(a,m,new Set)}e.cloneAndChange=$;function y(a,m,d){if((0,_.isUndefinedOrNull)(a))return a;const C=m(a);if(typeof C!="undefined")return C;if((0,_.isArray)(a)){const i=[];for(const r of a)i.push(y(r,m,d));return i}if((0,_.isObject)(a)){if(d.has(a))throw new Error("Cannot clone recursive data-structure");d.add(a);const i={};for(let r in a)L.call(a,r)&&(i[r]=y(a[r],m,d));return d.delete(a),i}return a}function b(a,m,d=!0){return(0,_.isObject)(a)?((0,_.isObject)(m)&&Object.keys(m).forEach(C=>{C in a?d&&((0,_.isObject)(a[C])&&(0,_.isObject)(m[C])?b(a[C],m[C],d):a[C]=m[C]):a[C]=m[C]}),a):m}e.mixin=b;function S(a,m){if(a===m)return!0;if(a==null||m===null||m===void 0||typeof a!=typeof m||typeof a!="object"||Array.isArray(a)!==Array.isArray(m))return!1;let d,C;if(Array.isArray(a)){if(a.length!==m.length)return!1;for(d=0;d<a.length;d++)if(!S(a[d],m[d]))return!1}else{const i=[];for(C in a)i.push(C);i.sort();const r=[];for(C in m)r.push(C);if(r.sort(),!S(i,r))return!1;for(d=0;d<i.length;d++)if(!S(a[i[d]],m[i[d]]))return!1}return!0}e.equals=S;function E(a){const m=new Set;return JSON.stringify(a,(d,C)=>{if((0,_.isObject)(C)||Array.isArray(C)){if(m.has(C))return"[Circular]";m.add(C)}return C})}e.safeStringify=E;function D(a,m,d){const C=m(a);return typeof C=="undefined"?d:C}e.getOrDefault=D;function H(a,m){const d=Object.create(null);return!a||!m||Object.keys(m).forEach(i=>{const r=a[i],c=m[i];S(r,c)||(d[i]=c)}),d}e.distinct=H;function R(a,m){const d=m.toLowerCase(),C=Object.keys(a).find(i=>i.toLowerCase()===d);return C?a[C]:a[m]}e.getCaseInsensitive=R;function l(a,m){const d=Object.create(null);for(const[C,i]of Object.entries(a))m(C,i)&&(d[C]=i);return d}e.filter=l}),define(K[6],B([0,1,3,2]),function(z,e,_,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const q=/^\w[\w\d+.-]*$/,L=/^\//,$=/^\/\//;function y(t,n){if(!t.scheme&&n)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!q.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!L.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if($.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function b(t,n){return!t&&!n?"file":t}function S(t,n){switch(t){case"https":case"http":case"file":n?n[0]!==D&&(n=D+n):n=D;break}return n}const E="",D="/",H=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class R{constructor(n,s,u,w,A,P=!1){typeof n=="object"?(this.scheme=n.scheme||E,this.authority=n.authority||E,this.path=n.path||E,this.query=n.query||E,this.fragment=n.fragment||E):(this.scheme=b(n,P),this.authority=s||E,this.path=S(this.scheme,u||E),this.query=w||E,this.fragment=A||E,y(this,P))}static isUri(n){return n instanceof R?!0:n?typeof n.authority=="string"&&typeof n.fragment=="string"&&typeof n.path=="string"&&typeof n.query=="string"&&typeof n.scheme=="string"&&typeof n.fsPath=="string"&&typeof n.with=="function"&&typeof n.toString=="function":!1}get fsPath(){return i(this,!1)}with(n){if(!n)return this;let{scheme:s,authority:u,path:w,query:A,fragment:P}=n;return s===void 0?s=this.scheme:s===null&&(s=E),u===void 0?u=this.authority:u===null&&(u=E),w===void 0?w=this.path:w===null&&(w=E),A===void 0?A=this.query:A===null&&(A=E),P===void 0?P=this.fragment:P===null&&(P=E),s===this.scheme&&u===this.authority&&w===this.path&&A===this.query&&P===this.fragment?this:new a(s,u,w,A,P)}static parse(n,s=!1){const u=H.exec(n);return u?new a(u[2]||E,h(u[4]||E),h(u[5]||E),h(u[7]||E),h(u[9]||E),s):new a(E,E,E,E,E)}static file(n){let s=E;if(O.isWindows&&(n=n.replace(/\\/g,D)),n[0]===D&&n[1]===D){const u=n.indexOf(D,2);u===-1?(s=n.substring(2),n=D):(s=n.substring(2,u),n=n.substring(u)||D)}return new a("file",s,n,E,E)}static from(n){const s=new a(n.scheme,n.authority,n.path,n.query,n.fragment);return y(s,!0),s}static joinPath(n,...s){if(!n.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let u;return O.isWindows&&n.scheme==="file"?u=R.file(_.win32.join(i(n,!0),...s)).path:u=_.posix.join(n.path,...s),n.with({path:u})}toString(n=!1){return r(this,n)}toJSON(){return this}static revive(n){if(n){if(n instanceof R)return n;{const s=new a(n);return s._formatted=n.external,s._fsPath=n._sep===l?n.fsPath:null,s}}else return n}}e.URI=R;const l=O.isWindows?1:void 0;class a extends R{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=i(this,!1)),this._fsPath}toString(n=!1){return n?r(this,!0):(this._formatted||(this._formatted=r(this,!1)),this._formatted)}toJSON(){const n={$mid:1};return this._fsPath&&(n.fsPath=this._fsPath,n._sep=l),this._formatted&&(n.external=this._formatted),this.path&&(n.path=this.path),this.scheme&&(n.scheme=this.scheme),this.authority&&(n.authority=this.authority),this.query&&(n.query=this.query),this.fragment&&(n.fragment=this.fragment),n}}const m={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function d(t,n){let s,u=-1;for(let w=0;w<t.length;w++){const A=t.charCodeAt(w);if(A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===45||A===46||A===95||A===126||n&&A===47)u!==-1&&(s+=encodeURIComponent(t.substring(u,w)),u=-1),s!==void 0&&(s+=t.charAt(w));else{s===void 0&&(s=t.substr(0,w));const P=m[A];P!==void 0?(u!==-1&&(s+=encodeURIComponent(t.substring(u,w)),u=-1),s+=P):u===-1&&(u=w)}}return u!==-1&&(s+=encodeURIComponent(t.substring(u))),s!==void 0?s:t}function C(t){let n;for(let s=0;s<t.length;s++){const u=t.charCodeAt(s);u===35||u===63?(n===void 0&&(n=t.substr(0,s)),n+=m[u]):n!==void 0&&(n+=t[s])}return n!==void 0?n:t}function i(t,n){let s;return t.authority&&t.path.length>1&&t.scheme==="file"?s=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?n?s=t.path.substr(1):s=t.path[1].toLowerCase()+t.path.substr(2):s=t.path,O.isWindows&&(s=s.replace(/\//g,"\\")),s}e.uriToFsPath=i;function r(t,n){const s=n?C:d;let u="",{scheme:w,authority:A,path:P,query:I,fragment:j}=t;if(w&&(u+=w,u+=":"),(A||w==="file")&&(u+=D,u+=D),A){let W=A.indexOf("@");if(W!==-1){const Q=A.substr(0,W);A=A.substr(W+1),W=Q.indexOf(":"),W===-1?u+=s(Q,!1):(u+=s(Q.substr(0,W),!1),u+=":",u+=s(Q.substr(W+1),!1)),u+="@"}A=A.toLowerCase(),W=A.indexOf(":"),W===-1?u+=s(A,!1):(u+=s(A.substr(0,W),!1),u+=A.substr(W))}if(P){if(P.length>=3&&P.charCodeAt(0)===47&&P.charCodeAt(2)===58){const W=P.charCodeAt(1);W>=65&&W<=90&&(P=`/${String.fromCharCode(W+32)}:${P.substr(3)}`)}else if(P.length>=2&&P.charCodeAt(1)===58){const W=P.charCodeAt(0);W>=65&&W<=90&&(P=`${String.fromCharCode(W+32)}:${P.substr(2)}`)}u+=s(P,!0)}return I&&(u+="?",u+=s(I,!1)),j&&(u+="#",u+=n?j:d(j,!1)),u}function c(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+c(t.substr(3)):t}}const g=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function h(t){return t.match(g)?t.replace(g,n=>c(n)):t}}),define(K[7],B([0,1,2,6]),function(z,e,_,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var q;(function(y){y.inMemory="inmemory",y.vscode="vscode",y.internal="private",y.walkThrough="walkThrough",y.walkThroughSnippet="walkThroughSnippet",y.http="http",y.https="https",y.file="file",y.mailto="mailto",y.untitled="untitled",y.data="data",y.command="command",y.vscodeRemote="vscode-remote",y.vscodeRemoteResource="vscode-remote-resource",y.userData="vscode-userdata",y.vscodeCustomEditor="vscode-custom-editor",y.vscodeNotebook="vscode-notebook",y.vscodeNotebookCell="vscode-notebook-cell",y.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",y.vscodeNotebookCellOutput="vscode-notebook-cell-output",y.vscodeInteractive="vscode-interactive",y.vscodeInteractiveInput="vscode-interactive-input",y.vscodeSettings="vscode-settings",y.vscodeWorkspaceTrust="vscode-workspace-trust",y.vscodeTerminal="vscode-terminal",y.webviewPanel="webview-panel",y.vscodeWebview="vscode-webview",y.extension="extension",y.vscodeFileResource="vscode-file",y.tmp="tmp",y.vsls="vsls"})(q=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(b){this._preferredWebSchema=b}setDelegate(b){this._delegate=b}set(b,S,E){this._hosts[b]=S,this._ports[b]=E}setConnectionToken(b,S){this._connectionTokens[b]=S}rewrite(b){if(this._delegate)return this._delegate(b);const S=b.authority;let E=this._hosts[S];E&&E.indexOf(":")!==-1&&(E=`[${E}]`);const D=this._ports[S],H=this._connectionTokens[S];let R=`path=${encodeURIComponent(b.path)}`;return typeof H=="string"&&(R+=`&tkn=${encodeURIComponent(H)}`),O.URI.from({scheme:_.isWeb?this._preferredWebSchema:q.vscodeRemoteResource,authority:`${E}:${D}`,path:"/vscode-remote-resource",query:R})}}e.RemoteAuthorities=new L;class ${asBrowserUri(b,S){const E=this.toUri(b,S);return E.scheme===q.vscodeRemote?e.RemoteAuthorities.rewrite(E):E.scheme===q.file&&(_.isNative||typeof _.globals.importScripts=="function"&&_.globals.origin===`${q.vscodeFileResource}://${$.FALLBACK_AUTHORITY}`)?E.with({scheme:q.vscodeFileResource,authority:E.authority||$.FALLBACK_AUTHORITY,query:null,fragment:null}):E}asFileUri(b,S){const E=this.toUri(b,S);return E.scheme===q.vscodeFileResource?E.with({scheme:q.file,authority:E.authority!==$.FALLBACK_AUTHORITY?E.authority:null,query:null,fragment:null}):E}toUri(b,S){return O.URI.isUri(b)?b:O.URI.parse(S.toUrl(b))}}$.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new $}),define(K[13],B([0,1,9,7,3,2,10,6]),function(z,e,_,O,q,L,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function b(R){return(0,y.uriToFsPath)(R,!0)}e.originalFSPath=b;class S{constructor(l){this._ignorePathCasing=l}compare(l,a,m=!1){return l===a?0:(0,$.compare)(this.getComparisonKey(l,m),this.getComparisonKey(a,m))}isEqual(l,a,m=!1){return l===a?!0:!l||!a?!1:this.getComparisonKey(l,m)===this.getComparisonKey(a,m)}getComparisonKey(l,a=!1){return l.with({path:this._ignorePathCasing(l)?l.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(l){return this._ignorePathCasing(l)}isEqualOrParent(l,a,m=!1){if(l.scheme===a.scheme){if(l.scheme===O.Schemas.file)return _.isEqualOrParent(b(l),b(a),this._ignorePathCasing(l))&&l.query===a.query&&(m||l.fragment===a.fragment);if((0,e.isEqualAuthority)(l.authority,a.authority))return _.isEqualOrParent(l.path,a.path,this._ignorePathCasing(l),"/")&&l.query===a.query&&(m||l.fragment===a.fragment)}return!1}joinPath(l,...a){return y.URI.joinPath(l,...a)}basenameOrAuthority(l){return(0,e.basename)(l)||l.authority}basename(l){return q.posix.basename(l.path)}extname(l){return q.posix.extname(l.path)}dirname(l){if(l.path.length===0)return l;let a;return l.scheme===O.Schemas.file?a=y.URI.file(q.dirname(b(l))).path:(a=q.posix.dirname(l.path),l.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${l.toString})) resulted in a relative path`),a="/")),l.with({path:a})}normalizePath(l){if(!l.path.length)return l;let a;return l.scheme===O.Schemas.file?a=y.URI.file(q.normalize(b(l))).path:a=q.posix.normalize(l.path),l.with({path:a})}relativePath(l,a){if(l.scheme!==a.scheme||!(0,e.isEqualAuthority)(l.authority,a.authority))return;if(l.scheme===O.Schemas.file){const C=q.relative(b(l),b(a));return L.isWindows?_.toSlashes(C):C}let m=l.path||"/",d=a.path||"/";if(this._ignorePathCasing(l)){let C=0;for(const i=Math.min(m.length,d.length);C<i&&!(m.charCodeAt(C)!==d.charCodeAt(C)&&m.charAt(C).toLowerCase()!==d.charAt(C).toLowerCase());C++);m=d.substr(0,C)+m.substr(C)}return q.posix.relative(m,d)}resolvePath(l,a){if(l.scheme===O.Schemas.file){const m=y.URI.file(q.resolve(b(l),a));return l.with({authority:m.authority,path:m.path})}return a=_.toPosixPath(a),l.with({path:q.posix.resolve(l.path,a)})}isAbsolutePath(l){return!!l.path&&l.path[0]==="/"}isEqualAuthority(l,a){return l===a||l!==void 0&&a!==void 0&&(0,$.equalsIgnoreCase)(l,a)}hasTrailingPathSeparator(l,a=q.sep){if(l.scheme===O.Schemas.file){const m=b(l);return m.length>_.getRoot(m).length&&m[m.length-1]===a}else{const m=l.path;return m.length>1&&m.charCodeAt(m.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(l.fsPath)}}removeTrailingPathSeparator(l,a=q.sep){return(0,e.hasTrailingPathSeparator)(l,a)?l.with({path:l.path.substr(0,l.path.length-1)}):l}addTrailingPathSeparator(l,a=q.sep){let m=!1;if(l.scheme===O.Schemas.file){const d=b(l);m=d!==void 0&&d.length===_.getRoot(d).length&&d[d.length-1]===a}else{a="/";const d=l.path;m=d.length===1&&d.charCodeAt(d.length-1)===47}return!m&&!(0,e.hasTrailingPathSeparator)(l,a)?l.with({path:l.path+"/"}):l}}e.ExtUri=S,e.extUri=new S(()=>!1),e.extUriBiasedIgnorePathCase=new S(R=>R.scheme===O.Schemas.file?!L.isLinux:!0),e.extUriIgnorePathCase=new S(R=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function E(R,l){const a=[];for(let m=0;m<R.length;m++){const d=l(R[m]);R.some((C,i)=>i===m?!1:(0,e.isEqualOrParent)(d,l(C)))||a.push(R[m])}return a}e.distinctParents=E;var D;(function(R){R.META_DATA_LABEL="label",R.META_DATA_DESCRIPTION="description",R.META_DATA_SIZE="size",R.META_DATA_MIME="mime";function l(a){const m=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(i=>{const[r,c]=i.split(":");r&&c&&m.set(r,c)});const C=a.path.substring(0,a.path.indexOf(";"));return C&&m.set(R.META_DATA_MIME,C),m}R.parseMetaData=l})(D=e.DataUri||(e.DataUri={}));function H(R,l,a){if(l){let m=R.path;return m&&m[0]!==q.posix.sep&&(m=q.posix.sep+m),R.with({scheme:a,authority:l,path:m})}return R.with({scheme:a})}e.toLocalResource=H}),define(K[14],B([0,1,8,15,5,16,13,2]),function(z,e,_,O,q,L,$,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function b(T){return!!T&&typeof T.then=="function"}e.isThenable=b;function S(T){const o=new _.CancellationTokenSource,f=T(o.token),v=new Promise((k,U)=>{const M=o.token.onCancellationRequested(()=>{M.dispose(),o.dispose(),U((0,O.canceled)())});Promise.resolve(f).then(F=>{M.dispose(),o.dispose(),k(F)},F=>{M.dispose(),o.dispose(),U(F)})});return new class{cancel(){o.cancel()}then(k,U){return v.then(k,U)}catch(k){return this.then(void 0,k)}finally(k){return v.finally(k)}}}e.createCancelablePromise=S;function E(T,o,f){return Promise.race([T,new Promise(v=>o.onCancellationRequested(()=>v(f)))])}e.raceCancellation=E;async function D(T){let o=-1;const f=T.map((k,U)=>k.then(M=>(o=U,M))),v=await Promise.race(f);return T.forEach((k,U)=>{U!==o&&k.cancel()}),v}e.raceCancellablePromises=D;function H(T,o,f){let v;const k=setTimeout(()=>{v?.(void 0),f?.()},o);return Promise.race([T.finally(()=>clearTimeout(k)),new Promise(U=>v=U)])}e.raceTimeout=H;function R(T){return new Promise((o,f)=>{const v=T();b(v)?v.then(o,f):o(v)})}e.asPromise=R;class l{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(o){if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){const f=()=>{this.queuedPromise=null;const v=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,v};this.queuedPromise=new Promise(v=>{this.activePromise.then(f,f).then(v)})}return new Promise((f,v)=>{this.queuedPromise.then(f,v)})}return this.activePromise=o(),new Promise((f,v)=>{this.activePromise.then(k=>{this.activePromise=null,f(k)},k=>{this.activePromise=null,v(k)})})}}e.Throttler=l;class a{constructor(){this.current=Promise.resolve(null)}queue(o){return this.current=this.current.then(()=>o(),()=>o())}}e.Sequencer=a;class m{constructor(){this.promiseMap=new Map}queue(o,f){const k=(this.promiseMap.get(o)??Promise.resolve()).catch(()=>{}).then(f).finally(()=>{this.promiseMap.get(o)===k&&this.promiseMap.delete(o)});return this.promiseMap.set(o,k),k}}e.SequencerByKey=m;class d{constructor(o){this.defaultDelay=o,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(o,f=this.defaultDelay){return this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((v,k)=>{this.doResolve=v,this.doReject=k}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const v=this.task;return this.task=null,v()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},f),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,O.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=d;class C{constructor(o){this.delayer=new d(o),this.throttler=new l}trigger(o,f){return this.delayer.trigger(()=>this.throttler.queue(o),f)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=C;class i{constructor(){this._isOpen=!1,this._promise=new Promise((o,f)=>{this._completePromise=o})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=i;class r extends i{constructor(o){super();this._timeout=setTimeout(()=>this.open(),o)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=r;function c(T,o){return o?new Promise((f,v)=>{const k=setTimeout(()=>{U.dispose(),f()},T),U=o.onCancellationRequested(()=>{clearTimeout(k),U.dispose(),v((0,O.canceled)())})}):S(f=>c(T,f))}e.timeout=c;function g(T,o=0){const f=setTimeout(T,o);return(0,L.toDisposable)(()=>clearTimeout(f))}e.disposableTimeout=g;function h(T){const o=[];let f=0;const v=T.length;function k(){return f<v?T[f++]():null}function U(M){M!=null&&o.push(M);const F=k();return F?F.then(U):Promise.resolve(o)}return Promise.resolve(null).then(U)}e.sequence=h;function t(T,o=v=>!!v,f=null){let v=0;const k=T.length,U=()=>{if(v>=k)return Promise.resolve(f);const M=T[v++];return Promise.resolve(M()).then(V=>o(V)?Promise.resolve(V):U())};return U()}e.first=t;function n(T,o=v=>!!v,f=null){if(T.length===0)return Promise.resolve(f);let v=T.length;const k=()=>{v=-1;for(const U of T)U.cancel?.()};return new Promise((U,M)=>{for(const F of T)F.then(V=>{--v>=0&&o(V)?(k(),U(V)):v===0&&U(f)}).catch(V=>{--v>=0&&(k(),M(V))})})}e.firstParallel=n;class s{constructor(o){this._size=0,this.maxDegreeOfParalellism=o,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new q.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(o){return this._size++,new Promise((f,v)=>{this.outstandingPromises.push({factory:o,c:f,e:v}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const o=this.outstandingPromises.shift();this.runningPromises++;const f=o.factory();f.then(o.c,o.e),f.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=s;class u extends s{constructor(){super(1)}}e.Queue=u;class w{constructor(){this.queues=new Map}queueFor(o,f=$.extUri){const v=f.getComparisonKey(o);let k=this.queues.get(v);return k||(k=new u,q.Event.once(k.onFinished)(()=>{k?.dispose(),this.queues.delete(v)}),this.queues.set(v,k)),k}dispose(){this.queues.forEach(o=>o.dispose()),this.queues.clear()}}e.ResourceQueue=w;class A{constructor(o,f){this._token=-1,typeof o=="function"&&typeof f=="number"&&this.setIfNotSet(o,f)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(o,f){this.cancel(),this._token=setTimeout(()=>{this._token=-1,o()},f)}setIfNotSet(o,f){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,o()},f))}}e.TimeoutTimer=A;class P{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(o,f){this.cancel(),this._token=setInterval(()=>{o()},f)}}e.IntervalTimer=P;class I{constructor(o,f){this.timeoutToken=-1,this.runner=o,this.timeout=f,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(o=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,o)}get delay(){return this.timeout}set delay(o){this.timeout=o}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=I;class j{constructor(o,f){f%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${f}ms is not a multiple of 1000ms.`),this.runner=o,this.timeout=f,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(o=this.timeout){o%1e3!=0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${o}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(o/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner&&this.runner())}}e.ProcessTimeRunOnceScheduler=j;class W extends I{constructor(o,f){super(o,f);this.units=[]}work(o){this.units.push(o),this.isScheduled()||this.schedule()}doRun(){const o=this.units;this.units=[],this.runner&&this.runner(o)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=W;class Q extends L.Disposable{constructor(o,f,v,k){super();this.maxWorkChunkSize=o,this.maxPendingWork=f,this.throttleDelay=v,this.handler=k,this.pendingWork=[],this.throttler=this._register(new L.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(o){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+o.length>this.maxPendingWork)return!1}else if(this.pending+o.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...o),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new I(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=Q,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=T=>{(0,y.setTimeout0)(()=>{if(o)return;const f=Date.now()+3;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,f-Date.now())}}))});let o=!1;return{dispose(){o||(o=!0)}}}:e.runWhenIdle=(T,o)=>{const f=requestIdleCallback(T,typeof o=="number"?{timeout:o}:void 0);let v=!1;return{dispose(){v||(v=!0,cancelIdleCallback(f))}}}}();class G{constructor(o){this._didRun=!1,this._executor=()=>{try{this._value=o()}catch(f){this._error=f}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=G;async function J(T,o,f){let v;for(let k=0;k<f;k++)try{return await T()}catch(U){v=U,await c(o)}throw v}e.retry=J;class X{hasPending(o){return this._pending?typeof o=="number"?this._pending.taskId===o:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(o,f,v){return this._pending={taskId:o,cancel:()=>v?.(),promise:f},f.then(()=>this.donePending(o),()=>this.donePending(o)),f}donePending(o){this._pending&&o===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const o=this._next;this._next=void 0,o.run().then(o.promiseResolve,o.promiseReject)}}setNext(o){if(this._next)this._next.run=o;else{let f,v;const k=new Promise((U,M)=>{f=U,v=M});this._next={run:o,promise:k,promiseResolve:f,promiseReject:v}}return this._next.promise}}e.TaskSequentializer=X;class p{constructor(o,f=()=>Date.now()){this.interval=o,this.nowFn=f,this.lastIncrementTime=0,this.value=0}increment(){const o=this.nowFn();return o-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=o,this.value=0),this.value++,this.value}}e.IntervalCounter=p;class x{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((o,f)=>{this.completeCallback=o,this.errorCallback=f})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(o){return new Promise(f=>{this.completeCallback(o),this.resolved=!0,f()})}error(o){return new Promise(f=>{this.errorCallback(o),this.rejected=!0,f()})}cancel(){new Promise(o=>{this.errorCallback((0,O.canceled)()),this.rejected=!0,o()})}}e.DeferredPromise=x;var ee;(function(T){async function o(v){let k;const U=await Promise.all(v.map(M=>M.then(F=>F,F=>{k||(k=F)})));if(typeof k!="undefined")throw k;return U}T.settled=o;function f(v){return new Promise(async(k,U)=>{try{await v(k,U)}catch(M){U(M)}})}T.withAsyncBody=f})(ee=e.Promises||(e.Promises={}));var Z;(function(T){T[T.Initial=0]="Initial",T[T.DoneOK=1]="DoneOK",T[T.DoneError=2]="DoneError"})(Z||(Z={}));class N{constructor(o){this._state=0,this._results=[],this._error=null,this._onStateChanged=new q.Emitter,queueMicrotask(async()=>{const f={emitOne:v=>this.emitOne(v),emitMany:v=>this.emitMany(v),reject:v=>this.reject(v)};try{await Promise.resolve(o(f)),this.resolve()}catch(v){this.reject(v)}finally{f.emitOne=void 0,f.emitMany=void 0,f.reject=void 0}})}static fromArray(o){return new N(f=>{f.emitMany(o)})}static fromPromise(o){return new N(async f=>{f.emitMany(await o)})}static fromPromises(o){return new N(async f=>{await Promise.all(o.map(async v=>f.emitOne(await v)))})}static merge(o){return new N(async f=>{await Promise.all(o.map(async v=>{for await(const k of v)f.emitOne(k)}))})}[Symbol.asyncIterator](){let o=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(o<this._results.length)return{done:!1,value:this._results[o++]};if(this._state===1)return{done:!0,value:void 0};await q.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(o,f){return new N(async v=>{for await(const k of o)v.emitOne(f(k))})}map(o){return N.map(this,o)}static filter(o,f){return new N(async v=>{for await(const k of o)f(k)&&v.emitOne(k)})}filter(o){return N.filter(this,o)}static coalesce(o){return N.filter(o,f=>!!f)}coalesce(){return N.coalesce(this)}static async toPromise(o){const f=[];for await(const v of o)f.push(v);return f}toPromise(){return N.toPromise(this)}emitOne(o){this._state===0&&(this._results.push(o),this._onStateChanged.fire())}emitMany(o){this._state===0&&(this._results=this._results.concat(o),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(o){this._state===0&&(this._state=2,this._error=o,this._onStateChanged.fire())}}e.AsyncIterableObject=N,N.EMPTY=N.fromArray([]);class Y extends N{constructor(o,f){super(f);this._source=o}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=Y;function te(T){const o=new _.CancellationTokenSource,f=T(o.token);return new Y(o,async v=>{const k=o.token.onCancellationRequested(()=>{k.dispose(),o.dispose(),v.reject((0,O.canceled)())});try{for await(const U of f){if(o.token.isCancellationRequested)return;v.emitOne(U)}k.dispose(),o.dispose()}catch(U){k.dispose(),o.dispose(),v.reject(U)}})}e.createCancelableAsyncIterable=te}),define(K[17],B([0,1,15,16,5,18,7,19,2,12,4,20,14]),function(z,e,_,O,q,L,$,y,b,S,E,D,H){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.ExtensionHostStarter=void 0;class R extends O.Disposable{constructor(d,C){super();this.id=d,this._host=C,this._onStdout=this._register(new q.Emitter),this.onStdout=this._onStdout.event,this._onStderr=this._register(new q.Emitter),this.onStderr=this._onStderr.event,this._onMessage=this._register(new q.Emitter),this.onMessage=this._onMessage.event,this._onError=this._register(new q.Emitter),this.onError=this._onError.event,this._onExit=this._register(new q.Emitter),this.onExit=this._onExit.event,this._process=null,this._hasExited=!1}start(d){const C=D.StopWatch.create(!1);this._process=(0,L.fork)($.FileAccess.asFileUri("bootstrap-fork",z).fsPath,["--type=extensionHost","--skipWorkspaceStorageLock"],(0,S.mixin)({cwd:(0,E.cwd)()},d));const i=C.elapsed(),r=this._process.pid;this._host.logInfo(`Starting extension host with pid ${r} (fork() took ${i} ms).`);const c=new y.StringDecoder("utf-8");this._process.stdout?.on("data",h=>{const t=typeof h=="string"?h:c.write(h);this._onStdout.fire(t)});const g=new y.StringDecoder("utf-8");return this._process.stderr?.on("data",h=>{const t=typeof h=="string"?h:g.write(h);this._onStderr.fire(t)}),this._process.on("message",h=>{this._onMessage.fire(h)}),this._process.on("error",h=>{this._onError.fire({error:(0,_.transformErrorForSerialization)(h)})}),this._process.on("exit",(h,t)=>{this._hasExited=!0,this._onExit.fire({pid:r,code:h,signal:t})}),{pid:r}}enableInspectPort(){return this._process?(this._host.logInfo(`Enabling inspect port on extension host with pid ${this._process.pid}.`),typeof process._debugProcess=="function"?(process._debugProcess(this._process.pid),!0):b.isWindows?!1:(this._process.kill("SIGUSR1"),!0)):!1}kill(){!this._process||(this._host.logInfo(`Killing extension host with pid ${this._process.pid}.`),this._process.kill())}async waitForExit(d){if(!this._process)return;const C=this._process.pid;this._host.logInfo(`Waiting for extension host with pid ${C} to exit.`),await Promise.race([q.Event.toPromise(this.onExit),(0,H.timeout)(d)]),this._hasExited||(this._host.logInfo(`Extension host with pid ${C} did not exit within ${d}ms.`),this._process.kill())}}class l{constructor(d){this._host=d,this._extHosts=new Map}dispose(){}_getExtHost(d){const C=this._extHosts.get(d);if(!C)throw new Error("Unknown extension host!");return C}onDynamicStdout(d){return this._getExtHost(d).onStdout}onDynamicStderr(d){return this._getExtHost(d).onStderr}onDynamicMessage(d){return this._getExtHost(d).onMessage}onDynamicError(d){return this._getExtHost(d).onError}onDynamicExit(d){return this._getExtHost(d).onExit}async createExtensionHost(){const d=String(++l._lastId),C=new R(d,this._host);return this._extHosts.set(d,C),C.onExit(({pid:i,code:r,signal:c})=>{this._host.logInfo(`Extension host with pid ${i} exited with code: ${r}, signal: ${c}.`),setTimeout(()=>{C.dispose(),this._extHosts.delete(d)})}),{id:d}}async start(d,C){return this._getExtHost(d).start(C)}async enableInspectPort(d){const C=this._extHosts.get(d);return C?C.enableInspectPort():!1}async kill(d){const C=this._extHosts.get(d);!C||C.kill()}async killAllNow(){for(const[,d]of this._extHosts)d.kill()}async waitForAllExit(d){const C=[];for(const[,i]of this._extHosts)C.push(i.waitForExit(d));return H.Promises.settled(C).then(()=>{})}}e.ExtensionHostStarter=l,l._lastId=0;function a(m){return new l(m)}e.create=a})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/899d46d82c4c95423fb7e10e68eba52050e30ba3/core/vs/platform/extensions/node/extensionHostStarterWorker.js.map
